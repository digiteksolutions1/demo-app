(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))r(l);new MutationObserver(l=>{for(const o of l)if(o.type==="childList")for(const u of o.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&r(u)}).observe(document,{childList:!0,subtree:!0});function t(l){const o={};return l.integrity&&(o.integrity=l.integrity),l.referrerPolicy&&(o.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?o.credentials="include":l.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(l){if(l.ep)return;l.ep=!0;const o=t(l);fetch(l.href,o)}})();function qS(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Mh={exports:{}},Co={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vb;function $T(){if(Vb)return Co;Vb=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(r,l,o){var u=null;if(o!==void 0&&(u=""+o),l.key!==void 0&&(u=""+l.key),"key"in l){o={};for(var f in l)f!=="key"&&(o[f]=l[f])}else o=l;return l=o.ref,{$$typeof:n,type:r,key:u,ref:l!==void 0?l:null,props:o}}return Co.Fragment=e,Co.jsx=t,Co.jsxs=t,Co}var qb;function KT(){return qb||(qb=1,Mh.exports=$T()),Mh.exports}var k=KT(),Nh={exports:{}},me={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ib;function GT(){if(Ib)return me;Ib=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),u=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),y=Symbol.iterator;function b(M){return M===null||typeof M!="object"?null:(M=y&&M[y]||M["@@iterator"],typeof M=="function"?M:null)}var v={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S=Object.assign,T={};function C(M,F,Z){this.props=M,this.context=F,this.refs=T,this.updater=Z||v}C.prototype.isReactComponent={},C.prototype.setState=function(M,F){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,F,"setState")},C.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function A(){}A.prototype=C.prototype;function O(M,F,Z){this.props=M,this.context=F,this.refs=T,this.updater=Z||v}var _=O.prototype=new A;_.constructor=O,S(_,C.prototype),_.isPureReactComponent=!0;var G=Array.isArray,q={H:null,A:null,T:null,S:null,V:null},J=Object.prototype.hasOwnProperty;function re(M,F,Z,X,le,Ae){return Z=Ae.ref,{$$typeof:n,type:M,key:F,ref:Z!==void 0?Z:null,props:Ae}}function ce(M,F){return re(M.type,F,void 0,void 0,void 0,M.props)}function W(M){return typeof M=="object"&&M!==null&&M.$$typeof===n}function Me(M){var F={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function(Z){return F[Z]})}var Je=/\/+/g;function Fe(M,F){return typeof M=="object"&&M!==null&&M.key!=null?Me(""+M.key):F.toString(36)}function nn(){}function rn(M){switch(M.status){case"fulfilled":return M.value;case"rejected":throw M.reason;default:switch(typeof M.status=="string"?M.then(nn,nn):(M.status="pending",M.then(function(F){M.status==="pending"&&(M.status="fulfilled",M.value=F)},function(F){M.status==="pending"&&(M.status="rejected",M.reason=F)})),M.status){case"fulfilled":return M.value;case"rejected":throw M.reason}}throw M}function Ge(M,F,Z,X,le){var Ae=typeof M;(Ae==="undefined"||Ae==="boolean")&&(M=null);var de=!1;if(M===null)de=!0;else switch(Ae){case"bigint":case"string":case"number":de=!0;break;case"object":switch(M.$$typeof){case n:case e:de=!0;break;case m:return de=M._init,Ge(de(M._payload),F,Z,X,le)}}if(de)return le=le(M),de=X===""?"."+Fe(M,0):X,G(le)?(Z="",de!=null&&(Z=de.replace(Je,"$&/")+"/"),Ge(le,F,Z,"",function(qn){return qn})):le!=null&&(W(le)&&(le=ce(le,Z+(le.key==null||M&&M.key===le.key?"":(""+le.key).replace(Je,"$&/")+"/")+de)),F.push(le)),1;de=0;var zt=X===""?".":X+":";if(G(M))for(var Ue=0;Ue<M.length;Ue++)X=M[Ue],Ae=zt+Fe(X,Ue),de+=Ge(X,F,Z,Ae,le);else if(Ue=b(M),typeof Ue=="function")for(M=Ue.call(M),Ue=0;!(X=M.next()).done;)X=X.value,Ae=zt+Fe(X,Ue++),de+=Ge(X,F,Z,Ae,le);else if(Ae==="object"){if(typeof M.then=="function")return Ge(rn(M),F,Z,X,le);throw F=String(M),Error("Objects are not valid as a React child (found: "+(F==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":F)+"). If you meant to render a collection of children, use an array instead.")}return de}function H(M,F,Z){if(M==null)return M;var X=[],le=0;return Ge(M,X,"","",function(Ae){return F.call(Z,Ae,le++)}),X}function Y(M){if(M._status===-1){var F=M._result;F=F(),F.then(function(Z){(M._status===0||M._status===-1)&&(M._status=1,M._result=Z)},function(Z){(M._status===0||M._status===-1)&&(M._status=2,M._result=Z)}),M._status===-1&&(M._status=0,M._result=F)}if(M._status===1)return M._result.default;throw M._result}var oe=typeof reportError=="function"?reportError:function(M){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var F=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof M=="object"&&M!==null&&typeof M.message=="string"?String(M.message):String(M),error:M});if(!window.dispatchEvent(F))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",M);return}console.error(M)};function Re(){}return me.Children={map:H,forEach:function(M,F,Z){H(M,function(){F.apply(this,arguments)},Z)},count:function(M){var F=0;return H(M,function(){F++}),F},toArray:function(M){return H(M,function(F){return F})||[]},only:function(M){if(!W(M))throw Error("React.Children.only expected to receive a single React element child.");return M}},me.Component=C,me.Fragment=t,me.Profiler=l,me.PureComponent=O,me.StrictMode=r,me.Suspense=d,me.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=q,me.__COMPILER_RUNTIME={__proto__:null,c:function(M){return q.H.useMemoCache(M)}},me.cache=function(M){return function(){return M.apply(null,arguments)}},me.cloneElement=function(M,F,Z){if(M==null)throw Error("The argument must be a React element, but you passed "+M+".");var X=S({},M.props),le=M.key,Ae=void 0;if(F!=null)for(de in F.ref!==void 0&&(Ae=void 0),F.key!==void 0&&(le=""+F.key),F)!J.call(F,de)||de==="key"||de==="__self"||de==="__source"||de==="ref"&&F.ref===void 0||(X[de]=F[de]);var de=arguments.length-2;if(de===1)X.children=Z;else if(1<de){for(var zt=Array(de),Ue=0;Ue<de;Ue++)zt[Ue]=arguments[Ue+2];X.children=zt}return re(M.type,le,void 0,void 0,Ae,X)},me.createContext=function(M){return M={$$typeof:u,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null},M.Provider=M,M.Consumer={$$typeof:o,_context:M},M},me.createElement=function(M,F,Z){var X,le={},Ae=null;if(F!=null)for(X in F.key!==void 0&&(Ae=""+F.key),F)J.call(F,X)&&X!=="key"&&X!=="__self"&&X!=="__source"&&(le[X]=F[X]);var de=arguments.length-2;if(de===1)le.children=Z;else if(1<de){for(var zt=Array(de),Ue=0;Ue<de;Ue++)zt[Ue]=arguments[Ue+2];le.children=zt}if(M&&M.defaultProps)for(X in de=M.defaultProps,de)le[X]===void 0&&(le[X]=de[X]);return re(M,Ae,void 0,void 0,null,le)},me.createRef=function(){return{current:null}},me.forwardRef=function(M){return{$$typeof:f,render:M}},me.isValidElement=W,me.lazy=function(M){return{$$typeof:m,_payload:{_status:-1,_result:M},_init:Y}},me.memo=function(M,F){return{$$typeof:h,type:M,compare:F===void 0?null:F}},me.startTransition=function(M){var F=q.T,Z={};q.T=Z;try{var X=M(),le=q.S;le!==null&&le(Z,X),typeof X=="object"&&X!==null&&typeof X.then=="function"&&X.then(Re,oe)}catch(Ae){oe(Ae)}finally{q.T=F}},me.unstable_useCacheRefresh=function(){return q.H.useCacheRefresh()},me.use=function(M){return q.H.use(M)},me.useActionState=function(M,F,Z){return q.H.useActionState(M,F,Z)},me.useCallback=function(M,F){return q.H.useCallback(M,F)},me.useContext=function(M){return q.H.useContext(M)},me.useDebugValue=function(){},me.useDeferredValue=function(M,F){return q.H.useDeferredValue(M,F)},me.useEffect=function(M,F,Z){var X=q.H;if(typeof Z=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return X.useEffect(M,F)},me.useId=function(){return q.H.useId()},me.useImperativeHandle=function(M,F,Z){return q.H.useImperativeHandle(M,F,Z)},me.useInsertionEffect=function(M,F){return q.H.useInsertionEffect(M,F)},me.useLayoutEffect=function(M,F){return q.H.useLayoutEffect(M,F)},me.useMemo=function(M,F){return q.H.useMemo(M,F)},me.useOptimistic=function(M,F){return q.H.useOptimistic(M,F)},me.useReducer=function(M,F,Z){return q.H.useReducer(M,F,Z)},me.useRef=function(M){return q.H.useRef(M)},me.useState=function(M){return q.H.useState(M)},me.useSyncExternalStore=function(M,F,Z){return q.H.useSyncExternalStore(M,F,Z)},me.useTransition=function(){return q.H.useTransition()},me.version="19.1.0",me}var Fb;function tm(){return Fb||(Fb=1,Nh.exports=GT()),Nh.exports}var R=tm();const Vt=qS(R);var Rh={exports:{}},Eo={},Dh={exports:{}},zh={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $b;function YT(){return $b||($b=1,function(n){function e(H,Y){var oe=H.length;H.push(Y);e:for(;0<oe;){var Re=oe-1>>>1,M=H[Re];if(0<l(M,Y))H[Re]=Y,H[oe]=M,oe=Re;else break e}}function t(H){return H.length===0?null:H[0]}function r(H){if(H.length===0)return null;var Y=H[0],oe=H.pop();if(oe!==Y){H[0]=oe;e:for(var Re=0,M=H.length,F=M>>>1;Re<F;){var Z=2*(Re+1)-1,X=H[Z],le=Z+1,Ae=H[le];if(0>l(X,oe))le<M&&0>l(Ae,X)?(H[Re]=Ae,H[le]=oe,Re=le):(H[Re]=X,H[Z]=oe,Re=Z);else if(le<M&&0>l(Ae,oe))H[Re]=Ae,H[le]=oe,Re=le;else break e}}return Y}function l(H,Y){var oe=H.sortIndex-Y.sortIndex;return oe!==0?oe:H.id-Y.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;n.unstable_now=function(){return o.now()}}else{var u=Date,f=u.now();n.unstable_now=function(){return u.now()-f}}var d=[],h=[],m=1,y=null,b=3,v=!1,S=!1,T=!1,C=!1,A=typeof setTimeout=="function"?setTimeout:null,O=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;function G(H){for(var Y=t(h);Y!==null;){if(Y.callback===null)r(h);else if(Y.startTime<=H)r(h),Y.sortIndex=Y.expirationTime,e(d,Y);else break;Y=t(h)}}function q(H){if(T=!1,G(H),!S)if(t(d)!==null)S=!0,J||(J=!0,Fe());else{var Y=t(h);Y!==null&&Ge(q,Y.startTime-H)}}var J=!1,re=-1,ce=5,W=-1;function Me(){return C?!0:!(n.unstable_now()-W<ce)}function Je(){if(C=!1,J){var H=n.unstable_now();W=H;var Y=!0;try{e:{S=!1,T&&(T=!1,O(re),re=-1),v=!0;var oe=b;try{t:{for(G(H),y=t(d);y!==null&&!(y.expirationTime>H&&Me());){var Re=y.callback;if(typeof Re=="function"){y.callback=null,b=y.priorityLevel;var M=Re(y.expirationTime<=H);if(H=n.unstable_now(),typeof M=="function"){y.callback=M,G(H),Y=!0;break t}y===t(d)&&r(d),G(H)}else r(d);y=t(d)}if(y!==null)Y=!0;else{var F=t(h);F!==null&&Ge(q,F.startTime-H),Y=!1}}break e}finally{y=null,b=oe,v=!1}Y=void 0}}finally{Y?Fe():J=!1}}}var Fe;if(typeof _=="function")Fe=function(){_(Je)};else if(typeof MessageChannel<"u"){var nn=new MessageChannel,rn=nn.port2;nn.port1.onmessage=Je,Fe=function(){rn.postMessage(null)}}else Fe=function(){A(Je,0)};function Ge(H,Y){re=A(function(){H(n.unstable_now())},Y)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(H){H.callback=null},n.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ce=0<H?Math.floor(1e3/H):5},n.unstable_getCurrentPriorityLevel=function(){return b},n.unstable_next=function(H){switch(b){case 1:case 2:case 3:var Y=3;break;default:Y=b}var oe=b;b=Y;try{return H()}finally{b=oe}},n.unstable_requestPaint=function(){C=!0},n.unstable_runWithPriority=function(H,Y){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var oe=b;b=H;try{return Y()}finally{b=oe}},n.unstable_scheduleCallback=function(H,Y,oe){var Re=n.unstable_now();switch(typeof oe=="object"&&oe!==null?(oe=oe.delay,oe=typeof oe=="number"&&0<oe?Re+oe:Re):oe=Re,H){case 1:var M=-1;break;case 2:M=250;break;case 5:M=1073741823;break;case 4:M=1e4;break;default:M=5e3}return M=oe+M,H={id:m++,callback:Y,priorityLevel:H,startTime:oe,expirationTime:M,sortIndex:-1},oe>Re?(H.sortIndex=oe,e(h,H),t(d)===null&&H===t(h)&&(T?(O(re),re=-1):T=!0,Ge(q,oe-Re))):(H.sortIndex=M,e(d,H),S||v||(S=!0,J||(J=!0,Fe()))),H},n.unstable_shouldYield=Me,n.unstable_wrapCallback=function(H){var Y=b;return function(){var oe=b;b=Y;try{return H.apply(this,arguments)}finally{b=oe}}}}(zh)),zh}var Kb;function JT(){return Kb||(Kb=1,Dh.exports=YT()),Dh.exports}var Bh={exports:{}},wt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gb;function XT(){if(Gb)return wt;Gb=1;var n=tm();function e(d){var h="https://react.dev/errors/"+d;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var m=2;m<arguments.length;m++)h+="&args[]="+encodeURIComponent(arguments[m])}return"Minified React error #"+d+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var r={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},l=Symbol.for("react.portal");function o(d,h,m){var y=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:y==null?null:""+y,children:d,containerInfo:h,implementation:m}}var u=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function f(d,h){if(d==="font")return"";if(typeof h=="string")return h==="use-credentials"?h:""}return wt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,wt.createPortal=function(d,h){var m=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)throw Error(e(299));return o(d,h,null,m)},wt.flushSync=function(d){var h=u.T,m=r.p;try{if(u.T=null,r.p=2,d)return d()}finally{u.T=h,r.p=m,r.d.f()}},wt.preconnect=function(d,h){typeof d=="string"&&(h?(h=h.crossOrigin,h=typeof h=="string"?h==="use-credentials"?h:"":void 0):h=null,r.d.C(d,h))},wt.prefetchDNS=function(d){typeof d=="string"&&r.d.D(d)},wt.preinit=function(d,h){if(typeof d=="string"&&h&&typeof h.as=="string"){var m=h.as,y=f(m,h.crossOrigin),b=typeof h.integrity=="string"?h.integrity:void 0,v=typeof h.fetchPriority=="string"?h.fetchPriority:void 0;m==="style"?r.d.S(d,typeof h.precedence=="string"?h.precedence:void 0,{crossOrigin:y,integrity:b,fetchPriority:v}):m==="script"&&r.d.X(d,{crossOrigin:y,integrity:b,fetchPriority:v,nonce:typeof h.nonce=="string"?h.nonce:void 0})}},wt.preinitModule=function(d,h){if(typeof d=="string")if(typeof h=="object"&&h!==null){if(h.as==null||h.as==="script"){var m=f(h.as,h.crossOrigin);r.d.M(d,{crossOrigin:m,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0})}}else h==null&&r.d.M(d)},wt.preload=function(d,h){if(typeof d=="string"&&typeof h=="object"&&h!==null&&typeof h.as=="string"){var m=h.as,y=f(m,h.crossOrigin);r.d.L(d,m,{crossOrigin:y,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0,type:typeof h.type=="string"?h.type:void 0,fetchPriority:typeof h.fetchPriority=="string"?h.fetchPriority:void 0,referrerPolicy:typeof h.referrerPolicy=="string"?h.referrerPolicy:void 0,imageSrcSet:typeof h.imageSrcSet=="string"?h.imageSrcSet:void 0,imageSizes:typeof h.imageSizes=="string"?h.imageSizes:void 0,media:typeof h.media=="string"?h.media:void 0})}},wt.preloadModule=function(d,h){if(typeof d=="string")if(h){var m=f(h.as,h.crossOrigin);r.d.m(d,{as:typeof h.as=="string"&&h.as!=="script"?h.as:void 0,crossOrigin:m,integrity:typeof h.integrity=="string"?h.integrity:void 0})}else r.d.m(d)},wt.requestFormReset=function(d){r.d.r(d)},wt.unstable_batchedUpdates=function(d,h){return d(h)},wt.useFormState=function(d,h,m){return u.H.useFormState(d,h,m)},wt.useFormStatus=function(){return u.H.useHostTransitionStatus()},wt.version="19.1.0",wt}var Yb;function IS(){if(Yb)return Bh.exports;Yb=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Bh.exports=XT(),Bh.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Jb;function QT(){if(Jb)return Eo;Jb=1;var n=JT(),e=tm(),t=IS();function r(i){var s="https://react.dev/errors/"+i;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)s+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+i+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function o(i){var s=i,a=i;if(i.alternate)for(;s.return;)s=s.return;else{i=s;do s=i,(s.flags&4098)!==0&&(a=s.return),i=s.return;while(i)}return s.tag===3?a:null}function u(i){if(i.tag===13){var s=i.memoizedState;if(s===null&&(i=i.alternate,i!==null&&(s=i.memoizedState)),s!==null)return s.dehydrated}return null}function f(i){if(o(i)!==i)throw Error(r(188))}function d(i){var s=i.alternate;if(!s){if(s=o(i),s===null)throw Error(r(188));return s!==i?null:i}for(var a=i,c=s;;){var p=a.return;if(p===null)break;var g=p.alternate;if(g===null){if(c=p.return,c!==null){a=c;continue}break}if(p.child===g.child){for(g=p.child;g;){if(g===a)return f(p),i;if(g===c)return f(p),s;g=g.sibling}throw Error(r(188))}if(a.return!==c.return)a=p,c=g;else{for(var x=!1,E=p.child;E;){if(E===a){x=!0,a=p,c=g;break}if(E===c){x=!0,c=p,a=g;break}E=E.sibling}if(!x){for(E=g.child;E;){if(E===a){x=!0,a=g,c=p;break}if(E===c){x=!0,c=g,a=p;break}E=E.sibling}if(!x)throw Error(r(189))}}if(a.alternate!==c)throw Error(r(190))}if(a.tag!==3)throw Error(r(188));return a.stateNode.current===a?i:s}function h(i){var s=i.tag;if(s===5||s===26||s===27||s===6)return i;for(i=i.child;i!==null;){if(s=h(i),s!==null)return s;i=i.sibling}return null}var m=Object.assign,y=Symbol.for("react.element"),b=Symbol.for("react.transitional.element"),v=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),T=Symbol.for("react.strict_mode"),C=Symbol.for("react.profiler"),A=Symbol.for("react.provider"),O=Symbol.for("react.consumer"),_=Symbol.for("react.context"),G=Symbol.for("react.forward_ref"),q=Symbol.for("react.suspense"),J=Symbol.for("react.suspense_list"),re=Symbol.for("react.memo"),ce=Symbol.for("react.lazy"),W=Symbol.for("react.activity"),Me=Symbol.for("react.memo_cache_sentinel"),Je=Symbol.iterator;function Fe(i){return i===null||typeof i!="object"?null:(i=Je&&i[Je]||i["@@iterator"],typeof i=="function"?i:null)}var nn=Symbol.for("react.client.reference");function rn(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===nn?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case S:return"Fragment";case C:return"Profiler";case T:return"StrictMode";case q:return"Suspense";case J:return"SuspenseList";case W:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case v:return"Portal";case _:return(i.displayName||"Context")+".Provider";case O:return(i._context.displayName||"Context")+".Consumer";case G:var s=i.render;return i=i.displayName,i||(i=s.displayName||s.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case re:return s=i.displayName||null,s!==null?s:rn(i.type)||"Memo";case ce:s=i._payload,i=i._init;try{return rn(i(s))}catch{}}return null}var Ge=Array.isArray,H=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Y=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,oe={pending:!1,data:null,method:null,action:null},Re=[],M=-1;function F(i){return{current:i}}function Z(i){0>M||(i.current=Re[M],Re[M]=null,M--)}function X(i,s){M++,Re[M]=i.current,i.current=s}var le=F(null),Ae=F(null),de=F(null),zt=F(null);function Ue(i,s){switch(X(de,s),X(Ae,i),X(le,null),s.nodeType){case 9:case 11:i=(i=s.documentElement)&&(i=i.namespaceURI)?mb(i):0;break;default:if(i=s.tagName,s=s.namespaceURI)s=mb(s),i=gb(s,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}Z(le),X(le,i)}function qn(){Z(le),Z(Ae),Z(de)}function Cs(i){i.memoizedState!==null&&X(zt,i);var s=le.current,a=gb(s,i.type);s!==a&&(X(Ae,i),X(le,a))}function hl(i){Ae.current===i&&(Z(le),Z(Ae)),zt.current===i&&(Z(zt),yo._currentValue=oe)}var Es=Object.prototype.hasOwnProperty,Ts=n.unstable_scheduleCallback,ks=n.unstable_cancelCallback,ff=n.unstable_shouldYield,df=n.unstable_requestPaint,yn=n.unstable_now,hf=n.unstable_getCurrentPriorityLevel,fa=n.unstable_ImmediatePriority,da=n.unstable_UserBlockingPriority,pl=n.unstable_NormalPriority,pf=n.unstable_LowPriority,ha=n.unstable_IdlePriority,mf=n.log,gf=n.unstable_setDisableYieldValue,ki=null,Bt=null;function In(i){if(typeof mf=="function"&&gf(i),Bt&&typeof Bt.setStrictMode=="function")try{Bt.setStrictMode(ki,i)}catch{}}var Lt=Math.clz32?Math.clz32:jt,yf=Math.log,et=Math.LN2;function jt(i){return i>>>=0,i===0?32:31-(yf(i)/et|0)|0}var Be=256,ke=4194304;function _t(i){var s=i&42;if(s!==0)return s;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function Ai(i,s,a){var c=i.pendingLanes;if(c===0)return 0;var p=0,g=i.suspendedLanes,x=i.pingedLanes;i=i.warmLanes;var E=c&134217727;return E!==0?(c=E&~g,c!==0?p=_t(c):(x&=E,x!==0?p=_t(x):a||(a=E&~i,a!==0&&(p=_t(a))))):(E=c&~g,E!==0?p=_t(E):x!==0?p=_t(x):a||(a=c&~i,a!==0&&(p=_t(a)))),p===0?0:s!==0&&s!==p&&(s&g)===0&&(g=p&-p,a=s&-s,g>=a||g===32&&(a&4194048)!==0)?s:p}function ve(i,s){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&s)===0}function Ce(i,s){switch(i){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Zm(){var i=Be;return Be<<=1,(Be&4194048)===0&&(Be=256),i}function Wm(){var i=ke;return ke<<=1,(ke&62914560)===0&&(ke=4194304),i}function bf(i){for(var s=[],a=0;31>a;a++)s.push(i);return s}function As(i,s){i.pendingLanes|=s,s!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function zC(i,s,a,c,p,g){var x=i.pendingLanes;i.pendingLanes=a,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=a,i.entangledLanes&=a,i.errorRecoveryDisabledLanes&=a,i.shellSuspendCounter=0;var E=i.entanglements,w=i.expirationTimes,B=i.hiddenUpdates;for(a=x&~a;0<a;){var U=31-Lt(a),I=1<<U;E[U]=0,w[U]=-1;var L=B[U];if(L!==null)for(B[U]=null,U=0;U<L.length;U++){var j=L[U];j!==null&&(j.lane&=-536870913)}a&=~I}c!==0&&eg(i,c,0),g!==0&&p===0&&i.tag!==0&&(i.suspendedLanes|=g&~(x&~s))}function eg(i,s,a){i.pendingLanes|=s,i.suspendedLanes&=~s;var c=31-Lt(s);i.entangledLanes|=s,i.entanglements[c]=i.entanglements[c]|1073741824|a&4194090}function tg(i,s){var a=i.entangledLanes|=s;for(i=i.entanglements;a;){var c=31-Lt(a),p=1<<c;p&s|i[c]&s&&(i[c]|=s),a&=~p}}function Sf(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function vf(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function ng(){var i=Y.p;return i!==0?i:(i=window.event,i===void 0?32:Lb(i.type))}function BC(i,s){var a=Y.p;try{return Y.p=i,s()}finally{Y.p=a}}var zr=Math.random().toString(36).slice(2),kt="__reactFiber$"+zr,Gt="__reactProps$"+zr,ml="__reactContainer$"+zr,xf="__reactEvents$"+zr,LC="__reactListeners$"+zr,jC="__reactHandles$"+zr,rg="__reactResources$"+zr,ws="__reactMarker$"+zr;function Cf(i){delete i[kt],delete i[Gt],delete i[xf],delete i[LC],delete i[jC]}function gl(i){var s=i[kt];if(s)return s;for(var a=i.parentNode;a;){if(s=a[ml]||a[kt]){if(a=s.alternate,s.child!==null||a!==null&&a.child!==null)for(i=vb(i);i!==null;){if(a=i[kt])return a;i=vb(i)}return s}i=a,a=i.parentNode}return null}function yl(i){if(i=i[kt]||i[ml]){var s=i.tag;if(s===5||s===6||s===13||s===26||s===27||s===3)return i}return null}function Os(i){var s=i.tag;if(s===5||s===26||s===27||s===6)return i.stateNode;throw Error(r(33))}function bl(i){var s=i[rg];return s||(s=i[rg]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function ut(i){i[ws]=!0}var ig=new Set,lg={};function wi(i,s){Sl(i,s),Sl(i+"Capture",s)}function Sl(i,s){for(lg[i]=s,i=0;i<s.length;i++)ig.add(s[i])}var _C=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),sg={},og={};function PC(i){return Es.call(og,i)?!0:Es.call(sg,i)?!1:_C.test(i)?og[i]=!0:(sg[i]=!0,!1)}function pa(i,s,a){if(PC(s))if(a===null)i.removeAttribute(s);else{switch(typeof a){case"undefined":case"function":case"symbol":i.removeAttribute(s);return;case"boolean":var c=s.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){i.removeAttribute(s);return}}i.setAttribute(s,""+a)}}function ma(i,s,a){if(a===null)i.removeAttribute(s);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(s);return}i.setAttribute(s,""+a)}}function ir(i,s,a,c){if(c===null)i.removeAttribute(a);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(a);return}i.setAttributeNS(s,a,""+c)}}var Ef,ag;function vl(i){if(Ef===void 0)try{throw Error()}catch(a){var s=a.stack.trim().match(/\n( *(at )?)/);Ef=s&&s[1]||"",ag=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ef+i+ag}var Tf=!1;function kf(i,s){if(!i||Tf)return"";Tf=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(s){var I=function(){throw Error()};if(Object.defineProperty(I.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(I,[])}catch(j){var L=j}Reflect.construct(i,[],I)}else{try{I.call()}catch(j){L=j}i.call(I.prototype)}}else{try{throw Error()}catch(j){L=j}(I=i())&&typeof I.catch=="function"&&I.catch(function(){})}}catch(j){if(j&&L&&typeof j.stack=="string")return[j.stack,L.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var p=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");p&&p.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var g=c.DetermineComponentFrameRoot(),x=g[0],E=g[1];if(x&&E){var w=x.split(`
`),B=E.split(`
`);for(p=c=0;c<w.length&&!w[c].includes("DetermineComponentFrameRoot");)c++;for(;p<B.length&&!B[p].includes("DetermineComponentFrameRoot");)p++;if(c===w.length||p===B.length)for(c=w.length-1,p=B.length-1;1<=c&&0<=p&&w[c]!==B[p];)p--;for(;1<=c&&0<=p;c--,p--)if(w[c]!==B[p]){if(c!==1||p!==1)do if(c--,p--,0>p||w[c]!==B[p]){var U=`
`+w[c].replace(" at new "," at ");return i.displayName&&U.includes("<anonymous>")&&(U=U.replace("<anonymous>",i.displayName)),U}while(1<=c&&0<=p);break}}}finally{Tf=!1,Error.prepareStackTrace=a}return(a=i?i.displayName||i.name:"")?vl(a):""}function HC(i){switch(i.tag){case 26:case 27:case 5:return vl(i.type);case 16:return vl("Lazy");case 13:return vl("Suspense");case 19:return vl("SuspenseList");case 0:case 15:return kf(i.type,!1);case 11:return kf(i.type.render,!1);case 1:return kf(i.type,!0);case 31:return vl("Activity");default:return""}}function ug(i){try{var s="";do s+=HC(i),i=i.return;while(i);return s}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function bn(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function cg(i){var s=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function UC(i){var s=cg(i)?"checked":"value",a=Object.getOwnPropertyDescriptor(i.constructor.prototype,s),c=""+i[s];if(!i.hasOwnProperty(s)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var p=a.get,g=a.set;return Object.defineProperty(i,s,{configurable:!0,get:function(){return p.call(this)},set:function(x){c=""+x,g.call(this,x)}}),Object.defineProperty(i,s,{enumerable:a.enumerable}),{getValue:function(){return c},setValue:function(x){c=""+x},stopTracking:function(){i._valueTracker=null,delete i[s]}}}}function ga(i){i._valueTracker||(i._valueTracker=UC(i))}function fg(i){if(!i)return!1;var s=i._valueTracker;if(!s)return!0;var a=s.getValue(),c="";return i&&(c=cg(i)?i.checked?"true":"false":i.value),i=c,i!==a?(s.setValue(i),!0):!1}function ya(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var VC=/[\n"\\]/g;function Sn(i){return i.replace(VC,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function Af(i,s,a,c,p,g,x,E){i.name="",x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"?i.type=x:i.removeAttribute("type"),s!=null?x==="number"?(s===0&&i.value===""||i.value!=s)&&(i.value=""+bn(s)):i.value!==""+bn(s)&&(i.value=""+bn(s)):x!=="submit"&&x!=="reset"||i.removeAttribute("value"),s!=null?wf(i,x,bn(s)):a!=null?wf(i,x,bn(a)):c!=null&&i.removeAttribute("value"),p==null&&g!=null&&(i.defaultChecked=!!g),p!=null&&(i.checked=p&&typeof p!="function"&&typeof p!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?i.name=""+bn(E):i.removeAttribute("name")}function dg(i,s,a,c,p,g,x,E){if(g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(i.type=g),s!=null||a!=null){if(!(g!=="submit"&&g!=="reset"||s!=null))return;a=a!=null?""+bn(a):"",s=s!=null?""+bn(s):a,E||s===i.value||(i.value=s),i.defaultValue=s}c=c??p,c=typeof c!="function"&&typeof c!="symbol"&&!!c,i.checked=E?i.checked:!!c,i.defaultChecked=!!c,x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"&&(i.name=x)}function wf(i,s,a){s==="number"&&ya(i.ownerDocument)===i||i.defaultValue===""+a||(i.defaultValue=""+a)}function xl(i,s,a,c){if(i=i.options,s){s={};for(var p=0;p<a.length;p++)s["$"+a[p]]=!0;for(a=0;a<i.length;a++)p=s.hasOwnProperty("$"+i[a].value),i[a].selected!==p&&(i[a].selected=p),p&&c&&(i[a].defaultSelected=!0)}else{for(a=""+bn(a),s=null,p=0;p<i.length;p++){if(i[p].value===a){i[p].selected=!0,c&&(i[p].defaultSelected=!0);return}s!==null||i[p].disabled||(s=i[p])}s!==null&&(s.selected=!0)}}function hg(i,s,a){if(s!=null&&(s=""+bn(s),s!==i.value&&(i.value=s),a==null)){i.defaultValue!==s&&(i.defaultValue=s);return}i.defaultValue=a!=null?""+bn(a):""}function pg(i,s,a,c){if(s==null){if(c!=null){if(a!=null)throw Error(r(92));if(Ge(c)){if(1<c.length)throw Error(r(93));c=c[0]}a=c}a==null&&(a=""),s=a}a=bn(s),i.defaultValue=a,c=i.textContent,c===a&&c!==""&&c!==null&&(i.value=c)}function Cl(i,s){if(s){var a=i.firstChild;if(a&&a===i.lastChild&&a.nodeType===3){a.nodeValue=s;return}}i.textContent=s}var qC=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function mg(i,s,a){var c=s.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?c?i.setProperty(s,""):s==="float"?i.cssFloat="":i[s]="":c?i.setProperty(s,a):typeof a!="number"||a===0||qC.has(s)?s==="float"?i.cssFloat=a:i[s]=(""+a).trim():i[s]=a+"px"}function gg(i,s,a){if(s!=null&&typeof s!="object")throw Error(r(62));if(i=i.style,a!=null){for(var c in a)!a.hasOwnProperty(c)||s!=null&&s.hasOwnProperty(c)||(c.indexOf("--")===0?i.setProperty(c,""):c==="float"?i.cssFloat="":i[c]="");for(var p in s)c=s[p],s.hasOwnProperty(p)&&a[p]!==c&&mg(i,p,c)}else for(var g in s)s.hasOwnProperty(g)&&mg(i,g,s[g])}function Of(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var IC=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),FC=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ba(i){return FC.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}var Mf=null;function Nf(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var El=null,Tl=null;function yg(i){var s=yl(i);if(s&&(i=s.stateNode)){var a=i[Gt]||null;e:switch(i=s.stateNode,s.type){case"input":if(Af(i,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),s=a.name,a.type==="radio"&&s!=null){for(a=i;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+Sn(""+s)+'"][type="radio"]'),s=0;s<a.length;s++){var c=a[s];if(c!==i&&c.form===i.form){var p=c[Gt]||null;if(!p)throw Error(r(90));Af(c,p.value,p.defaultValue,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name)}}for(s=0;s<a.length;s++)c=a[s],c.form===i.form&&fg(c)}break e;case"textarea":hg(i,a.value,a.defaultValue);break e;case"select":s=a.value,s!=null&&xl(i,!!a.multiple,s,!1)}}}var Rf=!1;function bg(i,s,a){if(Rf)return i(s,a);Rf=!0;try{var c=i(s);return c}finally{if(Rf=!1,(El!==null||Tl!==null)&&(ru(),El&&(s=El,i=Tl,Tl=El=null,yg(s),i)))for(s=0;s<i.length;s++)yg(i[s])}}function Ms(i,s){var a=i.stateNode;if(a===null)return null;var c=a[Gt]||null;if(c===null)return null;a=c[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(i=i.type,c=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!c;break e;default:i=!1}if(i)return null;if(a&&typeof a!="function")throw Error(r(231,s,typeof a));return a}var lr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Df=!1;if(lr)try{var Ns={};Object.defineProperty(Ns,"passive",{get:function(){Df=!0}}),window.addEventListener("test",Ns,Ns),window.removeEventListener("test",Ns,Ns)}catch{Df=!1}var Br=null,zf=null,Sa=null;function Sg(){if(Sa)return Sa;var i,s=zf,a=s.length,c,p="value"in Br?Br.value:Br.textContent,g=p.length;for(i=0;i<a&&s[i]===p[i];i++);var x=a-i;for(c=1;c<=x&&s[a-c]===p[g-c];c++);return Sa=p.slice(i,1<c?1-c:void 0)}function va(i){var s=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&s===13&&(i=13)):i=s,i===10&&(i=13),32<=i||i===13?i:0}function xa(){return!0}function vg(){return!1}function Yt(i){function s(a,c,p,g,x){this._reactName=a,this._targetInst=p,this.type=c,this.nativeEvent=g,this.target=x,this.currentTarget=null;for(var E in i)i.hasOwnProperty(E)&&(a=i[E],this[E]=a?a(g):g[E]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?xa:vg,this.isPropagationStopped=vg,this}return m(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=xa)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=xa)},persist:function(){},isPersistent:xa}),s}var Oi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ca=Yt(Oi),Rs=m({},Oi,{view:0,detail:0}),$C=Yt(Rs),Bf,Lf,Ds,Ea=m({},Rs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:_f,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==Ds&&(Ds&&i.type==="mousemove"?(Bf=i.screenX-Ds.screenX,Lf=i.screenY-Ds.screenY):Lf=Bf=0,Ds=i),Bf)},movementY:function(i){return"movementY"in i?i.movementY:Lf}}),xg=Yt(Ea),KC=m({},Ea,{dataTransfer:0}),GC=Yt(KC),YC=m({},Rs,{relatedTarget:0}),jf=Yt(YC),JC=m({},Oi,{animationName:0,elapsedTime:0,pseudoElement:0}),XC=Yt(JC),QC=m({},Oi,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),ZC=Yt(QC),WC=m({},Oi,{data:0}),Cg=Yt(WC),eE={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},tE={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},nE={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function rE(i){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(i):(i=nE[i])?!!s[i]:!1}function _f(){return rE}var iE=m({},Rs,{key:function(i){if(i.key){var s=eE[i.key]||i.key;if(s!=="Unidentified")return s}return i.type==="keypress"?(i=va(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?tE[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:_f,charCode:function(i){return i.type==="keypress"?va(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?va(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),lE=Yt(iE),sE=m({},Ea,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Eg=Yt(sE),oE=m({},Rs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:_f}),aE=Yt(oE),uE=m({},Oi,{propertyName:0,elapsedTime:0,pseudoElement:0}),cE=Yt(uE),fE=m({},Ea,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),dE=Yt(fE),hE=m({},Oi,{newState:0,oldState:0}),pE=Yt(hE),mE=[9,13,27,32],Pf=lr&&"CompositionEvent"in window,zs=null;lr&&"documentMode"in document&&(zs=document.documentMode);var gE=lr&&"TextEvent"in window&&!zs,Tg=lr&&(!Pf||zs&&8<zs&&11>=zs),kg=" ",Ag=!1;function wg(i,s){switch(i){case"keyup":return mE.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Og(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var kl=!1;function yE(i,s){switch(i){case"compositionend":return Og(s);case"keypress":return s.which!==32?null:(Ag=!0,kg);case"textInput":return i=s.data,i===kg&&Ag?null:i;default:return null}}function bE(i,s){if(kl)return i==="compositionend"||!Pf&&wg(i,s)?(i=Sg(),Sa=zf=Br=null,kl=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return Tg&&s.locale!=="ko"?null:s.data;default:return null}}var SE={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Mg(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s==="input"?!!SE[i.type]:s==="textarea"}function Ng(i,s,a,c){El?Tl?Tl.push(c):Tl=[c]:El=c,s=uu(s,"onChange"),0<s.length&&(a=new Ca("onChange","change",null,a,c),i.push({event:a,listeners:s}))}var Bs=null,Ls=null;function vE(i){cb(i,0)}function Ta(i){var s=Os(i);if(fg(s))return i}function Rg(i,s){if(i==="change")return s}var Dg=!1;if(lr){var Hf;if(lr){var Uf="oninput"in document;if(!Uf){var zg=document.createElement("div");zg.setAttribute("oninput","return;"),Uf=typeof zg.oninput=="function"}Hf=Uf}else Hf=!1;Dg=Hf&&(!document.documentMode||9<document.documentMode)}function Bg(){Bs&&(Bs.detachEvent("onpropertychange",Lg),Ls=Bs=null)}function Lg(i){if(i.propertyName==="value"&&Ta(Ls)){var s=[];Ng(s,Ls,i,Nf(i)),bg(vE,s)}}function xE(i,s,a){i==="focusin"?(Bg(),Bs=s,Ls=a,Bs.attachEvent("onpropertychange",Lg)):i==="focusout"&&Bg()}function CE(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return Ta(Ls)}function EE(i,s){if(i==="click")return Ta(s)}function TE(i,s){if(i==="input"||i==="change")return Ta(s)}function kE(i,s){return i===s&&(i!==0||1/i===1/s)||i!==i&&s!==s}var ln=typeof Object.is=="function"?Object.is:kE;function js(i,s){if(ln(i,s))return!0;if(typeof i!="object"||i===null||typeof s!="object"||s===null)return!1;var a=Object.keys(i),c=Object.keys(s);if(a.length!==c.length)return!1;for(c=0;c<a.length;c++){var p=a[c];if(!Es.call(s,p)||!ln(i[p],s[p]))return!1}return!0}function jg(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function _g(i,s){var a=jg(i);i=0;for(var c;a;){if(a.nodeType===3){if(c=i+a.textContent.length,i<=s&&c>=s)return{node:a,offset:s-i};i=c}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=jg(a)}}function Pg(i,s){return i&&s?i===s?!0:i&&i.nodeType===3?!1:s&&s.nodeType===3?Pg(i,s.parentNode):"contains"in i?i.contains(s):i.compareDocumentPosition?!!(i.compareDocumentPosition(s)&16):!1:!1}function Hg(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var s=ya(i.document);s instanceof i.HTMLIFrameElement;){try{var a=typeof s.contentWindow.location.href=="string"}catch{a=!1}if(a)i=s.contentWindow;else break;s=ya(i.document)}return s}function Vf(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s&&(s==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||s==="textarea"||i.contentEditable==="true")}var AE=lr&&"documentMode"in document&&11>=document.documentMode,Al=null,qf=null,_s=null,If=!1;function Ug(i,s,a){var c=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;If||Al==null||Al!==ya(c)||(c=Al,"selectionStart"in c&&Vf(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),_s&&js(_s,c)||(_s=c,c=uu(qf,"onSelect"),0<c.length&&(s=new Ca("onSelect","select",null,s,a),i.push({event:s,listeners:c}),s.target=Al)))}function Mi(i,s){var a={};return a[i.toLowerCase()]=s.toLowerCase(),a["Webkit"+i]="webkit"+s,a["Moz"+i]="moz"+s,a}var wl={animationend:Mi("Animation","AnimationEnd"),animationiteration:Mi("Animation","AnimationIteration"),animationstart:Mi("Animation","AnimationStart"),transitionrun:Mi("Transition","TransitionRun"),transitionstart:Mi("Transition","TransitionStart"),transitioncancel:Mi("Transition","TransitionCancel"),transitionend:Mi("Transition","TransitionEnd")},Ff={},Vg={};lr&&(Vg=document.createElement("div").style,"AnimationEvent"in window||(delete wl.animationend.animation,delete wl.animationiteration.animation,delete wl.animationstart.animation),"TransitionEvent"in window||delete wl.transitionend.transition);function Ni(i){if(Ff[i])return Ff[i];if(!wl[i])return i;var s=wl[i],a;for(a in s)if(s.hasOwnProperty(a)&&a in Vg)return Ff[i]=s[a];return i}var qg=Ni("animationend"),Ig=Ni("animationiteration"),Fg=Ni("animationstart"),wE=Ni("transitionrun"),OE=Ni("transitionstart"),ME=Ni("transitioncancel"),$g=Ni("transitionend"),Kg=new Map,$f="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");$f.push("scrollEnd");function zn(i,s){Kg.set(i,s),wi(s,[i])}var Gg=new WeakMap;function vn(i,s){if(typeof i=="object"&&i!==null){var a=Gg.get(i);return a!==void 0?a:(s={value:i,source:s,stack:ug(s)},Gg.set(i,s),s)}return{value:i,source:s,stack:ug(s)}}var xn=[],Ol=0,Kf=0;function ka(){for(var i=Ol,s=Kf=Ol=0;s<i;){var a=xn[s];xn[s++]=null;var c=xn[s];xn[s++]=null;var p=xn[s];xn[s++]=null;var g=xn[s];if(xn[s++]=null,c!==null&&p!==null){var x=c.pending;x===null?p.next=p:(p.next=x.next,x.next=p),c.pending=p}g!==0&&Yg(a,p,g)}}function Aa(i,s,a,c){xn[Ol++]=i,xn[Ol++]=s,xn[Ol++]=a,xn[Ol++]=c,Kf|=c,i.lanes|=c,i=i.alternate,i!==null&&(i.lanes|=c)}function Gf(i,s,a,c){return Aa(i,s,a,c),wa(i)}function Ml(i,s){return Aa(i,null,null,s),wa(i)}function Yg(i,s,a){i.lanes|=a;var c=i.alternate;c!==null&&(c.lanes|=a);for(var p=!1,g=i.return;g!==null;)g.childLanes|=a,c=g.alternate,c!==null&&(c.childLanes|=a),g.tag===22&&(i=g.stateNode,i===null||i._visibility&1||(p=!0)),i=g,g=g.return;return i.tag===3?(g=i.stateNode,p&&s!==null&&(p=31-Lt(a),i=g.hiddenUpdates,c=i[p],c===null?i[p]=[s]:c.push(s),s.lane=a|536870912),g):null}function wa(i){if(50<ao)throw ao=0,Wd=null,Error(r(185));for(var s=i.return;s!==null;)i=s,s=i.return;return i.tag===3?i.stateNode:null}var Nl={};function NE(i,s,a,c){this.tag=i,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function sn(i,s,a,c){return new NE(i,s,a,c)}function Yf(i){return i=i.prototype,!(!i||!i.isReactComponent)}function sr(i,s){var a=i.alternate;return a===null?(a=sn(i.tag,s,i.key,i.mode),a.elementType=i.elementType,a.type=i.type,a.stateNode=i.stateNode,a.alternate=i,i.alternate=a):(a.pendingProps=s,a.type=i.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=i.flags&65011712,a.childLanes=i.childLanes,a.lanes=i.lanes,a.child=i.child,a.memoizedProps=i.memoizedProps,a.memoizedState=i.memoizedState,a.updateQueue=i.updateQueue,s=i.dependencies,a.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},a.sibling=i.sibling,a.index=i.index,a.ref=i.ref,a.refCleanup=i.refCleanup,a}function Jg(i,s){i.flags&=65011714;var a=i.alternate;return a===null?(i.childLanes=0,i.lanes=s,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=a.childLanes,i.lanes=a.lanes,i.child=a.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=a.memoizedProps,i.memoizedState=a.memoizedState,i.updateQueue=a.updateQueue,i.type=a.type,s=a.dependencies,i.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),i}function Oa(i,s,a,c,p,g){var x=0;if(c=i,typeof i=="function")Yf(i)&&(x=1);else if(typeof i=="string")x=DT(i,a,le.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case W:return i=sn(31,a,s,p),i.elementType=W,i.lanes=g,i;case S:return Ri(a.children,p,g,s);case T:x=8,p|=24;break;case C:return i=sn(12,a,s,p|2),i.elementType=C,i.lanes=g,i;case q:return i=sn(13,a,s,p),i.elementType=q,i.lanes=g,i;case J:return i=sn(19,a,s,p),i.elementType=J,i.lanes=g,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case A:case _:x=10;break e;case O:x=9;break e;case G:x=11;break e;case re:x=14;break e;case ce:x=16,c=null;break e}x=29,a=Error(r(130,i===null?"null":typeof i,"")),c=null}return s=sn(x,a,s,p),s.elementType=i,s.type=c,s.lanes=g,s}function Ri(i,s,a,c){return i=sn(7,i,c,s),i.lanes=a,i}function Jf(i,s,a){return i=sn(6,i,null,s),i.lanes=a,i}function Xf(i,s,a){return s=sn(4,i.children!==null?i.children:[],i.key,s),s.lanes=a,s.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},s}var Rl=[],Dl=0,Ma=null,Na=0,Cn=[],En=0,Di=null,or=1,ar="";function zi(i,s){Rl[Dl++]=Na,Rl[Dl++]=Ma,Ma=i,Na=s}function Xg(i,s,a){Cn[En++]=or,Cn[En++]=ar,Cn[En++]=Di,Di=i;var c=or;i=ar;var p=32-Lt(c)-1;c&=~(1<<p),a+=1;var g=32-Lt(s)+p;if(30<g){var x=p-p%5;g=(c&(1<<x)-1).toString(32),c>>=x,p-=x,or=1<<32-Lt(s)+p|a<<p|c,ar=g+i}else or=1<<g|a<<p|c,ar=i}function Qf(i){i.return!==null&&(zi(i,1),Xg(i,1,0))}function Zf(i){for(;i===Ma;)Ma=Rl[--Dl],Rl[Dl]=null,Na=Rl[--Dl],Rl[Dl]=null;for(;i===Di;)Di=Cn[--En],Cn[En]=null,ar=Cn[--En],Cn[En]=null,or=Cn[--En],Cn[En]=null}var Pt=null,Xe=null,Ne=!1,Bi=null,Fn=!1,Wf=Error(r(519));function Li(i){var s=Error(r(418,""));throw Us(vn(s,i)),Wf}function Qg(i){var s=i.stateNode,a=i.type,c=i.memoizedProps;switch(s[kt]=i,s[Gt]=c,a){case"dialog":Te("cancel",s),Te("close",s);break;case"iframe":case"object":case"embed":Te("load",s);break;case"video":case"audio":for(a=0;a<co.length;a++)Te(co[a],s);break;case"source":Te("error",s);break;case"img":case"image":case"link":Te("error",s),Te("load",s);break;case"details":Te("toggle",s);break;case"input":Te("invalid",s),dg(s,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0),ga(s);break;case"select":Te("invalid",s);break;case"textarea":Te("invalid",s),pg(s,c.value,c.defaultValue,c.children),ga(s)}a=c.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||s.textContent===""+a||c.suppressHydrationWarning===!0||pb(s.textContent,a)?(c.popover!=null&&(Te("beforetoggle",s),Te("toggle",s)),c.onScroll!=null&&Te("scroll",s),c.onScrollEnd!=null&&Te("scrollend",s),c.onClick!=null&&(s.onclick=cu),s=!0):s=!1,s||Li(i)}function Zg(i){for(Pt=i.return;Pt;)switch(Pt.tag){case 5:case 13:Fn=!1;return;case 27:case 3:Fn=!0;return;default:Pt=Pt.return}}function Ps(i){if(i!==Pt)return!1;if(!Ne)return Zg(i),Ne=!0,!1;var s=i.tag,a;if((a=s!==3&&s!==27)&&((a=s===5)&&(a=i.type,a=!(a!=="form"&&a!=="button")||mh(i.type,i.memoizedProps)),a=!a),a&&Xe&&Li(i),Zg(i),s===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));e:{for(i=i.nextSibling,s=0;i;){if(i.nodeType===8)if(a=i.data,a==="/$"){if(s===0){Xe=Ln(i.nextSibling);break e}s--}else a!=="$"&&a!=="$!"&&a!=="$?"||s++;i=i.nextSibling}Xe=null}}else s===27?(s=Xe,Xr(i.type)?(i=Sh,Sh=null,Xe=i):Xe=s):Xe=Pt?Ln(i.stateNode.nextSibling):null;return!0}function Hs(){Xe=Pt=null,Ne=!1}function Wg(){var i=Bi;return i!==null&&(Qt===null?Qt=i:Qt.push.apply(Qt,i),Bi=null),i}function Us(i){Bi===null?Bi=[i]:Bi.push(i)}var ed=F(null),ji=null,ur=null;function Lr(i,s,a){X(ed,s._currentValue),s._currentValue=a}function cr(i){i._currentValue=ed.current,Z(ed)}function td(i,s,a){for(;i!==null;){var c=i.alternate;if((i.childLanes&s)!==s?(i.childLanes|=s,c!==null&&(c.childLanes|=s)):c!==null&&(c.childLanes&s)!==s&&(c.childLanes|=s),i===a)break;i=i.return}}function nd(i,s,a,c){var p=i.child;for(p!==null&&(p.return=i);p!==null;){var g=p.dependencies;if(g!==null){var x=p.child;g=g.firstContext;e:for(;g!==null;){var E=g;g=p;for(var w=0;w<s.length;w++)if(E.context===s[w]){g.lanes|=a,E=g.alternate,E!==null&&(E.lanes|=a),td(g.return,a,i),c||(x=null);break e}g=E.next}}else if(p.tag===18){if(x=p.return,x===null)throw Error(r(341));x.lanes|=a,g=x.alternate,g!==null&&(g.lanes|=a),td(x,a,i),x=null}else x=p.child;if(x!==null)x.return=p;else for(x=p;x!==null;){if(x===i){x=null;break}if(p=x.sibling,p!==null){p.return=x.return,x=p;break}x=x.return}p=x}}function Vs(i,s,a,c){i=null;for(var p=s,g=!1;p!==null;){if(!g){if((p.flags&524288)!==0)g=!0;else if((p.flags&262144)!==0)break}if(p.tag===10){var x=p.alternate;if(x===null)throw Error(r(387));if(x=x.memoizedProps,x!==null){var E=p.type;ln(p.pendingProps.value,x.value)||(i!==null?i.push(E):i=[E])}}else if(p===zt.current){if(x=p.alternate,x===null)throw Error(r(387));x.memoizedState.memoizedState!==p.memoizedState.memoizedState&&(i!==null?i.push(yo):i=[yo])}p=p.return}i!==null&&nd(s,i,a,c),s.flags|=262144}function Ra(i){for(i=i.firstContext;i!==null;){if(!ln(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function _i(i){ji=i,ur=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function At(i){return ey(ji,i)}function Da(i,s){return ji===null&&_i(i),ey(i,s)}function ey(i,s){var a=s._currentValue;if(s={context:s,memoizedValue:a,next:null},ur===null){if(i===null)throw Error(r(308));ur=s,i.dependencies={lanes:0,firstContext:s},i.flags|=524288}else ur=ur.next=s;return a}var RE=typeof AbortController<"u"?AbortController:function(){var i=[],s=this.signal={aborted:!1,addEventListener:function(a,c){i.push(c)}};this.abort=function(){s.aborted=!0,i.forEach(function(a){return a()})}},DE=n.unstable_scheduleCallback,zE=n.unstable_NormalPriority,st={$$typeof:_,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function rd(){return{controller:new RE,data:new Map,refCount:0}}function qs(i){i.refCount--,i.refCount===0&&DE(zE,function(){i.controller.abort()})}var Is=null,id=0,zl=0,Bl=null;function BE(i,s){if(Is===null){var a=Is=[];id=0,zl=sh(),Bl={status:"pending",value:void 0,then:function(c){a.push(c)}}}return id++,s.then(ty,ty),s}function ty(){if(--id===0&&Is!==null){Bl!==null&&(Bl.status="fulfilled");var i=Is;Is=null,zl=0,Bl=null;for(var s=0;s<i.length;s++)(0,i[s])()}}function LE(i,s){var a=[],c={status:"pending",value:null,reason:null,then:function(p){a.push(p)}};return i.then(function(){c.status="fulfilled",c.value=s;for(var p=0;p<a.length;p++)(0,a[p])(s)},function(p){for(c.status="rejected",c.reason=p,p=0;p<a.length;p++)(0,a[p])(void 0)}),c}var ny=H.S;H.S=function(i,s){typeof s=="object"&&s!==null&&typeof s.then=="function"&&BE(i,s),ny!==null&&ny(i,s)};var Pi=F(null);function ld(){var i=Pi.current;return i!==null?i:Ve.pooledCache}function za(i,s){s===null?X(Pi,Pi.current):X(Pi,s.pool)}function ry(){var i=ld();return i===null?null:{parent:st._currentValue,pool:i}}var Fs=Error(r(460)),iy=Error(r(474)),Ba=Error(r(542)),sd={then:function(){}};function ly(i){return i=i.status,i==="fulfilled"||i==="rejected"}function La(){}function sy(i,s,a){switch(a=i[a],a===void 0?i.push(s):a!==s&&(s.then(La,La),s=a),s.status){case"fulfilled":return s.value;case"rejected":throw i=s.reason,ay(i),i;default:if(typeof s.status=="string")s.then(La,La);else{if(i=Ve,i!==null&&100<i.shellSuspendCounter)throw Error(r(482));i=s,i.status="pending",i.then(function(c){if(s.status==="pending"){var p=s;p.status="fulfilled",p.value=c}},function(c){if(s.status==="pending"){var p=s;p.status="rejected",p.reason=c}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw i=s.reason,ay(i),i}throw $s=s,Fs}}var $s=null;function oy(){if($s===null)throw Error(r(459));var i=$s;return $s=null,i}function ay(i){if(i===Fs||i===Ba)throw Error(r(483))}var jr=!1;function od(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ad(i,s){i=i.updateQueue,s.updateQueue===i&&(s.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function _r(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function Pr(i,s,a){var c=i.updateQueue;if(c===null)return null;if(c=c.shared,(De&2)!==0){var p=c.pending;return p===null?s.next=s:(s.next=p.next,p.next=s),c.pending=s,s=wa(i),Yg(i,null,a),s}return Aa(i,c,s,a),wa(i)}function Ks(i,s,a){if(s=s.updateQueue,s!==null&&(s=s.shared,(a&4194048)!==0)){var c=s.lanes;c&=i.pendingLanes,a|=c,s.lanes=a,tg(i,a)}}function ud(i,s){var a=i.updateQueue,c=i.alternate;if(c!==null&&(c=c.updateQueue,a===c)){var p=null,g=null;if(a=a.firstBaseUpdate,a!==null){do{var x={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};g===null?p=g=x:g=g.next=x,a=a.next}while(a!==null);g===null?p=g=s:g=g.next=s}else p=g=s;a={baseState:c.baseState,firstBaseUpdate:p,lastBaseUpdate:g,shared:c.shared,callbacks:c.callbacks},i.updateQueue=a;return}i=a.lastBaseUpdate,i===null?a.firstBaseUpdate=s:i.next=s,a.lastBaseUpdate=s}var cd=!1;function Gs(){if(cd){var i=Bl;if(i!==null)throw i}}function Ys(i,s,a,c){cd=!1;var p=i.updateQueue;jr=!1;var g=p.firstBaseUpdate,x=p.lastBaseUpdate,E=p.shared.pending;if(E!==null){p.shared.pending=null;var w=E,B=w.next;w.next=null,x===null?g=B:x.next=B,x=w;var U=i.alternate;U!==null&&(U=U.updateQueue,E=U.lastBaseUpdate,E!==x&&(E===null?U.firstBaseUpdate=B:E.next=B,U.lastBaseUpdate=w))}if(g!==null){var I=p.baseState;x=0,U=B=w=null,E=g;do{var L=E.lane&-536870913,j=L!==E.lane;if(j?(we&L)===L:(c&L)===L){L!==0&&L===zl&&(cd=!0),U!==null&&(U=U.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});e:{var fe=i,ae=E;L=s;var _e=a;switch(ae.tag){case 1:if(fe=ae.payload,typeof fe=="function"){I=fe.call(_e,I,L);break e}I=fe;break e;case 3:fe.flags=fe.flags&-65537|128;case 0:if(fe=ae.payload,L=typeof fe=="function"?fe.call(_e,I,L):fe,L==null)break e;I=m({},I,L);break e;case 2:jr=!0}}L=E.callback,L!==null&&(i.flags|=64,j&&(i.flags|=8192),j=p.callbacks,j===null?p.callbacks=[L]:j.push(L))}else j={lane:L,tag:E.tag,payload:E.payload,callback:E.callback,next:null},U===null?(B=U=j,w=I):U=U.next=j,x|=L;if(E=E.next,E===null){if(E=p.shared.pending,E===null)break;j=E,E=j.next,j.next=null,p.lastBaseUpdate=j,p.shared.pending=null}}while(!0);U===null&&(w=I),p.baseState=w,p.firstBaseUpdate=B,p.lastBaseUpdate=U,g===null&&(p.shared.lanes=0),Kr|=x,i.lanes=x,i.memoizedState=I}}function uy(i,s){if(typeof i!="function")throw Error(r(191,i));i.call(s)}function cy(i,s){var a=i.callbacks;if(a!==null)for(i.callbacks=null,i=0;i<a.length;i++)uy(a[i],s)}var Ll=F(null),ja=F(0);function fy(i,s){i=yr,X(ja,i),X(Ll,s),yr=i|s.baseLanes}function fd(){X(ja,yr),X(Ll,Ll.current)}function dd(){yr=ja.current,Z(Ll),Z(ja)}var Hr=0,be=null,Le=null,rt=null,_a=!1,jl=!1,Hi=!1,Pa=0,Js=0,_l=null,jE=0;function tt(){throw Error(r(321))}function hd(i,s){if(s===null)return!1;for(var a=0;a<s.length&&a<i.length;a++)if(!ln(i[a],s[a]))return!1;return!0}function pd(i,s,a,c,p,g){return Hr=g,be=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,H.H=i===null||i.memoizedState===null?Yy:Jy,Hi=!1,g=a(c,p),Hi=!1,jl&&(g=hy(s,a,c,p)),dy(i),g}function dy(i){H.H=Fa;var s=Le!==null&&Le.next!==null;if(Hr=0,rt=Le=be=null,_a=!1,Js=0,_l=null,s)throw Error(r(300));i===null||ct||(i=i.dependencies,i!==null&&Ra(i)&&(ct=!0))}function hy(i,s,a,c){be=i;var p=0;do{if(jl&&(_l=null),Js=0,jl=!1,25<=p)throw Error(r(301));if(p+=1,rt=Le=null,i.updateQueue!=null){var g=i.updateQueue;g.lastEffect=null,g.events=null,g.stores=null,g.memoCache!=null&&(g.memoCache.index=0)}H.H=IE,g=s(a,c)}while(jl);return g}function _E(){var i=H.H,s=i.useState()[0];return s=typeof s.then=="function"?Xs(s):s,i=i.useState()[0],(Le!==null?Le.memoizedState:null)!==i&&(be.flags|=1024),s}function md(){var i=Pa!==0;return Pa=0,i}function gd(i,s,a){s.updateQueue=i.updateQueue,s.flags&=-2053,i.lanes&=~a}function yd(i){if(_a){for(i=i.memoizedState;i!==null;){var s=i.queue;s!==null&&(s.pending=null),i=i.next}_a=!1}Hr=0,rt=Le=be=null,jl=!1,Js=Pa=0,_l=null}function Jt(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return rt===null?be.memoizedState=rt=i:rt=rt.next=i,rt}function it(){if(Le===null){var i=be.alternate;i=i!==null?i.memoizedState:null}else i=Le.next;var s=rt===null?be.memoizedState:rt.next;if(s!==null)rt=s,Le=i;else{if(i===null)throw be.alternate===null?Error(r(467)):Error(r(310));Le=i,i={memoizedState:Le.memoizedState,baseState:Le.baseState,baseQueue:Le.baseQueue,queue:Le.queue,next:null},rt===null?be.memoizedState=rt=i:rt=rt.next=i}return rt}function bd(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Xs(i){var s=Js;return Js+=1,_l===null&&(_l=[]),i=sy(_l,i,s),s=be,(rt===null?s.memoizedState:rt.next)===null&&(s=s.alternate,H.H=s===null||s.memoizedState===null?Yy:Jy),i}function Ha(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return Xs(i);if(i.$$typeof===_)return At(i)}throw Error(r(438,String(i)))}function Sd(i){var s=null,a=be.updateQueue;if(a!==null&&(s=a.memoCache),s==null){var c=be.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(s={data:c.data.map(function(p){return p.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),a===null&&(a=bd(),be.updateQueue=a),a.memoCache=s,a=s.data[s.index],a===void 0)for(a=s.data[s.index]=Array(i),c=0;c<i;c++)a[c]=Me;return s.index++,a}function fr(i,s){return typeof s=="function"?s(i):s}function Ua(i){var s=it();return vd(s,Le,i)}function vd(i,s,a){var c=i.queue;if(c===null)throw Error(r(311));c.lastRenderedReducer=a;var p=i.baseQueue,g=c.pending;if(g!==null){if(p!==null){var x=p.next;p.next=g.next,g.next=x}s.baseQueue=p=g,c.pending=null}if(g=i.baseState,p===null)i.memoizedState=g;else{s=p.next;var E=x=null,w=null,B=s,U=!1;do{var I=B.lane&-536870913;if(I!==B.lane?(we&I)===I:(Hr&I)===I){var L=B.revertLane;if(L===0)w!==null&&(w=w.next={lane:0,revertLane:0,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null}),I===zl&&(U=!0);else if((Hr&L)===L){B=B.next,L===zl&&(U=!0);continue}else I={lane:0,revertLane:B.revertLane,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},w===null?(E=w=I,x=g):w=w.next=I,be.lanes|=L,Kr|=L;I=B.action,Hi&&a(g,I),g=B.hasEagerState?B.eagerState:a(g,I)}else L={lane:I,revertLane:B.revertLane,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},w===null?(E=w=L,x=g):w=w.next=L,be.lanes|=I,Kr|=I;B=B.next}while(B!==null&&B!==s);if(w===null?x=g:w.next=E,!ln(g,i.memoizedState)&&(ct=!0,U&&(a=Bl,a!==null)))throw a;i.memoizedState=g,i.baseState=x,i.baseQueue=w,c.lastRenderedState=g}return p===null&&(c.lanes=0),[i.memoizedState,c.dispatch]}function xd(i){var s=it(),a=s.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=i;var c=a.dispatch,p=a.pending,g=s.memoizedState;if(p!==null){a.pending=null;var x=p=p.next;do g=i(g,x.action),x=x.next;while(x!==p);ln(g,s.memoizedState)||(ct=!0),s.memoizedState=g,s.baseQueue===null&&(s.baseState=g),a.lastRenderedState=g}return[g,c]}function py(i,s,a){var c=be,p=it(),g=Ne;if(g){if(a===void 0)throw Error(r(407));a=a()}else a=s();var x=!ln((Le||p).memoizedState,a);x&&(p.memoizedState=a,ct=!0),p=p.queue;var E=yy.bind(null,c,p,i);if(Qs(2048,8,E,[i]),p.getSnapshot!==s||x||rt!==null&&rt.memoizedState.tag&1){if(c.flags|=2048,Pl(9,Va(),gy.bind(null,c,p,a,s),null),Ve===null)throw Error(r(349));g||(Hr&124)!==0||my(c,s,a)}return a}function my(i,s,a){i.flags|=16384,i={getSnapshot:s,value:a},s=be.updateQueue,s===null?(s=bd(),be.updateQueue=s,s.stores=[i]):(a=s.stores,a===null?s.stores=[i]:a.push(i))}function gy(i,s,a,c){s.value=a,s.getSnapshot=c,by(s)&&Sy(i)}function yy(i,s,a){return a(function(){by(s)&&Sy(i)})}function by(i){var s=i.getSnapshot;i=i.value;try{var a=s();return!ln(i,a)}catch{return!0}}function Sy(i){var s=Ml(i,2);s!==null&&fn(s,i,2)}function Cd(i){var s=Jt();if(typeof i=="function"){var a=i;if(i=a(),Hi){In(!0);try{a()}finally{In(!1)}}}return s.memoizedState=s.baseState=i,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:fr,lastRenderedState:i},s}function vy(i,s,a,c){return i.baseState=a,vd(i,Le,typeof c=="function"?c:fr)}function PE(i,s,a,c,p){if(Ia(i))throw Error(r(485));if(i=s.action,i!==null){var g={payload:p,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(x){g.listeners.push(x)}};H.T!==null?a(!0):g.isTransition=!1,c(g),a=s.pending,a===null?(g.next=s.pending=g,xy(s,g)):(g.next=a.next,s.pending=a.next=g)}}function xy(i,s){var a=s.action,c=s.payload,p=i.state;if(s.isTransition){var g=H.T,x={};H.T=x;try{var E=a(p,c),w=H.S;w!==null&&w(x,E),Cy(i,s,E)}catch(B){Ed(i,s,B)}finally{H.T=g}}else try{g=a(p,c),Cy(i,s,g)}catch(B){Ed(i,s,B)}}function Cy(i,s,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(c){Ey(i,s,c)},function(c){return Ed(i,s,c)}):Ey(i,s,a)}function Ey(i,s,a){s.status="fulfilled",s.value=a,Ty(s),i.state=a,s=i.pending,s!==null&&(a=s.next,a===s?i.pending=null:(a=a.next,s.next=a,xy(i,a)))}function Ed(i,s,a){var c=i.pending;if(i.pending=null,c!==null){c=c.next;do s.status="rejected",s.reason=a,Ty(s),s=s.next;while(s!==c)}i.action=null}function Ty(i){i=i.listeners;for(var s=0;s<i.length;s++)(0,i[s])()}function ky(i,s){return s}function Ay(i,s){if(Ne){var a=Ve.formState;if(a!==null){e:{var c=be;if(Ne){if(Xe){t:{for(var p=Xe,g=Fn;p.nodeType!==8;){if(!g){p=null;break t}if(p=Ln(p.nextSibling),p===null){p=null;break t}}g=p.data,p=g==="F!"||g==="F"?p:null}if(p){Xe=Ln(p.nextSibling),c=p.data==="F!";break e}}Li(c)}c=!1}c&&(s=a[0])}}return a=Jt(),a.memoizedState=a.baseState=s,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ky,lastRenderedState:s},a.queue=c,a=$y.bind(null,be,c),c.dispatch=a,c=Cd(!1),g=Od.bind(null,be,!1,c.queue),c=Jt(),p={state:s,dispatch:null,action:i,pending:null},c.queue=p,a=PE.bind(null,be,p,g,a),p.dispatch=a,c.memoizedState=i,[s,a,!1]}function wy(i){var s=it();return Oy(s,Le,i)}function Oy(i,s,a){if(s=vd(i,s,ky)[0],i=Ua(fr)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var c=Xs(s)}catch(x){throw x===Fs?Ba:x}else c=s;s=it();var p=s.queue,g=p.dispatch;return a!==s.memoizedState&&(be.flags|=2048,Pl(9,Va(),HE.bind(null,p,a),null)),[c,g,i]}function HE(i,s){i.action=s}function My(i){var s=it(),a=Le;if(a!==null)return Oy(s,a,i);it(),s=s.memoizedState,a=it();var c=a.queue.dispatch;return a.memoizedState=i,[s,c,!1]}function Pl(i,s,a,c){return i={tag:i,create:a,deps:c,inst:s,next:null},s=be.updateQueue,s===null&&(s=bd(),be.updateQueue=s),a=s.lastEffect,a===null?s.lastEffect=i.next=i:(c=a.next,a.next=i,i.next=c,s.lastEffect=i),i}function Va(){return{destroy:void 0,resource:void 0}}function Ny(){return it().memoizedState}function qa(i,s,a,c){var p=Jt();c=c===void 0?null:c,be.flags|=i,p.memoizedState=Pl(1|s,Va(),a,c)}function Qs(i,s,a,c){var p=it();c=c===void 0?null:c;var g=p.memoizedState.inst;Le!==null&&c!==null&&hd(c,Le.memoizedState.deps)?p.memoizedState=Pl(s,g,a,c):(be.flags|=i,p.memoizedState=Pl(1|s,g,a,c))}function Ry(i,s){qa(8390656,8,i,s)}function Dy(i,s){Qs(2048,8,i,s)}function zy(i,s){return Qs(4,2,i,s)}function By(i,s){return Qs(4,4,i,s)}function Ly(i,s){if(typeof s=="function"){i=i();var a=s(i);return function(){typeof a=="function"?a():s(null)}}if(s!=null)return i=i(),s.current=i,function(){s.current=null}}function jy(i,s,a){a=a!=null?a.concat([i]):null,Qs(4,4,Ly.bind(null,s,i),a)}function Td(){}function _y(i,s){var a=it();s=s===void 0?null:s;var c=a.memoizedState;return s!==null&&hd(s,c[1])?c[0]:(a.memoizedState=[i,s],i)}function Py(i,s){var a=it();s=s===void 0?null:s;var c=a.memoizedState;if(s!==null&&hd(s,c[1]))return c[0];if(c=i(),Hi){In(!0);try{i()}finally{In(!1)}}return a.memoizedState=[c,s],c}function kd(i,s,a){return a===void 0||(Hr&1073741824)!==0?i.memoizedState=s:(i.memoizedState=a,i=V0(),be.lanes|=i,Kr|=i,a)}function Hy(i,s,a,c){return ln(a,s)?a:Ll.current!==null?(i=kd(i,a,c),ln(i,s)||(ct=!0),i):(Hr&42)===0?(ct=!0,i.memoizedState=a):(i=V0(),be.lanes|=i,Kr|=i,s)}function Uy(i,s,a,c,p){var g=Y.p;Y.p=g!==0&&8>g?g:8;var x=H.T,E={};H.T=E,Od(i,!1,s,a);try{var w=p(),B=H.S;if(B!==null&&B(E,w),w!==null&&typeof w=="object"&&typeof w.then=="function"){var U=LE(w,c);Zs(i,s,U,cn(i))}else Zs(i,s,c,cn(i))}catch(I){Zs(i,s,{then:function(){},status:"rejected",reason:I},cn())}finally{Y.p=g,H.T=x}}function UE(){}function Ad(i,s,a,c){if(i.tag!==5)throw Error(r(476));var p=Vy(i).queue;Uy(i,p,s,oe,a===null?UE:function(){return qy(i),a(c)})}function Vy(i){var s=i.memoizedState;if(s!==null)return s;s={memoizedState:oe,baseState:oe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:fr,lastRenderedState:oe},next:null};var a={};return s.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:fr,lastRenderedState:a},next:null},i.memoizedState=s,i=i.alternate,i!==null&&(i.memoizedState=s),s}function qy(i){var s=Vy(i).next.queue;Zs(i,s,{},cn())}function wd(){return At(yo)}function Iy(){return it().memoizedState}function Fy(){return it().memoizedState}function VE(i){for(var s=i.return;s!==null;){switch(s.tag){case 24:case 3:var a=cn();i=_r(a);var c=Pr(s,i,a);c!==null&&(fn(c,s,a),Ks(c,s,a)),s={cache:rd()},i.payload=s;return}s=s.return}}function qE(i,s,a){var c=cn();a={lane:c,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},Ia(i)?Ky(s,a):(a=Gf(i,s,a,c),a!==null&&(fn(a,i,c),Gy(a,s,c)))}function $y(i,s,a){var c=cn();Zs(i,s,a,c)}function Zs(i,s,a,c){var p={lane:c,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(Ia(i))Ky(s,p);else{var g=i.alternate;if(i.lanes===0&&(g===null||g.lanes===0)&&(g=s.lastRenderedReducer,g!==null))try{var x=s.lastRenderedState,E=g(x,a);if(p.hasEagerState=!0,p.eagerState=E,ln(E,x))return Aa(i,s,p,0),Ve===null&&ka(),!1}catch{}finally{}if(a=Gf(i,s,p,c),a!==null)return fn(a,i,c),Gy(a,s,c),!0}return!1}function Od(i,s,a,c){if(c={lane:2,revertLane:sh(),action:c,hasEagerState:!1,eagerState:null,next:null},Ia(i)){if(s)throw Error(r(479))}else s=Gf(i,a,c,2),s!==null&&fn(s,i,2)}function Ia(i){var s=i.alternate;return i===be||s!==null&&s===be}function Ky(i,s){jl=_a=!0;var a=i.pending;a===null?s.next=s:(s.next=a.next,a.next=s),i.pending=s}function Gy(i,s,a){if((a&4194048)!==0){var c=s.lanes;c&=i.pendingLanes,a|=c,s.lanes=a,tg(i,a)}}var Fa={readContext:At,use:Ha,useCallback:tt,useContext:tt,useEffect:tt,useImperativeHandle:tt,useLayoutEffect:tt,useInsertionEffect:tt,useMemo:tt,useReducer:tt,useRef:tt,useState:tt,useDebugValue:tt,useDeferredValue:tt,useTransition:tt,useSyncExternalStore:tt,useId:tt,useHostTransitionStatus:tt,useFormState:tt,useActionState:tt,useOptimistic:tt,useMemoCache:tt,useCacheRefresh:tt},Yy={readContext:At,use:Ha,useCallback:function(i,s){return Jt().memoizedState=[i,s===void 0?null:s],i},useContext:At,useEffect:Ry,useImperativeHandle:function(i,s,a){a=a!=null?a.concat([i]):null,qa(4194308,4,Ly.bind(null,s,i),a)},useLayoutEffect:function(i,s){return qa(4194308,4,i,s)},useInsertionEffect:function(i,s){qa(4,2,i,s)},useMemo:function(i,s){var a=Jt();s=s===void 0?null:s;var c=i();if(Hi){In(!0);try{i()}finally{In(!1)}}return a.memoizedState=[c,s],c},useReducer:function(i,s,a){var c=Jt();if(a!==void 0){var p=a(s);if(Hi){In(!0);try{a(s)}finally{In(!1)}}}else p=s;return c.memoizedState=c.baseState=p,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:p},c.queue=i,i=i.dispatch=qE.bind(null,be,i),[c.memoizedState,i]},useRef:function(i){var s=Jt();return i={current:i},s.memoizedState=i},useState:function(i){i=Cd(i);var s=i.queue,a=$y.bind(null,be,s);return s.dispatch=a,[i.memoizedState,a]},useDebugValue:Td,useDeferredValue:function(i,s){var a=Jt();return kd(a,i,s)},useTransition:function(){var i=Cd(!1);return i=Uy.bind(null,be,i.queue,!0,!1),Jt().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,s,a){var c=be,p=Jt();if(Ne){if(a===void 0)throw Error(r(407));a=a()}else{if(a=s(),Ve===null)throw Error(r(349));(we&124)!==0||my(c,s,a)}p.memoizedState=a;var g={value:a,getSnapshot:s};return p.queue=g,Ry(yy.bind(null,c,g,i),[i]),c.flags|=2048,Pl(9,Va(),gy.bind(null,c,g,a,s),null),a},useId:function(){var i=Jt(),s=Ve.identifierPrefix;if(Ne){var a=ar,c=or;a=(c&~(1<<32-Lt(c)-1)).toString(32)+a,s=""+s+"R"+a,a=Pa++,0<a&&(s+="H"+a.toString(32)),s+=""}else a=jE++,s=""+s+"r"+a.toString(32)+"";return i.memoizedState=s},useHostTransitionStatus:wd,useFormState:Ay,useActionState:Ay,useOptimistic:function(i){var s=Jt();s.memoizedState=s.baseState=i;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=a,s=Od.bind(null,be,!0,a),a.dispatch=s,[i,s]},useMemoCache:Sd,useCacheRefresh:function(){return Jt().memoizedState=VE.bind(null,be)}},Jy={readContext:At,use:Ha,useCallback:_y,useContext:At,useEffect:Dy,useImperativeHandle:jy,useInsertionEffect:zy,useLayoutEffect:By,useMemo:Py,useReducer:Ua,useRef:Ny,useState:function(){return Ua(fr)},useDebugValue:Td,useDeferredValue:function(i,s){var a=it();return Hy(a,Le.memoizedState,i,s)},useTransition:function(){var i=Ua(fr)[0],s=it().memoizedState;return[typeof i=="boolean"?i:Xs(i),s]},useSyncExternalStore:py,useId:Iy,useHostTransitionStatus:wd,useFormState:wy,useActionState:wy,useOptimistic:function(i,s){var a=it();return vy(a,Le,i,s)},useMemoCache:Sd,useCacheRefresh:Fy},IE={readContext:At,use:Ha,useCallback:_y,useContext:At,useEffect:Dy,useImperativeHandle:jy,useInsertionEffect:zy,useLayoutEffect:By,useMemo:Py,useReducer:xd,useRef:Ny,useState:function(){return xd(fr)},useDebugValue:Td,useDeferredValue:function(i,s){var a=it();return Le===null?kd(a,i,s):Hy(a,Le.memoizedState,i,s)},useTransition:function(){var i=xd(fr)[0],s=it().memoizedState;return[typeof i=="boolean"?i:Xs(i),s]},useSyncExternalStore:py,useId:Iy,useHostTransitionStatus:wd,useFormState:My,useActionState:My,useOptimistic:function(i,s){var a=it();return Le!==null?vy(a,Le,i,s):(a.baseState=i,[i,a.queue.dispatch])},useMemoCache:Sd,useCacheRefresh:Fy},Hl=null,Ws=0;function $a(i){var s=Ws;return Ws+=1,Hl===null&&(Hl=[]),sy(Hl,i,s)}function eo(i,s){s=s.props.ref,i.ref=s!==void 0?s:null}function Ka(i,s){throw s.$$typeof===y?Error(r(525)):(i=Object.prototype.toString.call(s),Error(r(31,i==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":i)))}function Xy(i){var s=i._init;return s(i._payload)}function Qy(i){function s(D,N){if(i){var z=D.deletions;z===null?(D.deletions=[N],D.flags|=16):z.push(N)}}function a(D,N){if(!i)return null;for(;N!==null;)s(D,N),N=N.sibling;return null}function c(D){for(var N=new Map;D!==null;)D.key!==null?N.set(D.key,D):N.set(D.index,D),D=D.sibling;return N}function p(D,N){return D=sr(D,N),D.index=0,D.sibling=null,D}function g(D,N,z){return D.index=z,i?(z=D.alternate,z!==null?(z=z.index,z<N?(D.flags|=67108866,N):z):(D.flags|=67108866,N)):(D.flags|=1048576,N)}function x(D){return i&&D.alternate===null&&(D.flags|=67108866),D}function E(D,N,z,V){return N===null||N.tag!==6?(N=Jf(z,D.mode,V),N.return=D,N):(N=p(N,z),N.return=D,N)}function w(D,N,z,V){var ee=z.type;return ee===S?U(D,N,z.props.children,V,z.key):N!==null&&(N.elementType===ee||typeof ee=="object"&&ee!==null&&ee.$$typeof===ce&&Xy(ee)===N.type)?(N=p(N,z.props),eo(N,z),N.return=D,N):(N=Oa(z.type,z.key,z.props,null,D.mode,V),eo(N,z),N.return=D,N)}function B(D,N,z,V){return N===null||N.tag!==4||N.stateNode.containerInfo!==z.containerInfo||N.stateNode.implementation!==z.implementation?(N=Xf(z,D.mode,V),N.return=D,N):(N=p(N,z.children||[]),N.return=D,N)}function U(D,N,z,V,ee){return N===null||N.tag!==7?(N=Ri(z,D.mode,V,ee),N.return=D,N):(N=p(N,z),N.return=D,N)}function I(D,N,z){if(typeof N=="string"&&N!==""||typeof N=="number"||typeof N=="bigint")return N=Jf(""+N,D.mode,z),N.return=D,N;if(typeof N=="object"&&N!==null){switch(N.$$typeof){case b:return z=Oa(N.type,N.key,N.props,null,D.mode,z),eo(z,N),z.return=D,z;case v:return N=Xf(N,D.mode,z),N.return=D,N;case ce:var V=N._init;return N=V(N._payload),I(D,N,z)}if(Ge(N)||Fe(N))return N=Ri(N,D.mode,z,null),N.return=D,N;if(typeof N.then=="function")return I(D,$a(N),z);if(N.$$typeof===_)return I(D,Da(D,N),z);Ka(D,N)}return null}function L(D,N,z,V){var ee=N!==null?N.key:null;if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return ee!==null?null:E(D,N,""+z,V);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case b:return z.key===ee?w(D,N,z,V):null;case v:return z.key===ee?B(D,N,z,V):null;case ce:return ee=z._init,z=ee(z._payload),L(D,N,z,V)}if(Ge(z)||Fe(z))return ee!==null?null:U(D,N,z,V,null);if(typeof z.then=="function")return L(D,N,$a(z),V);if(z.$$typeof===_)return L(D,N,Da(D,z),V);Ka(D,z)}return null}function j(D,N,z,V,ee){if(typeof V=="string"&&V!==""||typeof V=="number"||typeof V=="bigint")return D=D.get(z)||null,E(N,D,""+V,ee);if(typeof V=="object"&&V!==null){switch(V.$$typeof){case b:return D=D.get(V.key===null?z:V.key)||null,w(N,D,V,ee);case v:return D=D.get(V.key===null?z:V.key)||null,B(N,D,V,ee);case ce:var xe=V._init;return V=xe(V._payload),j(D,N,z,V,ee)}if(Ge(V)||Fe(V))return D=D.get(z)||null,U(N,D,V,ee,null);if(typeof V.then=="function")return j(D,N,z,$a(V),ee);if(V.$$typeof===_)return j(D,N,z,Da(N,V),ee);Ka(N,V)}return null}function fe(D,N,z,V){for(var ee=null,xe=null,ie=N,ue=N=0,dt=null;ie!==null&&ue<z.length;ue++){ie.index>ue?(dt=ie,ie=null):dt=ie.sibling;var Oe=L(D,ie,z[ue],V);if(Oe===null){ie===null&&(ie=dt);break}i&&ie&&Oe.alternate===null&&s(D,ie),N=g(Oe,N,ue),xe===null?ee=Oe:xe.sibling=Oe,xe=Oe,ie=dt}if(ue===z.length)return a(D,ie),Ne&&zi(D,ue),ee;if(ie===null){for(;ue<z.length;ue++)ie=I(D,z[ue],V),ie!==null&&(N=g(ie,N,ue),xe===null?ee=ie:xe.sibling=ie,xe=ie);return Ne&&zi(D,ue),ee}for(ie=c(ie);ue<z.length;ue++)dt=j(ie,D,ue,z[ue],V),dt!==null&&(i&&dt.alternate!==null&&ie.delete(dt.key===null?ue:dt.key),N=g(dt,N,ue),xe===null?ee=dt:xe.sibling=dt,xe=dt);return i&&ie.forEach(function(ti){return s(D,ti)}),Ne&&zi(D,ue),ee}function ae(D,N,z,V){if(z==null)throw Error(r(151));for(var ee=null,xe=null,ie=N,ue=N=0,dt=null,Oe=z.next();ie!==null&&!Oe.done;ue++,Oe=z.next()){ie.index>ue?(dt=ie,ie=null):dt=ie.sibling;var ti=L(D,ie,Oe.value,V);if(ti===null){ie===null&&(ie=dt);break}i&&ie&&ti.alternate===null&&s(D,ie),N=g(ti,N,ue),xe===null?ee=ti:xe.sibling=ti,xe=ti,ie=dt}if(Oe.done)return a(D,ie),Ne&&zi(D,ue),ee;if(ie===null){for(;!Oe.done;ue++,Oe=z.next())Oe=I(D,Oe.value,V),Oe!==null&&(N=g(Oe,N,ue),xe===null?ee=Oe:xe.sibling=Oe,xe=Oe);return Ne&&zi(D,ue),ee}for(ie=c(ie);!Oe.done;ue++,Oe=z.next())Oe=j(ie,D,ue,Oe.value,V),Oe!==null&&(i&&Oe.alternate!==null&&ie.delete(Oe.key===null?ue:Oe.key),N=g(Oe,N,ue),xe===null?ee=Oe:xe.sibling=Oe,xe=Oe);return i&&ie.forEach(function(FT){return s(D,FT)}),Ne&&zi(D,ue),ee}function _e(D,N,z,V){if(typeof z=="object"&&z!==null&&z.type===S&&z.key===null&&(z=z.props.children),typeof z=="object"&&z!==null){switch(z.$$typeof){case b:e:{for(var ee=z.key;N!==null;){if(N.key===ee){if(ee=z.type,ee===S){if(N.tag===7){a(D,N.sibling),V=p(N,z.props.children),V.return=D,D=V;break e}}else if(N.elementType===ee||typeof ee=="object"&&ee!==null&&ee.$$typeof===ce&&Xy(ee)===N.type){a(D,N.sibling),V=p(N,z.props),eo(V,z),V.return=D,D=V;break e}a(D,N);break}else s(D,N);N=N.sibling}z.type===S?(V=Ri(z.props.children,D.mode,V,z.key),V.return=D,D=V):(V=Oa(z.type,z.key,z.props,null,D.mode,V),eo(V,z),V.return=D,D=V)}return x(D);case v:e:{for(ee=z.key;N!==null;){if(N.key===ee)if(N.tag===4&&N.stateNode.containerInfo===z.containerInfo&&N.stateNode.implementation===z.implementation){a(D,N.sibling),V=p(N,z.children||[]),V.return=D,D=V;break e}else{a(D,N);break}else s(D,N);N=N.sibling}V=Xf(z,D.mode,V),V.return=D,D=V}return x(D);case ce:return ee=z._init,z=ee(z._payload),_e(D,N,z,V)}if(Ge(z))return fe(D,N,z,V);if(Fe(z)){if(ee=Fe(z),typeof ee!="function")throw Error(r(150));return z=ee.call(z),ae(D,N,z,V)}if(typeof z.then=="function")return _e(D,N,$a(z),V);if(z.$$typeof===_)return _e(D,N,Da(D,z),V);Ka(D,z)}return typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint"?(z=""+z,N!==null&&N.tag===6?(a(D,N.sibling),V=p(N,z),V.return=D,D=V):(a(D,N),V=Jf(z,D.mode,V),V.return=D,D=V),x(D)):a(D,N)}return function(D,N,z,V){try{Ws=0;var ee=_e(D,N,z,V);return Hl=null,ee}catch(ie){if(ie===Fs||ie===Ba)throw ie;var xe=sn(29,ie,null,D.mode);return xe.lanes=V,xe.return=D,xe}finally{}}}var Ul=Qy(!0),Zy=Qy(!1),Tn=F(null),$n=null;function Ur(i){var s=i.alternate;X(ot,ot.current&1),X(Tn,i),$n===null&&(s===null||Ll.current!==null||s.memoizedState!==null)&&($n=i)}function Wy(i){if(i.tag===22){if(X(ot,ot.current),X(Tn,i),$n===null){var s=i.alternate;s!==null&&s.memoizedState!==null&&($n=i)}}else Vr()}function Vr(){X(ot,ot.current),X(Tn,Tn.current)}function dr(i){Z(Tn),$n===i&&($n=null),Z(ot)}var ot=F(0);function Ga(i){for(var s=i;s!==null;){if(s.tag===13){var a=s.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||bh(a)))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}function Md(i,s,a,c){s=i.memoizedState,a=a(c,s),a=a==null?s:m({},s,a),i.memoizedState=a,i.lanes===0&&(i.updateQueue.baseState=a)}var Nd={enqueueSetState:function(i,s,a){i=i._reactInternals;var c=cn(),p=_r(c);p.payload=s,a!=null&&(p.callback=a),s=Pr(i,p,c),s!==null&&(fn(s,i,c),Ks(s,i,c))},enqueueReplaceState:function(i,s,a){i=i._reactInternals;var c=cn(),p=_r(c);p.tag=1,p.payload=s,a!=null&&(p.callback=a),s=Pr(i,p,c),s!==null&&(fn(s,i,c),Ks(s,i,c))},enqueueForceUpdate:function(i,s){i=i._reactInternals;var a=cn(),c=_r(a);c.tag=2,s!=null&&(c.callback=s),s=Pr(i,c,a),s!==null&&(fn(s,i,a),Ks(s,i,a))}};function e0(i,s,a,c,p,g,x){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(c,g,x):s.prototype&&s.prototype.isPureReactComponent?!js(a,c)||!js(p,g):!0}function t0(i,s,a,c){i=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(a,c),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(a,c),s.state!==i&&Nd.enqueueReplaceState(s,s.state,null)}function Ui(i,s){var a=s;if("ref"in s){a={};for(var c in s)c!=="ref"&&(a[c]=s[c])}if(i=i.defaultProps){a===s&&(a=m({},a));for(var p in i)a[p]===void 0&&(a[p]=i[p])}return a}var Ya=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)};function n0(i){Ya(i)}function r0(i){console.error(i)}function i0(i){Ya(i)}function Ja(i,s){try{var a=i.onUncaughtError;a(s.value,{componentStack:s.stack})}catch(c){setTimeout(function(){throw c})}}function l0(i,s,a){try{var c=i.onCaughtError;c(a.value,{componentStack:a.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(p){setTimeout(function(){throw p})}}function Rd(i,s,a){return a=_r(a),a.tag=3,a.payload={element:null},a.callback=function(){Ja(i,s)},a}function s0(i){return i=_r(i),i.tag=3,i}function o0(i,s,a,c){var p=a.type.getDerivedStateFromError;if(typeof p=="function"){var g=c.value;i.payload=function(){return p(g)},i.callback=function(){l0(s,a,c)}}var x=a.stateNode;x!==null&&typeof x.componentDidCatch=="function"&&(i.callback=function(){l0(s,a,c),typeof p!="function"&&(Gr===null?Gr=new Set([this]):Gr.add(this));var E=c.stack;this.componentDidCatch(c.value,{componentStack:E!==null?E:""})})}function FE(i,s,a,c,p){if(a.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(s=a.alternate,s!==null&&Vs(s,a,p,!0),a=Tn.current,a!==null){switch(a.tag){case 13:return $n===null?th():a.alternate===null&&Qe===0&&(Qe=3),a.flags&=-257,a.flags|=65536,a.lanes=p,c===sd?a.flags|=16384:(s=a.updateQueue,s===null?a.updateQueue=new Set([c]):s.add(c),rh(i,c,p)),!1;case 22:return a.flags|=65536,c===sd?a.flags|=16384:(s=a.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([c])},a.updateQueue=s):(a=s.retryQueue,a===null?s.retryQueue=new Set([c]):a.add(c)),rh(i,c,p)),!1}throw Error(r(435,a.tag))}return rh(i,c,p),th(),!1}if(Ne)return s=Tn.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=p,c!==Wf&&(i=Error(r(422),{cause:c}),Us(vn(i,a)))):(c!==Wf&&(s=Error(r(423),{cause:c}),Us(vn(s,a))),i=i.current.alternate,i.flags|=65536,p&=-p,i.lanes|=p,c=vn(c,a),p=Rd(i.stateNode,c,p),ud(i,p),Qe!==4&&(Qe=2)),!1;var g=Error(r(520),{cause:c});if(g=vn(g,a),oo===null?oo=[g]:oo.push(g),Qe!==4&&(Qe=2),s===null)return!0;c=vn(c,a),a=s;do{switch(a.tag){case 3:return a.flags|=65536,i=p&-p,a.lanes|=i,i=Rd(a.stateNode,c,i),ud(a,i),!1;case 1:if(s=a.type,g=a.stateNode,(a.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(Gr===null||!Gr.has(g))))return a.flags|=65536,p&=-p,a.lanes|=p,p=s0(p),o0(p,i,a,c),ud(a,p),!1}a=a.return}while(a!==null);return!1}var a0=Error(r(461)),ct=!1;function yt(i,s,a,c){s.child=i===null?Zy(s,null,a,c):Ul(s,i.child,a,c)}function u0(i,s,a,c,p){a=a.render;var g=s.ref;if("ref"in c){var x={};for(var E in c)E!=="ref"&&(x[E]=c[E])}else x=c;return _i(s),c=pd(i,s,a,x,g,p),E=md(),i!==null&&!ct?(gd(i,s,p),hr(i,s,p)):(Ne&&E&&Qf(s),s.flags|=1,yt(i,s,c,p),s.child)}function c0(i,s,a,c,p){if(i===null){var g=a.type;return typeof g=="function"&&!Yf(g)&&g.defaultProps===void 0&&a.compare===null?(s.tag=15,s.type=g,f0(i,s,g,c,p)):(i=Oa(a.type,null,c,s,s.mode,p),i.ref=s.ref,i.return=s,s.child=i)}if(g=i.child,!Hd(i,p)){var x=g.memoizedProps;if(a=a.compare,a=a!==null?a:js,a(x,c)&&i.ref===s.ref)return hr(i,s,p)}return s.flags|=1,i=sr(g,c),i.ref=s.ref,i.return=s,s.child=i}function f0(i,s,a,c,p){if(i!==null){var g=i.memoizedProps;if(js(g,c)&&i.ref===s.ref)if(ct=!1,s.pendingProps=c=g,Hd(i,p))(i.flags&131072)!==0&&(ct=!0);else return s.lanes=i.lanes,hr(i,s,p)}return Dd(i,s,a,c,p)}function d0(i,s,a){var c=s.pendingProps,p=c.children,g=i!==null?i.memoizedState:null;if(c.mode==="hidden"){if((s.flags&128)!==0){if(c=g!==null?g.baseLanes|a:a,i!==null){for(p=s.child=i.child,g=0;p!==null;)g=g|p.lanes|p.childLanes,p=p.sibling;s.childLanes=g&~c}else s.childLanes=0,s.child=null;return h0(i,s,c,a)}if((a&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},i!==null&&za(s,g!==null?g.cachePool:null),g!==null?fy(s,g):fd(),Wy(s);else return s.lanes=s.childLanes=536870912,h0(i,s,g!==null?g.baseLanes|a:a,a)}else g!==null?(za(s,g.cachePool),fy(s,g),Vr(),s.memoizedState=null):(i!==null&&za(s,null),fd(),Vr());return yt(i,s,p,a),s.child}function h0(i,s,a,c){var p=ld();return p=p===null?null:{parent:st._currentValue,pool:p},s.memoizedState={baseLanes:a,cachePool:p},i!==null&&za(s,null),fd(),Wy(s),i!==null&&Vs(i,s,c,!0),null}function Xa(i,s){var a=s.ref;if(a===null)i!==null&&i.ref!==null&&(s.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(r(284));(i===null||i.ref!==a)&&(s.flags|=4194816)}}function Dd(i,s,a,c,p){return _i(s),a=pd(i,s,a,c,void 0,p),c=md(),i!==null&&!ct?(gd(i,s,p),hr(i,s,p)):(Ne&&c&&Qf(s),s.flags|=1,yt(i,s,a,p),s.child)}function p0(i,s,a,c,p,g){return _i(s),s.updateQueue=null,a=hy(s,c,a,p),dy(i),c=md(),i!==null&&!ct?(gd(i,s,g),hr(i,s,g)):(Ne&&c&&Qf(s),s.flags|=1,yt(i,s,a,g),s.child)}function m0(i,s,a,c,p){if(_i(s),s.stateNode===null){var g=Nl,x=a.contextType;typeof x=="object"&&x!==null&&(g=At(x)),g=new a(c,g),s.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,g.updater=Nd,s.stateNode=g,g._reactInternals=s,g=s.stateNode,g.props=c,g.state=s.memoizedState,g.refs={},od(s),x=a.contextType,g.context=typeof x=="object"&&x!==null?At(x):Nl,g.state=s.memoizedState,x=a.getDerivedStateFromProps,typeof x=="function"&&(Md(s,a,x,c),g.state=s.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(x=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),x!==g.state&&Nd.enqueueReplaceState(g,g.state,null),Ys(s,c,g,p),Gs(),g.state=s.memoizedState),typeof g.componentDidMount=="function"&&(s.flags|=4194308),c=!0}else if(i===null){g=s.stateNode;var E=s.memoizedProps,w=Ui(a,E);g.props=w;var B=g.context,U=a.contextType;x=Nl,typeof U=="object"&&U!==null&&(x=At(U));var I=a.getDerivedStateFromProps;U=typeof I=="function"||typeof g.getSnapshotBeforeUpdate=="function",E=s.pendingProps!==E,U||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(E||B!==x)&&t0(s,g,c,x),jr=!1;var L=s.memoizedState;g.state=L,Ys(s,c,g,p),Gs(),B=s.memoizedState,E||L!==B||jr?(typeof I=="function"&&(Md(s,a,I,c),B=s.memoizedState),(w=jr||e0(s,a,w,c,L,B,x))?(U||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(s.flags|=4194308)):(typeof g.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=c,s.memoizedState=B),g.props=c,g.state=B,g.context=x,c=w):(typeof g.componentDidMount=="function"&&(s.flags|=4194308),c=!1)}else{g=s.stateNode,ad(i,s),x=s.memoizedProps,U=Ui(a,x),g.props=U,I=s.pendingProps,L=g.context,B=a.contextType,w=Nl,typeof B=="object"&&B!==null&&(w=At(B)),E=a.getDerivedStateFromProps,(B=typeof E=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(x!==I||L!==w)&&t0(s,g,c,w),jr=!1,L=s.memoizedState,g.state=L,Ys(s,c,g,p),Gs();var j=s.memoizedState;x!==I||L!==j||jr||i!==null&&i.dependencies!==null&&Ra(i.dependencies)?(typeof E=="function"&&(Md(s,a,E,c),j=s.memoizedState),(U=jr||e0(s,a,U,c,L,j,w)||i!==null&&i.dependencies!==null&&Ra(i.dependencies))?(B||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(c,j,w),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(c,j,w)),typeof g.componentDidUpdate=="function"&&(s.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof g.componentDidUpdate!="function"||x===i.memoizedProps&&L===i.memoizedState||(s.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||x===i.memoizedProps&&L===i.memoizedState||(s.flags|=1024),s.memoizedProps=c,s.memoizedState=j),g.props=c,g.state=j,g.context=w,c=U):(typeof g.componentDidUpdate!="function"||x===i.memoizedProps&&L===i.memoizedState||(s.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||x===i.memoizedProps&&L===i.memoizedState||(s.flags|=1024),c=!1)}return g=c,Xa(i,s),c=(s.flags&128)!==0,g||c?(g=s.stateNode,a=c&&typeof a.getDerivedStateFromError!="function"?null:g.render(),s.flags|=1,i!==null&&c?(s.child=Ul(s,i.child,null,p),s.child=Ul(s,null,a,p)):yt(i,s,a,p),s.memoizedState=g.state,i=s.child):i=hr(i,s,p),i}function g0(i,s,a,c){return Hs(),s.flags|=256,yt(i,s,a,c),s.child}var zd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Bd(i){return{baseLanes:i,cachePool:ry()}}function Ld(i,s,a){return i=i!==null?i.childLanes&~a:0,s&&(i|=kn),i}function y0(i,s,a){var c=s.pendingProps,p=!1,g=(s.flags&128)!==0,x;if((x=g)||(x=i!==null&&i.memoizedState===null?!1:(ot.current&2)!==0),x&&(p=!0,s.flags&=-129),x=(s.flags&32)!==0,s.flags&=-33,i===null){if(Ne){if(p?Ur(s):Vr(),Ne){var E=Xe,w;if(w=E){e:{for(w=E,E=Fn;w.nodeType!==8;){if(!E){E=null;break e}if(w=Ln(w.nextSibling),w===null){E=null;break e}}E=w}E!==null?(s.memoizedState={dehydrated:E,treeContext:Di!==null?{id:or,overflow:ar}:null,retryLane:536870912,hydrationErrors:null},w=sn(18,null,null,0),w.stateNode=E,w.return=s,s.child=w,Pt=s,Xe=null,w=!0):w=!1}w||Li(s)}if(E=s.memoizedState,E!==null&&(E=E.dehydrated,E!==null))return bh(E)?s.lanes=32:s.lanes=536870912,null;dr(s)}return E=c.children,c=c.fallback,p?(Vr(),p=s.mode,E=Qa({mode:"hidden",children:E},p),c=Ri(c,p,a,null),E.return=s,c.return=s,E.sibling=c,s.child=E,p=s.child,p.memoizedState=Bd(a),p.childLanes=Ld(i,x,a),s.memoizedState=zd,c):(Ur(s),jd(s,E))}if(w=i.memoizedState,w!==null&&(E=w.dehydrated,E!==null)){if(g)s.flags&256?(Ur(s),s.flags&=-257,s=_d(i,s,a)):s.memoizedState!==null?(Vr(),s.child=i.child,s.flags|=128,s=null):(Vr(),p=c.fallback,E=s.mode,c=Qa({mode:"visible",children:c.children},E),p=Ri(p,E,a,null),p.flags|=2,c.return=s,p.return=s,c.sibling=p,s.child=c,Ul(s,i.child,null,a),c=s.child,c.memoizedState=Bd(a),c.childLanes=Ld(i,x,a),s.memoizedState=zd,s=p);else if(Ur(s),bh(E)){if(x=E.nextSibling&&E.nextSibling.dataset,x)var B=x.dgst;x=B,c=Error(r(419)),c.stack="",c.digest=x,Us({value:c,source:null,stack:null}),s=_d(i,s,a)}else if(ct||Vs(i,s,a,!1),x=(a&i.childLanes)!==0,ct||x){if(x=Ve,x!==null&&(c=a&-a,c=(c&42)!==0?1:Sf(c),c=(c&(x.suspendedLanes|a))!==0?0:c,c!==0&&c!==w.retryLane))throw w.retryLane=c,Ml(i,c),fn(x,i,c),a0;E.data==="$?"||th(),s=_d(i,s,a)}else E.data==="$?"?(s.flags|=192,s.child=i.child,s=null):(i=w.treeContext,Xe=Ln(E.nextSibling),Pt=s,Ne=!0,Bi=null,Fn=!1,i!==null&&(Cn[En++]=or,Cn[En++]=ar,Cn[En++]=Di,or=i.id,ar=i.overflow,Di=s),s=jd(s,c.children),s.flags|=4096);return s}return p?(Vr(),p=c.fallback,E=s.mode,w=i.child,B=w.sibling,c=sr(w,{mode:"hidden",children:c.children}),c.subtreeFlags=w.subtreeFlags&65011712,B!==null?p=sr(B,p):(p=Ri(p,E,a,null),p.flags|=2),p.return=s,c.return=s,c.sibling=p,s.child=c,c=p,p=s.child,E=i.child.memoizedState,E===null?E=Bd(a):(w=E.cachePool,w!==null?(B=st._currentValue,w=w.parent!==B?{parent:B,pool:B}:w):w=ry(),E={baseLanes:E.baseLanes|a,cachePool:w}),p.memoizedState=E,p.childLanes=Ld(i,x,a),s.memoizedState=zd,c):(Ur(s),a=i.child,i=a.sibling,a=sr(a,{mode:"visible",children:c.children}),a.return=s,a.sibling=null,i!==null&&(x=s.deletions,x===null?(s.deletions=[i],s.flags|=16):x.push(i)),s.child=a,s.memoizedState=null,a)}function jd(i,s){return s=Qa({mode:"visible",children:s},i.mode),s.return=i,i.child=s}function Qa(i,s){return i=sn(22,i,null,s),i.lanes=0,i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},i}function _d(i,s,a){return Ul(s,i.child,null,a),i=jd(s,s.pendingProps.children),i.flags|=2,s.memoizedState=null,i}function b0(i,s,a){i.lanes|=s;var c=i.alternate;c!==null&&(c.lanes|=s),td(i.return,s,a)}function Pd(i,s,a,c,p){var g=i.memoizedState;g===null?i.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:c,tail:a,tailMode:p}:(g.isBackwards=s,g.rendering=null,g.renderingStartTime=0,g.last=c,g.tail=a,g.tailMode=p)}function S0(i,s,a){var c=s.pendingProps,p=c.revealOrder,g=c.tail;if(yt(i,s,c.children,a),c=ot.current,(c&2)!==0)c=c&1|2,s.flags|=128;else{if(i!==null&&(i.flags&128)!==0)e:for(i=s.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&b0(i,a,s);else if(i.tag===19)b0(i,a,s);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===s)break e;for(;i.sibling===null;){if(i.return===null||i.return===s)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}c&=1}switch(X(ot,c),p){case"forwards":for(a=s.child,p=null;a!==null;)i=a.alternate,i!==null&&Ga(i)===null&&(p=a),a=a.sibling;a=p,a===null?(p=s.child,s.child=null):(p=a.sibling,a.sibling=null),Pd(s,!1,p,a,g);break;case"backwards":for(a=null,p=s.child,s.child=null;p!==null;){if(i=p.alternate,i!==null&&Ga(i)===null){s.child=p;break}i=p.sibling,p.sibling=a,a=p,p=i}Pd(s,!0,a,null,g);break;case"together":Pd(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function hr(i,s,a){if(i!==null&&(s.dependencies=i.dependencies),Kr|=s.lanes,(a&s.childLanes)===0)if(i!==null){if(Vs(i,s,a,!1),(a&s.childLanes)===0)return null}else return null;if(i!==null&&s.child!==i.child)throw Error(r(153));if(s.child!==null){for(i=s.child,a=sr(i,i.pendingProps),s.child=a,a.return=s;i.sibling!==null;)i=i.sibling,a=a.sibling=sr(i,i.pendingProps),a.return=s;a.sibling=null}return s.child}function Hd(i,s){return(i.lanes&s)!==0?!0:(i=i.dependencies,!!(i!==null&&Ra(i)))}function $E(i,s,a){switch(s.tag){case 3:Ue(s,s.stateNode.containerInfo),Lr(s,st,i.memoizedState.cache),Hs();break;case 27:case 5:Cs(s);break;case 4:Ue(s,s.stateNode.containerInfo);break;case 10:Lr(s,s.type,s.memoizedProps.value);break;case 13:var c=s.memoizedState;if(c!==null)return c.dehydrated!==null?(Ur(s),s.flags|=128,null):(a&s.child.childLanes)!==0?y0(i,s,a):(Ur(s),i=hr(i,s,a),i!==null?i.sibling:null);Ur(s);break;case 19:var p=(i.flags&128)!==0;if(c=(a&s.childLanes)!==0,c||(Vs(i,s,a,!1),c=(a&s.childLanes)!==0),p){if(c)return S0(i,s,a);s.flags|=128}if(p=s.memoizedState,p!==null&&(p.rendering=null,p.tail=null,p.lastEffect=null),X(ot,ot.current),c)break;return null;case 22:case 23:return s.lanes=0,d0(i,s,a);case 24:Lr(s,st,i.memoizedState.cache)}return hr(i,s,a)}function v0(i,s,a){if(i!==null)if(i.memoizedProps!==s.pendingProps)ct=!0;else{if(!Hd(i,a)&&(s.flags&128)===0)return ct=!1,$E(i,s,a);ct=(i.flags&131072)!==0}else ct=!1,Ne&&(s.flags&1048576)!==0&&Xg(s,Na,s.index);switch(s.lanes=0,s.tag){case 16:e:{i=s.pendingProps;var c=s.elementType,p=c._init;if(c=p(c._payload),s.type=c,typeof c=="function")Yf(c)?(i=Ui(c,i),s.tag=1,s=m0(null,s,c,i,a)):(s.tag=0,s=Dd(null,s,c,i,a));else{if(c!=null){if(p=c.$$typeof,p===G){s.tag=11,s=u0(null,s,c,i,a);break e}else if(p===re){s.tag=14,s=c0(null,s,c,i,a);break e}}throw s=rn(c)||c,Error(r(306,s,""))}}return s;case 0:return Dd(i,s,s.type,s.pendingProps,a);case 1:return c=s.type,p=Ui(c,s.pendingProps),m0(i,s,c,p,a);case 3:e:{if(Ue(s,s.stateNode.containerInfo),i===null)throw Error(r(387));c=s.pendingProps;var g=s.memoizedState;p=g.element,ad(i,s),Ys(s,c,null,a);var x=s.memoizedState;if(c=x.cache,Lr(s,st,c),c!==g.cache&&nd(s,[st],a,!0),Gs(),c=x.element,g.isDehydrated)if(g={element:c,isDehydrated:!1,cache:x.cache},s.updateQueue.baseState=g,s.memoizedState=g,s.flags&256){s=g0(i,s,c,a);break e}else if(c!==p){p=vn(Error(r(424)),s),Us(p),s=g0(i,s,c,a);break e}else{switch(i=s.stateNode.containerInfo,i.nodeType){case 9:i=i.body;break;default:i=i.nodeName==="HTML"?i.ownerDocument.body:i}for(Xe=Ln(i.firstChild),Pt=s,Ne=!0,Bi=null,Fn=!0,a=Zy(s,null,c,a),s.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Hs(),c===p){s=hr(i,s,a);break e}yt(i,s,c,a)}s=s.child}return s;case 26:return Xa(i,s),i===null?(a=Tb(s.type,null,s.pendingProps,null))?s.memoizedState=a:Ne||(a=s.type,i=s.pendingProps,c=fu(de.current).createElement(a),c[kt]=s,c[Gt]=i,St(c,a,i),ut(c),s.stateNode=c):s.memoizedState=Tb(s.type,i.memoizedProps,s.pendingProps,i.memoizedState),null;case 27:return Cs(s),i===null&&Ne&&(c=s.stateNode=xb(s.type,s.pendingProps,de.current),Pt=s,Fn=!0,p=Xe,Xr(s.type)?(Sh=p,Xe=Ln(c.firstChild)):Xe=p),yt(i,s,s.pendingProps.children,a),Xa(i,s),i===null&&(s.flags|=4194304),s.child;case 5:return i===null&&Ne&&((p=c=Xe)&&(c=ST(c,s.type,s.pendingProps,Fn),c!==null?(s.stateNode=c,Pt=s,Xe=Ln(c.firstChild),Fn=!1,p=!0):p=!1),p||Li(s)),Cs(s),p=s.type,g=s.pendingProps,x=i!==null?i.memoizedProps:null,c=g.children,mh(p,g)?c=null:x!==null&&mh(p,x)&&(s.flags|=32),s.memoizedState!==null&&(p=pd(i,s,_E,null,null,a),yo._currentValue=p),Xa(i,s),yt(i,s,c,a),s.child;case 6:return i===null&&Ne&&((i=a=Xe)&&(a=vT(a,s.pendingProps,Fn),a!==null?(s.stateNode=a,Pt=s,Xe=null,i=!0):i=!1),i||Li(s)),null;case 13:return y0(i,s,a);case 4:return Ue(s,s.stateNode.containerInfo),c=s.pendingProps,i===null?s.child=Ul(s,null,c,a):yt(i,s,c,a),s.child;case 11:return u0(i,s,s.type,s.pendingProps,a);case 7:return yt(i,s,s.pendingProps,a),s.child;case 8:return yt(i,s,s.pendingProps.children,a),s.child;case 12:return yt(i,s,s.pendingProps.children,a),s.child;case 10:return c=s.pendingProps,Lr(s,s.type,c.value),yt(i,s,c.children,a),s.child;case 9:return p=s.type._context,c=s.pendingProps.children,_i(s),p=At(p),c=c(p),s.flags|=1,yt(i,s,c,a),s.child;case 14:return c0(i,s,s.type,s.pendingProps,a);case 15:return f0(i,s,s.type,s.pendingProps,a);case 19:return S0(i,s,a);case 31:return c=s.pendingProps,a=s.mode,c={mode:c.mode,children:c.children},i===null?(a=Qa(c,a),a.ref=s.ref,s.child=a,a.return=s,s=a):(a=sr(i.child,c),a.ref=s.ref,s.child=a,a.return=s,s=a),s;case 22:return d0(i,s,a);case 24:return _i(s),c=At(st),i===null?(p=ld(),p===null&&(p=Ve,g=rd(),p.pooledCache=g,g.refCount++,g!==null&&(p.pooledCacheLanes|=a),p=g),s.memoizedState={parent:c,cache:p},od(s),Lr(s,st,p)):((i.lanes&a)!==0&&(ad(i,s),Ys(s,null,null,a),Gs()),p=i.memoizedState,g=s.memoizedState,p.parent!==c?(p={parent:c,cache:c},s.memoizedState=p,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=p),Lr(s,st,c)):(c=g.cache,Lr(s,st,c),c!==p.cache&&nd(s,[st],a,!0))),yt(i,s,s.pendingProps.children,a),s.child;case 29:throw s.pendingProps}throw Error(r(156,s.tag))}function pr(i){i.flags|=4}function x0(i,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!Mb(s)){if(s=Tn.current,s!==null&&((we&4194048)===we?$n!==null:(we&62914560)!==we&&(we&536870912)===0||s!==$n))throw $s=sd,iy;i.flags|=8192}}function Za(i,s){s!==null&&(i.flags|=4),i.flags&16384&&(s=i.tag!==22?Wm():536870912,i.lanes|=s,Fl|=s)}function to(i,s){if(!Ne)switch(i.tailMode){case"hidden":s=i.tail;for(var a=null;s!==null;)s.alternate!==null&&(a=s),s=s.sibling;a===null?i.tail=null:a.sibling=null;break;case"collapsed":a=i.tail;for(var c=null;a!==null;)a.alternate!==null&&(c=a),a=a.sibling;c===null?s||i.tail===null?i.tail=null:i.tail.sibling=null:c.sibling=null}}function Ye(i){var s=i.alternate!==null&&i.alternate.child===i.child,a=0,c=0;if(s)for(var p=i.child;p!==null;)a|=p.lanes|p.childLanes,c|=p.subtreeFlags&65011712,c|=p.flags&65011712,p.return=i,p=p.sibling;else for(p=i.child;p!==null;)a|=p.lanes|p.childLanes,c|=p.subtreeFlags,c|=p.flags,p.return=i,p=p.sibling;return i.subtreeFlags|=c,i.childLanes=a,s}function KE(i,s,a){var c=s.pendingProps;switch(Zf(s),s.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ye(s),null;case 1:return Ye(s),null;case 3:return a=s.stateNode,c=null,i!==null&&(c=i.memoizedState.cache),s.memoizedState.cache!==c&&(s.flags|=2048),cr(st),qn(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(i===null||i.child===null)&&(Ps(s)?pr(s):i===null||i.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,Wg())),Ye(s),null;case 26:return a=s.memoizedState,i===null?(pr(s),a!==null?(Ye(s),x0(s,a)):(Ye(s),s.flags&=-16777217)):a?a!==i.memoizedState?(pr(s),Ye(s),x0(s,a)):(Ye(s),s.flags&=-16777217):(i.memoizedProps!==c&&pr(s),Ye(s),s.flags&=-16777217),null;case 27:hl(s),a=de.current;var p=s.type;if(i!==null&&s.stateNode!=null)i.memoizedProps!==c&&pr(s);else{if(!c){if(s.stateNode===null)throw Error(r(166));return Ye(s),null}i=le.current,Ps(s)?Qg(s):(i=xb(p,c,a),s.stateNode=i,pr(s))}return Ye(s),null;case 5:if(hl(s),a=s.type,i!==null&&s.stateNode!=null)i.memoizedProps!==c&&pr(s);else{if(!c){if(s.stateNode===null)throw Error(r(166));return Ye(s),null}if(i=le.current,Ps(s))Qg(s);else{switch(p=fu(de.current),i){case 1:i=p.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:i=p.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":i=p.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":i=p.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":i=p.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild);break;case"select":i=typeof c.is=="string"?p.createElement("select",{is:c.is}):p.createElement("select"),c.multiple?i.multiple=!0:c.size&&(i.size=c.size);break;default:i=typeof c.is=="string"?p.createElement(a,{is:c.is}):p.createElement(a)}}i[kt]=s,i[Gt]=c;e:for(p=s.child;p!==null;){if(p.tag===5||p.tag===6)i.appendChild(p.stateNode);else if(p.tag!==4&&p.tag!==27&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===s)break e;for(;p.sibling===null;){if(p.return===null||p.return===s)break e;p=p.return}p.sibling.return=p.return,p=p.sibling}s.stateNode=i;e:switch(St(i,a,c),a){case"button":case"input":case"select":case"textarea":i=!!c.autoFocus;break e;case"img":i=!0;break e;default:i=!1}i&&pr(s)}}return Ye(s),s.flags&=-16777217,null;case 6:if(i&&s.stateNode!=null)i.memoizedProps!==c&&pr(s);else{if(typeof c!="string"&&s.stateNode===null)throw Error(r(166));if(i=de.current,Ps(s)){if(i=s.stateNode,a=s.memoizedProps,c=null,p=Pt,p!==null)switch(p.tag){case 27:case 5:c=p.memoizedProps}i[kt]=s,i=!!(i.nodeValue===a||c!==null&&c.suppressHydrationWarning===!0||pb(i.nodeValue,a)),i||Li(s)}else i=fu(i).createTextNode(c),i[kt]=s,s.stateNode=i}return Ye(s),null;case 13:if(c=s.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(p=Ps(s),c!==null&&c.dehydrated!==null){if(i===null){if(!p)throw Error(r(318));if(p=s.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(r(317));p[kt]=s}else Hs(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;Ye(s),p=!1}else p=Wg(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=p),p=!0;if(!p)return s.flags&256?(dr(s),s):(dr(s),null)}if(dr(s),(s.flags&128)!==0)return s.lanes=a,s;if(a=c!==null,i=i!==null&&i.memoizedState!==null,a){c=s.child,p=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(p=c.alternate.memoizedState.cachePool.pool);var g=null;c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(g=c.memoizedState.cachePool.pool),g!==p&&(c.flags|=2048)}return a!==i&&a&&(s.child.flags|=8192),Za(s,s.updateQueue),Ye(s),null;case 4:return qn(),i===null&&ch(s.stateNode.containerInfo),Ye(s),null;case 10:return cr(s.type),Ye(s),null;case 19:if(Z(ot),p=s.memoizedState,p===null)return Ye(s),null;if(c=(s.flags&128)!==0,g=p.rendering,g===null)if(c)to(p,!1);else{if(Qe!==0||i!==null&&(i.flags&128)!==0)for(i=s.child;i!==null;){if(g=Ga(i),g!==null){for(s.flags|=128,to(p,!1),i=g.updateQueue,s.updateQueue=i,Za(s,i),s.subtreeFlags=0,i=a,a=s.child;a!==null;)Jg(a,i),a=a.sibling;return X(ot,ot.current&1|2),s.child}i=i.sibling}p.tail!==null&&yn()>tu&&(s.flags|=128,c=!0,to(p,!1),s.lanes=4194304)}else{if(!c)if(i=Ga(g),i!==null){if(s.flags|=128,c=!0,i=i.updateQueue,s.updateQueue=i,Za(s,i),to(p,!0),p.tail===null&&p.tailMode==="hidden"&&!g.alternate&&!Ne)return Ye(s),null}else 2*yn()-p.renderingStartTime>tu&&a!==536870912&&(s.flags|=128,c=!0,to(p,!1),s.lanes=4194304);p.isBackwards?(g.sibling=s.child,s.child=g):(i=p.last,i!==null?i.sibling=g:s.child=g,p.last=g)}return p.tail!==null?(s=p.tail,p.rendering=s,p.tail=s.sibling,p.renderingStartTime=yn(),s.sibling=null,i=ot.current,X(ot,c?i&1|2:i&1),s):(Ye(s),null);case 22:case 23:return dr(s),dd(),c=s.memoizedState!==null,i!==null?i.memoizedState!==null!==c&&(s.flags|=8192):c&&(s.flags|=8192),c?(a&536870912)!==0&&(s.flags&128)===0&&(Ye(s),s.subtreeFlags&6&&(s.flags|=8192)):Ye(s),a=s.updateQueue,a!==null&&Za(s,a.retryQueue),a=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(a=i.memoizedState.cachePool.pool),c=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(c=s.memoizedState.cachePool.pool),c!==a&&(s.flags|=2048),i!==null&&Z(Pi),null;case 24:return a=null,i!==null&&(a=i.memoizedState.cache),s.memoizedState.cache!==a&&(s.flags|=2048),cr(st),Ye(s),null;case 25:return null;case 30:return null}throw Error(r(156,s.tag))}function GE(i,s){switch(Zf(s),s.tag){case 1:return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 3:return cr(st),qn(),i=s.flags,(i&65536)!==0&&(i&128)===0?(s.flags=i&-65537|128,s):null;case 26:case 27:case 5:return hl(s),null;case 13:if(dr(s),i=s.memoizedState,i!==null&&i.dehydrated!==null){if(s.alternate===null)throw Error(r(340));Hs()}return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 19:return Z(ot),null;case 4:return qn(),null;case 10:return cr(s.type),null;case 22:case 23:return dr(s),dd(),i!==null&&Z(Pi),i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 24:return cr(st),null;case 25:return null;default:return null}}function C0(i,s){switch(Zf(s),s.tag){case 3:cr(st),qn();break;case 26:case 27:case 5:hl(s);break;case 4:qn();break;case 13:dr(s);break;case 19:Z(ot);break;case 10:cr(s.type);break;case 22:case 23:dr(s),dd(),i!==null&&Z(Pi);break;case 24:cr(st)}}function no(i,s){try{var a=s.updateQueue,c=a!==null?a.lastEffect:null;if(c!==null){var p=c.next;a=p;do{if((a.tag&i)===i){c=void 0;var g=a.create,x=a.inst;c=g(),x.destroy=c}a=a.next}while(a!==p)}}catch(E){Pe(s,s.return,E)}}function qr(i,s,a){try{var c=s.updateQueue,p=c!==null?c.lastEffect:null;if(p!==null){var g=p.next;c=g;do{if((c.tag&i)===i){var x=c.inst,E=x.destroy;if(E!==void 0){x.destroy=void 0,p=s;var w=a,B=E;try{B()}catch(U){Pe(p,w,U)}}}c=c.next}while(c!==g)}}catch(U){Pe(s,s.return,U)}}function E0(i){var s=i.updateQueue;if(s!==null){var a=i.stateNode;try{cy(s,a)}catch(c){Pe(i,i.return,c)}}}function T0(i,s,a){a.props=Ui(i.type,i.memoizedProps),a.state=i.memoizedState;try{a.componentWillUnmount()}catch(c){Pe(i,s,c)}}function ro(i,s){try{var a=i.ref;if(a!==null){switch(i.tag){case 26:case 27:case 5:var c=i.stateNode;break;case 30:c=i.stateNode;break;default:c=i.stateNode}typeof a=="function"?i.refCleanup=a(c):a.current=c}}catch(p){Pe(i,s,p)}}function Kn(i,s){var a=i.ref,c=i.refCleanup;if(a!==null)if(typeof c=="function")try{c()}catch(p){Pe(i,s,p)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(p){Pe(i,s,p)}else a.current=null}function k0(i){var s=i.type,a=i.memoizedProps,c=i.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":a.autoFocus&&c.focus();break e;case"img":a.src?c.src=a.src:a.srcSet&&(c.srcset=a.srcSet)}}catch(p){Pe(i,i.return,p)}}function Ud(i,s,a){try{var c=i.stateNode;pT(c,i.type,a,s),c[Gt]=s}catch(p){Pe(i,i.return,p)}}function A0(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&Xr(i.type)||i.tag===4}function Vd(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||A0(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&Xr(i.type)||i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function qd(i,s,a){var c=i.tag;if(c===5||c===6)i=i.stateNode,s?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(i,s):(s=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,s.appendChild(i),a=a._reactRootContainer,a!=null||s.onclick!==null||(s.onclick=cu));else if(c!==4&&(c===27&&Xr(i.type)&&(a=i.stateNode,s=null),i=i.child,i!==null))for(qd(i,s,a),i=i.sibling;i!==null;)qd(i,s,a),i=i.sibling}function Wa(i,s,a){var c=i.tag;if(c===5||c===6)i=i.stateNode,s?a.insertBefore(i,s):a.appendChild(i);else if(c!==4&&(c===27&&Xr(i.type)&&(a=i.stateNode),i=i.child,i!==null))for(Wa(i,s,a),i=i.sibling;i!==null;)Wa(i,s,a),i=i.sibling}function w0(i){var s=i.stateNode,a=i.memoizedProps;try{for(var c=i.type,p=s.attributes;p.length;)s.removeAttributeNode(p[0]);St(s,c,a),s[kt]=i,s[Gt]=a}catch(g){Pe(i,i.return,g)}}var mr=!1,nt=!1,Id=!1,O0=typeof WeakSet=="function"?WeakSet:Set,ft=null;function YE(i,s){if(i=i.containerInfo,hh=yu,i=Hg(i),Vf(i)){if("selectionStart"in i)var a={start:i.selectionStart,end:i.selectionEnd};else e:{a=(a=i.ownerDocument)&&a.defaultView||window;var c=a.getSelection&&a.getSelection();if(c&&c.rangeCount!==0){a=c.anchorNode;var p=c.anchorOffset,g=c.focusNode;c=c.focusOffset;try{a.nodeType,g.nodeType}catch{a=null;break e}var x=0,E=-1,w=-1,B=0,U=0,I=i,L=null;t:for(;;){for(var j;I!==a||p!==0&&I.nodeType!==3||(E=x+p),I!==g||c!==0&&I.nodeType!==3||(w=x+c),I.nodeType===3&&(x+=I.nodeValue.length),(j=I.firstChild)!==null;)L=I,I=j;for(;;){if(I===i)break t;if(L===a&&++B===p&&(E=x),L===g&&++U===c&&(w=x),(j=I.nextSibling)!==null)break;I=L,L=I.parentNode}I=j}a=E===-1||w===-1?null:{start:E,end:w}}else a=null}a=a||{start:0,end:0}}else a=null;for(ph={focusedElem:i,selectionRange:a},yu=!1,ft=s;ft!==null;)if(s=ft,i=s.child,(s.subtreeFlags&1024)!==0&&i!==null)i.return=s,ft=i;else for(;ft!==null;){switch(s=ft,g=s.alternate,i=s.flags,s.tag){case 0:break;case 11:case 15:break;case 1:if((i&1024)!==0&&g!==null){i=void 0,a=s,p=g.memoizedProps,g=g.memoizedState,c=a.stateNode;try{var fe=Ui(a.type,p,a.elementType===a.type);i=c.getSnapshotBeforeUpdate(fe,g),c.__reactInternalSnapshotBeforeUpdate=i}catch(ae){Pe(a,a.return,ae)}}break;case 3:if((i&1024)!==0){if(i=s.stateNode.containerInfo,a=i.nodeType,a===9)yh(i);else if(a===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":yh(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(r(163))}if(i=s.sibling,i!==null){i.return=s.return,ft=i;break}ft=s.return}}function M0(i,s,a){var c=a.flags;switch(a.tag){case 0:case 11:case 15:Ir(i,a),c&4&&no(5,a);break;case 1:if(Ir(i,a),c&4)if(i=a.stateNode,s===null)try{i.componentDidMount()}catch(x){Pe(a,a.return,x)}else{var p=Ui(a.type,s.memoizedProps);s=s.memoizedState;try{i.componentDidUpdate(p,s,i.__reactInternalSnapshotBeforeUpdate)}catch(x){Pe(a,a.return,x)}}c&64&&E0(a),c&512&&ro(a,a.return);break;case 3:if(Ir(i,a),c&64&&(i=a.updateQueue,i!==null)){if(s=null,a.child!==null)switch(a.child.tag){case 27:case 5:s=a.child.stateNode;break;case 1:s=a.child.stateNode}try{cy(i,s)}catch(x){Pe(a,a.return,x)}}break;case 27:s===null&&c&4&&w0(a);case 26:case 5:Ir(i,a),s===null&&c&4&&k0(a),c&512&&ro(a,a.return);break;case 12:Ir(i,a);break;case 13:Ir(i,a),c&4&&D0(i,a),c&64&&(i=a.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(a=rT.bind(null,a),xT(i,a))));break;case 22:if(c=a.memoizedState!==null||mr,!c){s=s!==null&&s.memoizedState!==null||nt,p=mr;var g=nt;mr=c,(nt=s)&&!g?Fr(i,a,(a.subtreeFlags&8772)!==0):Ir(i,a),mr=p,nt=g}break;case 30:break;default:Ir(i,a)}}function N0(i){var s=i.alternate;s!==null&&(i.alternate=null,N0(s)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(s=i.stateNode,s!==null&&Cf(s)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var $e=null,Xt=!1;function gr(i,s,a){for(a=a.child;a!==null;)R0(i,s,a),a=a.sibling}function R0(i,s,a){if(Bt&&typeof Bt.onCommitFiberUnmount=="function")try{Bt.onCommitFiberUnmount(ki,a)}catch{}switch(a.tag){case 26:nt||Kn(a,s),gr(i,s,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:nt||Kn(a,s);var c=$e,p=Xt;Xr(a.type)&&($e=a.stateNode,Xt=!1),gr(i,s,a),ho(a.stateNode),$e=c,Xt=p;break;case 5:nt||Kn(a,s);case 6:if(c=$e,p=Xt,$e=null,gr(i,s,a),$e=c,Xt=p,$e!==null)if(Xt)try{($e.nodeType===9?$e.body:$e.nodeName==="HTML"?$e.ownerDocument.body:$e).removeChild(a.stateNode)}catch(g){Pe(a,s,g)}else try{$e.removeChild(a.stateNode)}catch(g){Pe(a,s,g)}break;case 18:$e!==null&&(Xt?(i=$e,Sb(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,a.stateNode),xo(i)):Sb($e,a.stateNode));break;case 4:c=$e,p=Xt,$e=a.stateNode.containerInfo,Xt=!0,gr(i,s,a),$e=c,Xt=p;break;case 0:case 11:case 14:case 15:nt||qr(2,a,s),nt||qr(4,a,s),gr(i,s,a);break;case 1:nt||(Kn(a,s),c=a.stateNode,typeof c.componentWillUnmount=="function"&&T0(a,s,c)),gr(i,s,a);break;case 21:gr(i,s,a);break;case 22:nt=(c=nt)||a.memoizedState!==null,gr(i,s,a),nt=c;break;default:gr(i,s,a)}}function D0(i,s){if(s.memoizedState===null&&(i=s.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{xo(i)}catch(a){Pe(s,s.return,a)}}function JE(i){switch(i.tag){case 13:case 19:var s=i.stateNode;return s===null&&(s=i.stateNode=new O0),s;case 22:return i=i.stateNode,s=i._retryCache,s===null&&(s=i._retryCache=new O0),s;default:throw Error(r(435,i.tag))}}function Fd(i,s){var a=JE(i);s.forEach(function(c){var p=iT.bind(null,i,c);a.has(c)||(a.add(c),c.then(p,p))})}function on(i,s){var a=s.deletions;if(a!==null)for(var c=0;c<a.length;c++){var p=a[c],g=i,x=s,E=x;e:for(;E!==null;){switch(E.tag){case 27:if(Xr(E.type)){$e=E.stateNode,Xt=!1;break e}break;case 5:$e=E.stateNode,Xt=!1;break e;case 3:case 4:$e=E.stateNode.containerInfo,Xt=!0;break e}E=E.return}if($e===null)throw Error(r(160));R0(g,x,p),$e=null,Xt=!1,g=p.alternate,g!==null&&(g.return=null),p.return=null}if(s.subtreeFlags&13878)for(s=s.child;s!==null;)z0(s,i),s=s.sibling}var Bn=null;function z0(i,s){var a=i.alternate,c=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:on(s,i),an(i),c&4&&(qr(3,i,i.return),no(3,i),qr(5,i,i.return));break;case 1:on(s,i),an(i),c&512&&(nt||a===null||Kn(a,a.return)),c&64&&mr&&(i=i.updateQueue,i!==null&&(c=i.callbacks,c!==null&&(a=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=a===null?c:a.concat(c))));break;case 26:var p=Bn;if(on(s,i),an(i),c&512&&(nt||a===null||Kn(a,a.return)),c&4){var g=a!==null?a.memoizedState:null;if(c=i.memoizedState,a===null)if(c===null)if(i.stateNode===null){e:{c=i.type,a=i.memoizedProps,p=p.ownerDocument||p;t:switch(c){case"title":g=p.getElementsByTagName("title")[0],(!g||g[ws]||g[kt]||g.namespaceURI==="http://www.w3.org/2000/svg"||g.hasAttribute("itemprop"))&&(g=p.createElement(c),p.head.insertBefore(g,p.querySelector("head > title"))),St(g,c,a),g[kt]=i,ut(g),c=g;break e;case"link":var x=wb("link","href",p).get(c+(a.href||""));if(x){for(var E=0;E<x.length;E++)if(g=x[E],g.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&g.getAttribute("rel")===(a.rel==null?null:a.rel)&&g.getAttribute("title")===(a.title==null?null:a.title)&&g.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){x.splice(E,1);break t}}g=p.createElement(c),St(g,c,a),p.head.appendChild(g);break;case"meta":if(x=wb("meta","content",p).get(c+(a.content||""))){for(E=0;E<x.length;E++)if(g=x[E],g.getAttribute("content")===(a.content==null?null:""+a.content)&&g.getAttribute("name")===(a.name==null?null:a.name)&&g.getAttribute("property")===(a.property==null?null:a.property)&&g.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&g.getAttribute("charset")===(a.charSet==null?null:a.charSet)){x.splice(E,1);break t}}g=p.createElement(c),St(g,c,a),p.head.appendChild(g);break;default:throw Error(r(468,c))}g[kt]=i,ut(g),c=g}i.stateNode=c}else Ob(p,i.type,i.stateNode);else i.stateNode=Ab(p,c,i.memoizedProps);else g!==c?(g===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):g.count--,c===null?Ob(p,i.type,i.stateNode):Ab(p,c,i.memoizedProps)):c===null&&i.stateNode!==null&&Ud(i,i.memoizedProps,a.memoizedProps)}break;case 27:on(s,i),an(i),c&512&&(nt||a===null||Kn(a,a.return)),a!==null&&c&4&&Ud(i,i.memoizedProps,a.memoizedProps);break;case 5:if(on(s,i),an(i),c&512&&(nt||a===null||Kn(a,a.return)),i.flags&32){p=i.stateNode;try{Cl(p,"")}catch(j){Pe(i,i.return,j)}}c&4&&i.stateNode!=null&&(p=i.memoizedProps,Ud(i,p,a!==null?a.memoizedProps:p)),c&1024&&(Id=!0);break;case 6:if(on(s,i),an(i),c&4){if(i.stateNode===null)throw Error(r(162));c=i.memoizedProps,a=i.stateNode;try{a.nodeValue=c}catch(j){Pe(i,i.return,j)}}break;case 3:if(pu=null,p=Bn,Bn=du(s.containerInfo),on(s,i),Bn=p,an(i),c&4&&a!==null&&a.memoizedState.isDehydrated)try{xo(s.containerInfo)}catch(j){Pe(i,i.return,j)}Id&&(Id=!1,B0(i));break;case 4:c=Bn,Bn=du(i.stateNode.containerInfo),on(s,i),an(i),Bn=c;break;case 12:on(s,i),an(i);break;case 13:on(s,i),an(i),i.child.flags&8192&&i.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Xd=yn()),c&4&&(c=i.updateQueue,c!==null&&(i.updateQueue=null,Fd(i,c)));break;case 22:p=i.memoizedState!==null;var w=a!==null&&a.memoizedState!==null,B=mr,U=nt;if(mr=B||p,nt=U||w,on(s,i),nt=U,mr=B,an(i),c&8192)e:for(s=i.stateNode,s._visibility=p?s._visibility&-2:s._visibility|1,p&&(a===null||w||mr||nt||Vi(i)),a=null,s=i;;){if(s.tag===5||s.tag===26){if(a===null){w=a=s;try{if(g=w.stateNode,p)x=g.style,typeof x.setProperty=="function"?x.setProperty("display","none","important"):x.display="none";else{E=w.stateNode;var I=w.memoizedProps.style,L=I!=null&&I.hasOwnProperty("display")?I.display:null;E.style.display=L==null||typeof L=="boolean"?"":(""+L).trim()}}catch(j){Pe(w,w.return,j)}}}else if(s.tag===6){if(a===null){w=s;try{w.stateNode.nodeValue=p?"":w.memoizedProps}catch(j){Pe(w,w.return,j)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===i)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break e;for(;s.sibling===null;){if(s.return===null||s.return===i)break e;a===s&&(a=null),s=s.return}a===s&&(a=null),s.sibling.return=s.return,s=s.sibling}c&4&&(c=i.updateQueue,c!==null&&(a=c.retryQueue,a!==null&&(c.retryQueue=null,Fd(i,a))));break;case 19:on(s,i),an(i),c&4&&(c=i.updateQueue,c!==null&&(i.updateQueue=null,Fd(i,c)));break;case 30:break;case 21:break;default:on(s,i),an(i)}}function an(i){var s=i.flags;if(s&2){try{for(var a,c=i.return;c!==null;){if(A0(c)){a=c;break}c=c.return}if(a==null)throw Error(r(160));switch(a.tag){case 27:var p=a.stateNode,g=Vd(i);Wa(i,g,p);break;case 5:var x=a.stateNode;a.flags&32&&(Cl(x,""),a.flags&=-33);var E=Vd(i);Wa(i,E,x);break;case 3:case 4:var w=a.stateNode.containerInfo,B=Vd(i);qd(i,B,w);break;default:throw Error(r(161))}}catch(U){Pe(i,i.return,U)}i.flags&=-3}s&4096&&(i.flags&=-4097)}function B0(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var s=i;B0(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),i=i.sibling}}function Ir(i,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)M0(i,s.alternate,s),s=s.sibling}function Vi(i){for(i=i.child;i!==null;){var s=i;switch(s.tag){case 0:case 11:case 14:case 15:qr(4,s,s.return),Vi(s);break;case 1:Kn(s,s.return);var a=s.stateNode;typeof a.componentWillUnmount=="function"&&T0(s,s.return,a),Vi(s);break;case 27:ho(s.stateNode);case 26:case 5:Kn(s,s.return),Vi(s);break;case 22:s.memoizedState===null&&Vi(s);break;case 30:Vi(s);break;default:Vi(s)}i=i.sibling}}function Fr(i,s,a){for(a=a&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var c=s.alternate,p=i,g=s,x=g.flags;switch(g.tag){case 0:case 11:case 15:Fr(p,g,a),no(4,g);break;case 1:if(Fr(p,g,a),c=g,p=c.stateNode,typeof p.componentDidMount=="function")try{p.componentDidMount()}catch(B){Pe(c,c.return,B)}if(c=g,p=c.updateQueue,p!==null){var E=c.stateNode;try{var w=p.shared.hiddenCallbacks;if(w!==null)for(p.shared.hiddenCallbacks=null,p=0;p<w.length;p++)uy(w[p],E)}catch(B){Pe(c,c.return,B)}}a&&x&64&&E0(g),ro(g,g.return);break;case 27:w0(g);case 26:case 5:Fr(p,g,a),a&&c===null&&x&4&&k0(g),ro(g,g.return);break;case 12:Fr(p,g,a);break;case 13:Fr(p,g,a),a&&x&4&&D0(p,g);break;case 22:g.memoizedState===null&&Fr(p,g,a),ro(g,g.return);break;case 30:break;default:Fr(p,g,a)}s=s.sibling}}function $d(i,s){var a=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(a=i.memoizedState.cachePool.pool),i=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(i=s.memoizedState.cachePool.pool),i!==a&&(i!=null&&i.refCount++,a!=null&&qs(a))}function Kd(i,s){i=null,s.alternate!==null&&(i=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==i&&(s.refCount++,i!=null&&qs(i))}function Gn(i,s,a,c){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)L0(i,s,a,c),s=s.sibling}function L0(i,s,a,c){var p=s.flags;switch(s.tag){case 0:case 11:case 15:Gn(i,s,a,c),p&2048&&no(9,s);break;case 1:Gn(i,s,a,c);break;case 3:Gn(i,s,a,c),p&2048&&(i=null,s.alternate!==null&&(i=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==i&&(s.refCount++,i!=null&&qs(i)));break;case 12:if(p&2048){Gn(i,s,a,c),i=s.stateNode;try{var g=s.memoizedProps,x=g.id,E=g.onPostCommit;typeof E=="function"&&E(x,s.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(w){Pe(s,s.return,w)}}else Gn(i,s,a,c);break;case 13:Gn(i,s,a,c);break;case 23:break;case 22:g=s.stateNode,x=s.alternate,s.memoizedState!==null?g._visibility&2?Gn(i,s,a,c):io(i,s):g._visibility&2?Gn(i,s,a,c):(g._visibility|=2,Vl(i,s,a,c,(s.subtreeFlags&10256)!==0)),p&2048&&$d(x,s);break;case 24:Gn(i,s,a,c),p&2048&&Kd(s.alternate,s);break;default:Gn(i,s,a,c)}}function Vl(i,s,a,c,p){for(p=p&&(s.subtreeFlags&10256)!==0,s=s.child;s!==null;){var g=i,x=s,E=a,w=c,B=x.flags;switch(x.tag){case 0:case 11:case 15:Vl(g,x,E,w,p),no(8,x);break;case 23:break;case 22:var U=x.stateNode;x.memoizedState!==null?U._visibility&2?Vl(g,x,E,w,p):io(g,x):(U._visibility|=2,Vl(g,x,E,w,p)),p&&B&2048&&$d(x.alternate,x);break;case 24:Vl(g,x,E,w,p),p&&B&2048&&Kd(x.alternate,x);break;default:Vl(g,x,E,w,p)}s=s.sibling}}function io(i,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var a=i,c=s,p=c.flags;switch(c.tag){case 22:io(a,c),p&2048&&$d(c.alternate,c);break;case 24:io(a,c),p&2048&&Kd(c.alternate,c);break;default:io(a,c)}s=s.sibling}}var lo=8192;function ql(i){if(i.subtreeFlags&lo)for(i=i.child;i!==null;)j0(i),i=i.sibling}function j0(i){switch(i.tag){case 26:ql(i),i.flags&lo&&i.memoizedState!==null&&BT(Bn,i.memoizedState,i.memoizedProps);break;case 5:ql(i);break;case 3:case 4:var s=Bn;Bn=du(i.stateNode.containerInfo),ql(i),Bn=s;break;case 22:i.memoizedState===null&&(s=i.alternate,s!==null&&s.memoizedState!==null?(s=lo,lo=16777216,ql(i),lo=s):ql(i));break;default:ql(i)}}function _0(i){var s=i.alternate;if(s!==null&&(i=s.child,i!==null)){s.child=null;do s=i.sibling,i.sibling=null,i=s;while(i!==null)}}function so(i){var s=i.deletions;if((i.flags&16)!==0){if(s!==null)for(var a=0;a<s.length;a++){var c=s[a];ft=c,H0(c,i)}_0(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)P0(i),i=i.sibling}function P0(i){switch(i.tag){case 0:case 11:case 15:so(i),i.flags&2048&&qr(9,i,i.return);break;case 3:so(i);break;case 12:so(i);break;case 22:var s=i.stateNode;i.memoizedState!==null&&s._visibility&2&&(i.return===null||i.return.tag!==13)?(s._visibility&=-3,eu(i)):so(i);break;default:so(i)}}function eu(i){var s=i.deletions;if((i.flags&16)!==0){if(s!==null)for(var a=0;a<s.length;a++){var c=s[a];ft=c,H0(c,i)}_0(i)}for(i=i.child;i!==null;){switch(s=i,s.tag){case 0:case 11:case 15:qr(8,s,s.return),eu(s);break;case 22:a=s.stateNode,a._visibility&2&&(a._visibility&=-3,eu(s));break;default:eu(s)}i=i.sibling}}function H0(i,s){for(;ft!==null;){var a=ft;switch(a.tag){case 0:case 11:case 15:qr(8,a,s);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var c=a.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:qs(a.memoizedState.cache)}if(c=a.child,c!==null)c.return=a,ft=c;else e:for(a=i;ft!==null;){c=ft;var p=c.sibling,g=c.return;if(N0(c),c===a){ft=null;break e}if(p!==null){p.return=g,ft=p;break e}ft=g}}}var XE={getCacheForType:function(i){var s=At(st),a=s.data.get(i);return a===void 0&&(a=i(),s.data.set(i,a)),a}},QE=typeof WeakMap=="function"?WeakMap:Map,De=0,Ve=null,Ee=null,we=0,ze=0,un=null,$r=!1,Il=!1,Gd=!1,yr=0,Qe=0,Kr=0,qi=0,Yd=0,kn=0,Fl=0,oo=null,Qt=null,Jd=!1,Xd=0,tu=1/0,nu=null,Gr=null,bt=0,Yr=null,$l=null,Kl=0,Qd=0,Zd=null,U0=null,ao=0,Wd=null;function cn(){if((De&2)!==0&&we!==0)return we&-we;if(H.T!==null){var i=zl;return i!==0?i:sh()}return ng()}function V0(){kn===0&&(kn=(we&536870912)===0||Ne?Zm():536870912);var i=Tn.current;return i!==null&&(i.flags|=32),kn}function fn(i,s,a){(i===Ve&&(ze===2||ze===9)||i.cancelPendingCommit!==null)&&(Gl(i,0),Jr(i,we,kn,!1)),As(i,a),((De&2)===0||i!==Ve)&&(i===Ve&&((De&2)===0&&(qi|=a),Qe===4&&Jr(i,we,kn,!1)),Yn(i))}function q0(i,s,a){if((De&6)!==0)throw Error(r(327));var c=!a&&(s&124)===0&&(s&i.expiredLanes)===0||ve(i,s),p=c?eT(i,s):nh(i,s,!0),g=c;do{if(p===0){Il&&!c&&Jr(i,s,0,!1);break}else{if(a=i.current.alternate,g&&!ZE(a)){p=nh(i,s,!1),g=!1;continue}if(p===2){if(g=s,i.errorRecoveryDisabledLanes&g)var x=0;else x=i.pendingLanes&-536870913,x=x!==0?x:x&536870912?536870912:0;if(x!==0){s=x;e:{var E=i;p=oo;var w=E.current.memoizedState.isDehydrated;if(w&&(Gl(E,x).flags|=256),x=nh(E,x,!1),x!==2){if(Gd&&!w){E.errorRecoveryDisabledLanes|=g,qi|=g,p=4;break e}g=Qt,Qt=p,g!==null&&(Qt===null?Qt=g:Qt.push.apply(Qt,g))}p=x}if(g=!1,p!==2)continue}}if(p===1){Gl(i,0),Jr(i,s,0,!0);break}e:{switch(c=i,g=p,g){case 0:case 1:throw Error(r(345));case 4:if((s&4194048)!==s)break;case 6:Jr(c,s,kn,!$r);break e;case 2:Qt=null;break;case 3:case 5:break;default:throw Error(r(329))}if((s&62914560)===s&&(p=Xd+300-yn(),10<p)){if(Jr(c,s,kn,!$r),Ai(c,0,!0)!==0)break e;c.timeoutHandle=yb(I0.bind(null,c,a,Qt,nu,Jd,s,kn,qi,Fl,$r,g,2,-0,0),p);break e}I0(c,a,Qt,nu,Jd,s,kn,qi,Fl,$r,g,0,-0,0)}}break}while(!0);Yn(i)}function I0(i,s,a,c,p,g,x,E,w,B,U,I,L,j){if(i.timeoutHandle=-1,I=s.subtreeFlags,(I&8192||(I&16785408)===16785408)&&(go={stylesheets:null,count:0,unsuspend:zT},j0(s),I=LT(),I!==null)){i.cancelPendingCommit=I(X0.bind(null,i,s,g,a,c,p,x,E,w,U,1,L,j)),Jr(i,g,x,!B);return}X0(i,s,g,a,c,p,x,E,w)}function ZE(i){for(var s=i;;){var a=s.tag;if((a===0||a===11||a===15)&&s.flags&16384&&(a=s.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var c=0;c<a.length;c++){var p=a[c],g=p.getSnapshot;p=p.value;try{if(!ln(g(),p))return!1}catch{return!1}}if(a=s.child,s.subtreeFlags&16384&&a!==null)a.return=s,s=a;else{if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Jr(i,s,a,c){s&=~Yd,s&=~qi,i.suspendedLanes|=s,i.pingedLanes&=~s,c&&(i.warmLanes|=s),c=i.expirationTimes;for(var p=s;0<p;){var g=31-Lt(p),x=1<<g;c[g]=-1,p&=~x}a!==0&&eg(i,a,s)}function ru(){return(De&6)===0?(uo(0),!1):!0}function eh(){if(Ee!==null){if(ze===0)var i=Ee.return;else i=Ee,ur=ji=null,yd(i),Hl=null,Ws=0,i=Ee;for(;i!==null;)C0(i.alternate,i),i=i.return;Ee=null}}function Gl(i,s){var a=i.timeoutHandle;a!==-1&&(i.timeoutHandle=-1,gT(a)),a=i.cancelPendingCommit,a!==null&&(i.cancelPendingCommit=null,a()),eh(),Ve=i,Ee=a=sr(i.current,null),we=s,ze=0,un=null,$r=!1,Il=ve(i,s),Gd=!1,Fl=kn=Yd=qi=Kr=Qe=0,Qt=oo=null,Jd=!1,(s&8)!==0&&(s|=s&32);var c=i.entangledLanes;if(c!==0)for(i=i.entanglements,c&=s;0<c;){var p=31-Lt(c),g=1<<p;s|=i[p],c&=~g}return yr=s,ka(),a}function F0(i,s){be=null,H.H=Fa,s===Fs||s===Ba?(s=oy(),ze=3):s===iy?(s=oy(),ze=4):ze=s===a0?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,un=s,Ee===null&&(Qe=1,Ja(i,vn(s,i.current)))}function $0(){var i=H.H;return H.H=Fa,i===null?Fa:i}function K0(){var i=H.A;return H.A=XE,i}function th(){Qe=4,$r||(we&4194048)!==we&&Tn.current!==null||(Il=!0),(Kr&134217727)===0&&(qi&134217727)===0||Ve===null||Jr(Ve,we,kn,!1)}function nh(i,s,a){var c=De;De|=2;var p=$0(),g=K0();(Ve!==i||we!==s)&&(nu=null,Gl(i,s)),s=!1;var x=Qe;e:do try{if(ze!==0&&Ee!==null){var E=Ee,w=un;switch(ze){case 8:eh(),x=6;break e;case 3:case 2:case 9:case 6:Tn.current===null&&(s=!0);var B=ze;if(ze=0,un=null,Yl(i,E,w,B),a&&Il){x=0;break e}break;default:B=ze,ze=0,un=null,Yl(i,E,w,B)}}WE(),x=Qe;break}catch(U){F0(i,U)}while(!0);return s&&i.shellSuspendCounter++,ur=ji=null,De=c,H.H=p,H.A=g,Ee===null&&(Ve=null,we=0,ka()),x}function WE(){for(;Ee!==null;)G0(Ee)}function eT(i,s){var a=De;De|=2;var c=$0(),p=K0();Ve!==i||we!==s?(nu=null,tu=yn()+500,Gl(i,s)):Il=ve(i,s);e:do try{if(ze!==0&&Ee!==null){s=Ee;var g=un;t:switch(ze){case 1:ze=0,un=null,Yl(i,s,g,1);break;case 2:case 9:if(ly(g)){ze=0,un=null,Y0(s);break}s=function(){ze!==2&&ze!==9||Ve!==i||(ze=7),Yn(i)},g.then(s,s);break e;case 3:ze=7;break e;case 4:ze=5;break e;case 7:ly(g)?(ze=0,un=null,Y0(s)):(ze=0,un=null,Yl(i,s,g,7));break;case 5:var x=null;switch(Ee.tag){case 26:x=Ee.memoizedState;case 5:case 27:var E=Ee;if(!x||Mb(x)){ze=0,un=null;var w=E.sibling;if(w!==null)Ee=w;else{var B=E.return;B!==null?(Ee=B,iu(B)):Ee=null}break t}}ze=0,un=null,Yl(i,s,g,5);break;case 6:ze=0,un=null,Yl(i,s,g,6);break;case 8:eh(),Qe=6;break e;default:throw Error(r(462))}}tT();break}catch(U){F0(i,U)}while(!0);return ur=ji=null,H.H=c,H.A=p,De=a,Ee!==null?0:(Ve=null,we=0,ka(),Qe)}function tT(){for(;Ee!==null&&!ff();)G0(Ee)}function G0(i){var s=v0(i.alternate,i,yr);i.memoizedProps=i.pendingProps,s===null?iu(i):Ee=s}function Y0(i){var s=i,a=s.alternate;switch(s.tag){case 15:case 0:s=p0(a,s,s.pendingProps,s.type,void 0,we);break;case 11:s=p0(a,s,s.pendingProps,s.type.render,s.ref,we);break;case 5:yd(s);default:C0(a,s),s=Ee=Jg(s,yr),s=v0(a,s,yr)}i.memoizedProps=i.pendingProps,s===null?iu(i):Ee=s}function Yl(i,s,a,c){ur=ji=null,yd(s),Hl=null,Ws=0;var p=s.return;try{if(FE(i,p,s,a,we)){Qe=1,Ja(i,vn(a,i.current)),Ee=null;return}}catch(g){if(p!==null)throw Ee=p,g;Qe=1,Ja(i,vn(a,i.current)),Ee=null;return}s.flags&32768?(Ne||c===1?i=!0:Il||(we&536870912)!==0?i=!1:($r=i=!0,(c===2||c===9||c===3||c===6)&&(c=Tn.current,c!==null&&c.tag===13&&(c.flags|=16384))),J0(s,i)):iu(s)}function iu(i){var s=i;do{if((s.flags&32768)!==0){J0(s,$r);return}i=s.return;var a=KE(s.alternate,s,yr);if(a!==null){Ee=a;return}if(s=s.sibling,s!==null){Ee=s;return}Ee=s=i}while(s!==null);Qe===0&&(Qe=5)}function J0(i,s){do{var a=GE(i.alternate,i);if(a!==null){a.flags&=32767,Ee=a;return}if(a=i.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!s&&(i=i.sibling,i!==null)){Ee=i;return}Ee=i=a}while(i!==null);Qe=6,Ee=null}function X0(i,s,a,c,p,g,x,E,w){i.cancelPendingCommit=null;do lu();while(bt!==0);if((De&6)!==0)throw Error(r(327));if(s!==null){if(s===i.current)throw Error(r(177));if(g=s.lanes|s.childLanes,g|=Kf,zC(i,a,g,x,E,w),i===Ve&&(Ee=Ve=null,we=0),$l=s,Yr=i,Kl=a,Qd=g,Zd=p,U0=c,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,lT(pl,function(){return tb(),null})):(i.callbackNode=null,i.callbackPriority=0),c=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||c){c=H.T,H.T=null,p=Y.p,Y.p=2,x=De,De|=4;try{YE(i,s,a)}finally{De=x,Y.p=p,H.T=c}}bt=1,Q0(),Z0(),W0()}}function Q0(){if(bt===1){bt=0;var i=Yr,s=$l,a=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||a){a=H.T,H.T=null;var c=Y.p;Y.p=2;var p=De;De|=4;try{z0(s,i);var g=ph,x=Hg(i.containerInfo),E=g.focusedElem,w=g.selectionRange;if(x!==E&&E&&E.ownerDocument&&Pg(E.ownerDocument.documentElement,E)){if(w!==null&&Vf(E)){var B=w.start,U=w.end;if(U===void 0&&(U=B),"selectionStart"in E)E.selectionStart=B,E.selectionEnd=Math.min(U,E.value.length);else{var I=E.ownerDocument||document,L=I&&I.defaultView||window;if(L.getSelection){var j=L.getSelection(),fe=E.textContent.length,ae=Math.min(w.start,fe),_e=w.end===void 0?ae:Math.min(w.end,fe);!j.extend&&ae>_e&&(x=_e,_e=ae,ae=x);var D=_g(E,ae),N=_g(E,_e);if(D&&N&&(j.rangeCount!==1||j.anchorNode!==D.node||j.anchorOffset!==D.offset||j.focusNode!==N.node||j.focusOffset!==N.offset)){var z=I.createRange();z.setStart(D.node,D.offset),j.removeAllRanges(),ae>_e?(j.addRange(z),j.extend(N.node,N.offset)):(z.setEnd(N.node,N.offset),j.addRange(z))}}}}for(I=[],j=E;j=j.parentNode;)j.nodeType===1&&I.push({element:j,left:j.scrollLeft,top:j.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<I.length;E++){var V=I[E];V.element.scrollLeft=V.left,V.element.scrollTop=V.top}}yu=!!hh,ph=hh=null}finally{De=p,Y.p=c,H.T=a}}i.current=s,bt=2}}function Z0(){if(bt===2){bt=0;var i=Yr,s=$l,a=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||a){a=H.T,H.T=null;var c=Y.p;Y.p=2;var p=De;De|=4;try{M0(i,s.alternate,s)}finally{De=p,Y.p=c,H.T=a}}bt=3}}function W0(){if(bt===4||bt===3){bt=0,df();var i=Yr,s=$l,a=Kl,c=U0;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?bt=5:(bt=0,$l=Yr=null,eb(i,i.pendingLanes));var p=i.pendingLanes;if(p===0&&(Gr=null),vf(a),s=s.stateNode,Bt&&typeof Bt.onCommitFiberRoot=="function")try{Bt.onCommitFiberRoot(ki,s,void 0,(s.current.flags&128)===128)}catch{}if(c!==null){s=H.T,p=Y.p,Y.p=2,H.T=null;try{for(var g=i.onRecoverableError,x=0;x<c.length;x++){var E=c[x];g(E.value,{componentStack:E.stack})}}finally{H.T=s,Y.p=p}}(Kl&3)!==0&&lu(),Yn(i),p=i.pendingLanes,(a&4194090)!==0&&(p&42)!==0?i===Wd?ao++:(ao=0,Wd=i):ao=0,uo(0)}}function eb(i,s){(i.pooledCacheLanes&=s)===0&&(s=i.pooledCache,s!=null&&(i.pooledCache=null,qs(s)))}function lu(i){return Q0(),Z0(),W0(),tb()}function tb(){if(bt!==5)return!1;var i=Yr,s=Qd;Qd=0;var a=vf(Kl),c=H.T,p=Y.p;try{Y.p=32>a?32:a,H.T=null,a=Zd,Zd=null;var g=Yr,x=Kl;if(bt=0,$l=Yr=null,Kl=0,(De&6)!==0)throw Error(r(331));var E=De;if(De|=4,P0(g.current),L0(g,g.current,x,a),De=E,uo(0,!1),Bt&&typeof Bt.onPostCommitFiberRoot=="function")try{Bt.onPostCommitFiberRoot(ki,g)}catch{}return!0}finally{Y.p=p,H.T=c,eb(i,s)}}function nb(i,s,a){s=vn(a,s),s=Rd(i.stateNode,s,2),i=Pr(i,s,2),i!==null&&(As(i,2),Yn(i))}function Pe(i,s,a){if(i.tag===3)nb(i,i,a);else for(;s!==null;){if(s.tag===3){nb(s,i,a);break}else if(s.tag===1){var c=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(Gr===null||!Gr.has(c))){i=vn(a,i),a=s0(2),c=Pr(s,a,2),c!==null&&(o0(a,c,s,i),As(c,2),Yn(c));break}}s=s.return}}function rh(i,s,a){var c=i.pingCache;if(c===null){c=i.pingCache=new QE;var p=new Set;c.set(s,p)}else p=c.get(s),p===void 0&&(p=new Set,c.set(s,p));p.has(a)||(Gd=!0,p.add(a),i=nT.bind(null,i,s,a),s.then(i,i))}function nT(i,s,a){var c=i.pingCache;c!==null&&c.delete(s),i.pingedLanes|=i.suspendedLanes&a,i.warmLanes&=~a,Ve===i&&(we&a)===a&&(Qe===4||Qe===3&&(we&62914560)===we&&300>yn()-Xd?(De&2)===0&&Gl(i,0):Yd|=a,Fl===we&&(Fl=0)),Yn(i)}function rb(i,s){s===0&&(s=Wm()),i=Ml(i,s),i!==null&&(As(i,s),Yn(i))}function rT(i){var s=i.memoizedState,a=0;s!==null&&(a=s.retryLane),rb(i,a)}function iT(i,s){var a=0;switch(i.tag){case 13:var c=i.stateNode,p=i.memoizedState;p!==null&&(a=p.retryLane);break;case 19:c=i.stateNode;break;case 22:c=i.stateNode._retryCache;break;default:throw Error(r(314))}c!==null&&c.delete(s),rb(i,a)}function lT(i,s){return Ts(i,s)}var su=null,Jl=null,ih=!1,ou=!1,lh=!1,Ii=0;function Yn(i){i!==Jl&&i.next===null&&(Jl===null?su=Jl=i:Jl=Jl.next=i),ou=!0,ih||(ih=!0,oT())}function uo(i,s){if(!lh&&ou){lh=!0;do for(var a=!1,c=su;c!==null;){if(i!==0){var p=c.pendingLanes;if(p===0)var g=0;else{var x=c.suspendedLanes,E=c.pingedLanes;g=(1<<31-Lt(42|i)+1)-1,g&=p&~(x&~E),g=g&201326741?g&201326741|1:g?g|2:0}g!==0&&(a=!0,ob(c,g))}else g=we,g=Ai(c,c===Ve?g:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),(g&3)===0||ve(c,g)||(a=!0,ob(c,g));c=c.next}while(a);lh=!1}}function sT(){ib()}function ib(){ou=ih=!1;var i=0;Ii!==0&&(mT()&&(i=Ii),Ii=0);for(var s=yn(),a=null,c=su;c!==null;){var p=c.next,g=lb(c,s);g===0?(c.next=null,a===null?su=p:a.next=p,p===null&&(Jl=a)):(a=c,(i!==0||(g&3)!==0)&&(ou=!0)),c=p}uo(i)}function lb(i,s){for(var a=i.suspendedLanes,c=i.pingedLanes,p=i.expirationTimes,g=i.pendingLanes&-62914561;0<g;){var x=31-Lt(g),E=1<<x,w=p[x];w===-1?((E&a)===0||(E&c)!==0)&&(p[x]=Ce(E,s)):w<=s&&(i.expiredLanes|=E),g&=~E}if(s=Ve,a=we,a=Ai(i,i===s?a:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),c=i.callbackNode,a===0||i===s&&(ze===2||ze===9)||i.cancelPendingCommit!==null)return c!==null&&c!==null&&ks(c),i.callbackNode=null,i.callbackPriority=0;if((a&3)===0||ve(i,a)){if(s=a&-a,s===i.callbackPriority)return s;switch(c!==null&&ks(c),vf(a)){case 2:case 8:a=da;break;case 32:a=pl;break;case 268435456:a=ha;break;default:a=pl}return c=sb.bind(null,i),a=Ts(a,c),i.callbackPriority=s,i.callbackNode=a,s}return c!==null&&c!==null&&ks(c),i.callbackPriority=2,i.callbackNode=null,2}function sb(i,s){if(bt!==0&&bt!==5)return i.callbackNode=null,i.callbackPriority=0,null;var a=i.callbackNode;if(lu()&&i.callbackNode!==a)return null;var c=we;return c=Ai(i,i===Ve?c:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),c===0?null:(q0(i,c,s),lb(i,yn()),i.callbackNode!=null&&i.callbackNode===a?sb.bind(null,i):null)}function ob(i,s){if(lu())return null;q0(i,s,!0)}function oT(){yT(function(){(De&6)!==0?Ts(fa,sT):ib()})}function sh(){return Ii===0&&(Ii=Zm()),Ii}function ab(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:ba(""+i)}function ub(i,s){var a=s.ownerDocument.createElement("input");return a.name=s.name,a.value=s.value,i.id&&a.setAttribute("form",i.id),s.parentNode.insertBefore(a,s),i=new FormData(i),a.parentNode.removeChild(a),i}function aT(i,s,a,c,p){if(s==="submit"&&a&&a.stateNode===p){var g=ab((p[Gt]||null).action),x=c.submitter;x&&(s=(s=x[Gt]||null)?ab(s.formAction):x.getAttribute("formAction"),s!==null&&(g=s,x=null));var E=new Ca("action","action",null,c,p);i.push({event:E,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(Ii!==0){var w=x?ub(p,x):new FormData(p);Ad(a,{pending:!0,data:w,method:p.method,action:g},null,w)}}else typeof g=="function"&&(E.preventDefault(),w=x?ub(p,x):new FormData(p),Ad(a,{pending:!0,data:w,method:p.method,action:g},g,w))},currentTarget:p}]})}}for(var oh=0;oh<$f.length;oh++){var ah=$f[oh],uT=ah.toLowerCase(),cT=ah[0].toUpperCase()+ah.slice(1);zn(uT,"on"+cT)}zn(qg,"onAnimationEnd"),zn(Ig,"onAnimationIteration"),zn(Fg,"onAnimationStart"),zn("dblclick","onDoubleClick"),zn("focusin","onFocus"),zn("focusout","onBlur"),zn(wE,"onTransitionRun"),zn(OE,"onTransitionStart"),zn(ME,"onTransitionCancel"),zn($g,"onTransitionEnd"),Sl("onMouseEnter",["mouseout","mouseover"]),Sl("onMouseLeave",["mouseout","mouseover"]),Sl("onPointerEnter",["pointerout","pointerover"]),Sl("onPointerLeave",["pointerout","pointerover"]),wi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),wi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),wi("onBeforeInput",["compositionend","keypress","textInput","paste"]),wi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),wi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),wi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var co="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),fT=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(co));function cb(i,s){s=(s&4)!==0;for(var a=0;a<i.length;a++){var c=i[a],p=c.event;c=c.listeners;e:{var g=void 0;if(s)for(var x=c.length-1;0<=x;x--){var E=c[x],w=E.instance,B=E.currentTarget;if(E=E.listener,w!==g&&p.isPropagationStopped())break e;g=E,p.currentTarget=B;try{g(p)}catch(U){Ya(U)}p.currentTarget=null,g=w}else for(x=0;x<c.length;x++){if(E=c[x],w=E.instance,B=E.currentTarget,E=E.listener,w!==g&&p.isPropagationStopped())break e;g=E,p.currentTarget=B;try{g(p)}catch(U){Ya(U)}p.currentTarget=null,g=w}}}}function Te(i,s){var a=s[xf];a===void 0&&(a=s[xf]=new Set);var c=i+"__bubble";a.has(c)||(fb(s,i,2,!1),a.add(c))}function uh(i,s,a){var c=0;s&&(c|=4),fb(a,i,c,s)}var au="_reactListening"+Math.random().toString(36).slice(2);function ch(i){if(!i[au]){i[au]=!0,ig.forEach(function(a){a!=="selectionchange"&&(fT.has(a)||uh(a,!1,i),uh(a,!0,i))});var s=i.nodeType===9?i:i.ownerDocument;s===null||s[au]||(s[au]=!0,uh("selectionchange",!1,s))}}function fb(i,s,a,c){switch(Lb(s)){case 2:var p=PT;break;case 8:p=HT;break;default:p=Th}a=p.bind(null,s,a,i),p=void 0,!Df||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(p=!0),c?p!==void 0?i.addEventListener(s,a,{capture:!0,passive:p}):i.addEventListener(s,a,!0):p!==void 0?i.addEventListener(s,a,{passive:p}):i.addEventListener(s,a,!1)}function fh(i,s,a,c,p){var g=c;if((s&1)===0&&(s&2)===0&&c!==null)e:for(;;){if(c===null)return;var x=c.tag;if(x===3||x===4){var E=c.stateNode.containerInfo;if(E===p)break;if(x===4)for(x=c.return;x!==null;){var w=x.tag;if((w===3||w===4)&&x.stateNode.containerInfo===p)return;x=x.return}for(;E!==null;){if(x=gl(E),x===null)return;if(w=x.tag,w===5||w===6||w===26||w===27){c=g=x;continue e}E=E.parentNode}}c=c.return}bg(function(){var B=g,U=Nf(a),I=[];e:{var L=Kg.get(i);if(L!==void 0){var j=Ca,fe=i;switch(i){case"keypress":if(va(a)===0)break e;case"keydown":case"keyup":j=lE;break;case"focusin":fe="focus",j=jf;break;case"focusout":fe="blur",j=jf;break;case"beforeblur":case"afterblur":j=jf;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":j=xg;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":j=GC;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":j=aE;break;case qg:case Ig:case Fg:j=XC;break;case $g:j=cE;break;case"scroll":case"scrollend":j=$C;break;case"wheel":j=dE;break;case"copy":case"cut":case"paste":j=ZC;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":j=Eg;break;case"toggle":case"beforetoggle":j=pE}var ae=(s&4)!==0,_e=!ae&&(i==="scroll"||i==="scrollend"),D=ae?L!==null?L+"Capture":null:L;ae=[];for(var N=B,z;N!==null;){var V=N;if(z=V.stateNode,V=V.tag,V!==5&&V!==26&&V!==27||z===null||D===null||(V=Ms(N,D),V!=null&&ae.push(fo(N,V,z))),_e)break;N=N.return}0<ae.length&&(L=new j(L,fe,null,a,U),I.push({event:L,listeners:ae}))}}if((s&7)===0){e:{if(L=i==="mouseover"||i==="pointerover",j=i==="mouseout"||i==="pointerout",L&&a!==Mf&&(fe=a.relatedTarget||a.fromElement)&&(gl(fe)||fe[ml]))break e;if((j||L)&&(L=U.window===U?U:(L=U.ownerDocument)?L.defaultView||L.parentWindow:window,j?(fe=a.relatedTarget||a.toElement,j=B,fe=fe?gl(fe):null,fe!==null&&(_e=o(fe),ae=fe.tag,fe!==_e||ae!==5&&ae!==27&&ae!==6)&&(fe=null)):(j=null,fe=B),j!==fe)){if(ae=xg,V="onMouseLeave",D="onMouseEnter",N="mouse",(i==="pointerout"||i==="pointerover")&&(ae=Eg,V="onPointerLeave",D="onPointerEnter",N="pointer"),_e=j==null?L:Os(j),z=fe==null?L:Os(fe),L=new ae(V,N+"leave",j,a,U),L.target=_e,L.relatedTarget=z,V=null,gl(U)===B&&(ae=new ae(D,N+"enter",fe,a,U),ae.target=z,ae.relatedTarget=_e,V=ae),_e=V,j&&fe)t:{for(ae=j,D=fe,N=0,z=ae;z;z=Xl(z))N++;for(z=0,V=D;V;V=Xl(V))z++;for(;0<N-z;)ae=Xl(ae),N--;for(;0<z-N;)D=Xl(D),z--;for(;N--;){if(ae===D||D!==null&&ae===D.alternate)break t;ae=Xl(ae),D=Xl(D)}ae=null}else ae=null;j!==null&&db(I,L,j,ae,!1),fe!==null&&_e!==null&&db(I,_e,fe,ae,!0)}}e:{if(L=B?Os(B):window,j=L.nodeName&&L.nodeName.toLowerCase(),j==="select"||j==="input"&&L.type==="file")var ee=Rg;else if(Mg(L))if(Dg)ee=TE;else{ee=CE;var xe=xE}else j=L.nodeName,!j||j.toLowerCase()!=="input"||L.type!=="checkbox"&&L.type!=="radio"?B&&Of(B.elementType)&&(ee=Rg):ee=EE;if(ee&&(ee=ee(i,B))){Ng(I,ee,a,U);break e}xe&&xe(i,L,B),i==="focusout"&&B&&L.type==="number"&&B.memoizedProps.value!=null&&wf(L,"number",L.value)}switch(xe=B?Os(B):window,i){case"focusin":(Mg(xe)||xe.contentEditable==="true")&&(Al=xe,qf=B,_s=null);break;case"focusout":_s=qf=Al=null;break;case"mousedown":If=!0;break;case"contextmenu":case"mouseup":case"dragend":If=!1,Ug(I,a,U);break;case"selectionchange":if(AE)break;case"keydown":case"keyup":Ug(I,a,U)}var ie;if(Pf)e:{switch(i){case"compositionstart":var ue="onCompositionStart";break e;case"compositionend":ue="onCompositionEnd";break e;case"compositionupdate":ue="onCompositionUpdate";break e}ue=void 0}else kl?wg(i,a)&&(ue="onCompositionEnd"):i==="keydown"&&a.keyCode===229&&(ue="onCompositionStart");ue&&(Tg&&a.locale!=="ko"&&(kl||ue!=="onCompositionStart"?ue==="onCompositionEnd"&&kl&&(ie=Sg()):(Br=U,zf="value"in Br?Br.value:Br.textContent,kl=!0)),xe=uu(B,ue),0<xe.length&&(ue=new Cg(ue,i,null,a,U),I.push({event:ue,listeners:xe}),ie?ue.data=ie:(ie=Og(a),ie!==null&&(ue.data=ie)))),(ie=gE?yE(i,a):bE(i,a))&&(ue=uu(B,"onBeforeInput"),0<ue.length&&(xe=new Cg("onBeforeInput","beforeinput",null,a,U),I.push({event:xe,listeners:ue}),xe.data=ie)),aT(I,i,B,a,U)}cb(I,s)})}function fo(i,s,a){return{instance:i,listener:s,currentTarget:a}}function uu(i,s){for(var a=s+"Capture",c=[];i!==null;){var p=i,g=p.stateNode;if(p=p.tag,p!==5&&p!==26&&p!==27||g===null||(p=Ms(i,a),p!=null&&c.unshift(fo(i,p,g)),p=Ms(i,s),p!=null&&c.push(fo(i,p,g))),i.tag===3)return c;i=i.return}return[]}function Xl(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function db(i,s,a,c,p){for(var g=s._reactName,x=[];a!==null&&a!==c;){var E=a,w=E.alternate,B=E.stateNode;if(E=E.tag,w!==null&&w===c)break;E!==5&&E!==26&&E!==27||B===null||(w=B,p?(B=Ms(a,g),B!=null&&x.unshift(fo(a,B,w))):p||(B=Ms(a,g),B!=null&&x.push(fo(a,B,w)))),a=a.return}x.length!==0&&i.push({event:s,listeners:x})}var dT=/\r\n?/g,hT=/\u0000|\uFFFD/g;function hb(i){return(typeof i=="string"?i:""+i).replace(dT,`
`).replace(hT,"")}function pb(i,s){return s=hb(s),hb(i)===s}function cu(){}function je(i,s,a,c,p,g){switch(a){case"children":typeof c=="string"?s==="body"||s==="textarea"&&c===""||Cl(i,c):(typeof c=="number"||typeof c=="bigint")&&s!=="body"&&Cl(i,""+c);break;case"className":ma(i,"class",c);break;case"tabIndex":ma(i,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":ma(i,a,c);break;case"style":gg(i,c,g);break;case"data":if(s!=="object"){ma(i,"data",c);break}case"src":case"href":if(c===""&&(s!=="a"||a!=="href")){i.removeAttribute(a);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){i.removeAttribute(a);break}c=ba(""+c),i.setAttribute(a,c);break;case"action":case"formAction":if(typeof c=="function"){i.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof g=="function"&&(a==="formAction"?(s!=="input"&&je(i,s,"name",p.name,p,null),je(i,s,"formEncType",p.formEncType,p,null),je(i,s,"formMethod",p.formMethod,p,null),je(i,s,"formTarget",p.formTarget,p,null)):(je(i,s,"encType",p.encType,p,null),je(i,s,"method",p.method,p,null),je(i,s,"target",p.target,p,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){i.removeAttribute(a);break}c=ba(""+c),i.setAttribute(a,c);break;case"onClick":c!=null&&(i.onclick=cu);break;case"onScroll":c!=null&&Te("scroll",i);break;case"onScrollEnd":c!=null&&Te("scrollend",i);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(r(61));if(a=c.__html,a!=null){if(p.children!=null)throw Error(r(60));i.innerHTML=a}}break;case"multiple":i.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":i.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){i.removeAttribute("xlink:href");break}a=ba(""+c),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?i.setAttribute(a,""+c):i.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?i.setAttribute(a,""):i.removeAttribute(a);break;case"capture":case"download":c===!0?i.setAttribute(a,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?i.setAttribute(a,c):i.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?i.setAttribute(a,c):i.removeAttribute(a);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?i.removeAttribute(a):i.setAttribute(a,c);break;case"popover":Te("beforetoggle",i),Te("toggle",i),pa(i,"popover",c);break;case"xlinkActuate":ir(i,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":ir(i,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":ir(i,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":ir(i,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":ir(i,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":ir(i,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":ir(i,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":ir(i,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":ir(i,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":pa(i,"is",c);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=IC.get(a)||a,pa(i,a,c))}}function dh(i,s,a,c,p,g){switch(a){case"style":gg(i,c,g);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(r(61));if(a=c.__html,a!=null){if(p.children!=null)throw Error(r(60));i.innerHTML=a}}break;case"children":typeof c=="string"?Cl(i,c):(typeof c=="number"||typeof c=="bigint")&&Cl(i,""+c);break;case"onScroll":c!=null&&Te("scroll",i);break;case"onScrollEnd":c!=null&&Te("scrollend",i);break;case"onClick":c!=null&&(i.onclick=cu);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!lg.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(p=a.endsWith("Capture"),s=a.slice(2,p?a.length-7:void 0),g=i[Gt]||null,g=g!=null?g[a]:null,typeof g=="function"&&i.removeEventListener(s,g,p),typeof c=="function")){typeof g!="function"&&g!==null&&(a in i?i[a]=null:i.hasAttribute(a)&&i.removeAttribute(a)),i.addEventListener(s,c,p);break e}a in i?i[a]=c:c===!0?i.setAttribute(a,""):pa(i,a,c)}}}function St(i,s,a){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Te("error",i),Te("load",i);var c=!1,p=!1,g;for(g in a)if(a.hasOwnProperty(g)){var x=a[g];if(x!=null)switch(g){case"src":c=!0;break;case"srcSet":p=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:je(i,s,g,x,a,null)}}p&&je(i,s,"srcSet",a.srcSet,a,null),c&&je(i,s,"src",a.src,a,null);return;case"input":Te("invalid",i);var E=g=x=p=null,w=null,B=null;for(c in a)if(a.hasOwnProperty(c)){var U=a[c];if(U!=null)switch(c){case"name":p=U;break;case"type":x=U;break;case"checked":w=U;break;case"defaultChecked":B=U;break;case"value":g=U;break;case"defaultValue":E=U;break;case"children":case"dangerouslySetInnerHTML":if(U!=null)throw Error(r(137,s));break;default:je(i,s,c,U,a,null)}}dg(i,g,E,w,B,x,p,!1),ga(i);return;case"select":Te("invalid",i),c=x=g=null;for(p in a)if(a.hasOwnProperty(p)&&(E=a[p],E!=null))switch(p){case"value":g=E;break;case"defaultValue":x=E;break;case"multiple":c=E;default:je(i,s,p,E,a,null)}s=g,a=x,i.multiple=!!c,s!=null?xl(i,!!c,s,!1):a!=null&&xl(i,!!c,a,!0);return;case"textarea":Te("invalid",i),g=p=c=null;for(x in a)if(a.hasOwnProperty(x)&&(E=a[x],E!=null))switch(x){case"value":c=E;break;case"defaultValue":p=E;break;case"children":g=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(r(91));break;default:je(i,s,x,E,a,null)}pg(i,c,p,g),ga(i);return;case"option":for(w in a)if(a.hasOwnProperty(w)&&(c=a[w],c!=null))switch(w){case"selected":i.selected=c&&typeof c!="function"&&typeof c!="symbol";break;default:je(i,s,w,c,a,null)}return;case"dialog":Te("beforetoggle",i),Te("toggle",i),Te("cancel",i),Te("close",i);break;case"iframe":case"object":Te("load",i);break;case"video":case"audio":for(c=0;c<co.length;c++)Te(co[c],i);break;case"image":Te("error",i),Te("load",i);break;case"details":Te("toggle",i);break;case"embed":case"source":case"link":Te("error",i),Te("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(B in a)if(a.hasOwnProperty(B)&&(c=a[B],c!=null))switch(B){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:je(i,s,B,c,a,null)}return;default:if(Of(s)){for(U in a)a.hasOwnProperty(U)&&(c=a[U],c!==void 0&&dh(i,s,U,c,a,void 0));return}}for(E in a)a.hasOwnProperty(E)&&(c=a[E],c!=null&&je(i,s,E,c,a,null))}function pT(i,s,a,c){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var p=null,g=null,x=null,E=null,w=null,B=null,U=null;for(j in a){var I=a[j];if(a.hasOwnProperty(j)&&I!=null)switch(j){case"checked":break;case"value":break;case"defaultValue":w=I;default:c.hasOwnProperty(j)||je(i,s,j,null,c,I)}}for(var L in c){var j=c[L];if(I=a[L],c.hasOwnProperty(L)&&(j!=null||I!=null))switch(L){case"type":g=j;break;case"name":p=j;break;case"checked":B=j;break;case"defaultChecked":U=j;break;case"value":x=j;break;case"defaultValue":E=j;break;case"children":case"dangerouslySetInnerHTML":if(j!=null)throw Error(r(137,s));break;default:j!==I&&je(i,s,L,j,c,I)}}Af(i,x,E,w,B,U,g,p);return;case"select":j=x=E=L=null;for(g in a)if(w=a[g],a.hasOwnProperty(g)&&w!=null)switch(g){case"value":break;case"multiple":j=w;default:c.hasOwnProperty(g)||je(i,s,g,null,c,w)}for(p in c)if(g=c[p],w=a[p],c.hasOwnProperty(p)&&(g!=null||w!=null))switch(p){case"value":L=g;break;case"defaultValue":E=g;break;case"multiple":x=g;default:g!==w&&je(i,s,p,g,c,w)}s=E,a=x,c=j,L!=null?xl(i,!!a,L,!1):!!c!=!!a&&(s!=null?xl(i,!!a,s,!0):xl(i,!!a,a?[]:"",!1));return;case"textarea":j=L=null;for(E in a)if(p=a[E],a.hasOwnProperty(E)&&p!=null&&!c.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:je(i,s,E,null,c,p)}for(x in c)if(p=c[x],g=a[x],c.hasOwnProperty(x)&&(p!=null||g!=null))switch(x){case"value":L=p;break;case"defaultValue":j=p;break;case"children":break;case"dangerouslySetInnerHTML":if(p!=null)throw Error(r(91));break;default:p!==g&&je(i,s,x,p,c,g)}hg(i,L,j);return;case"option":for(var fe in a)if(L=a[fe],a.hasOwnProperty(fe)&&L!=null&&!c.hasOwnProperty(fe))switch(fe){case"selected":i.selected=!1;break;default:je(i,s,fe,null,c,L)}for(w in c)if(L=c[w],j=a[w],c.hasOwnProperty(w)&&L!==j&&(L!=null||j!=null))switch(w){case"selected":i.selected=L&&typeof L!="function"&&typeof L!="symbol";break;default:je(i,s,w,L,c,j)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ae in a)L=a[ae],a.hasOwnProperty(ae)&&L!=null&&!c.hasOwnProperty(ae)&&je(i,s,ae,null,c,L);for(B in c)if(L=c[B],j=a[B],c.hasOwnProperty(B)&&L!==j&&(L!=null||j!=null))switch(B){case"children":case"dangerouslySetInnerHTML":if(L!=null)throw Error(r(137,s));break;default:je(i,s,B,L,c,j)}return;default:if(Of(s)){for(var _e in a)L=a[_e],a.hasOwnProperty(_e)&&L!==void 0&&!c.hasOwnProperty(_e)&&dh(i,s,_e,void 0,c,L);for(U in c)L=c[U],j=a[U],!c.hasOwnProperty(U)||L===j||L===void 0&&j===void 0||dh(i,s,U,L,c,j);return}}for(var D in a)L=a[D],a.hasOwnProperty(D)&&L!=null&&!c.hasOwnProperty(D)&&je(i,s,D,null,c,L);for(I in c)L=c[I],j=a[I],!c.hasOwnProperty(I)||L===j||L==null&&j==null||je(i,s,I,L,c,j)}var hh=null,ph=null;function fu(i){return i.nodeType===9?i:i.ownerDocument}function mb(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function gb(i,s){if(i===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&s==="foreignObject"?0:i}function mh(i,s){return i==="textarea"||i==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var gh=null;function mT(){var i=window.event;return i&&i.type==="popstate"?i===gh?!1:(gh=i,!0):(gh=null,!1)}var yb=typeof setTimeout=="function"?setTimeout:void 0,gT=typeof clearTimeout=="function"?clearTimeout:void 0,bb=typeof Promise=="function"?Promise:void 0,yT=typeof queueMicrotask=="function"?queueMicrotask:typeof bb<"u"?function(i){return bb.resolve(null).then(i).catch(bT)}:yb;function bT(i){setTimeout(function(){throw i})}function Xr(i){return i==="head"}function Sb(i,s){var a=s,c=0,p=0;do{var g=a.nextSibling;if(i.removeChild(a),g&&g.nodeType===8)if(a=g.data,a==="/$"){if(0<c&&8>c){a=c;var x=i.ownerDocument;if(a&1&&ho(x.documentElement),a&2&&ho(x.body),a&4)for(a=x.head,ho(a),x=a.firstChild;x;){var E=x.nextSibling,w=x.nodeName;x[ws]||w==="SCRIPT"||w==="STYLE"||w==="LINK"&&x.rel.toLowerCase()==="stylesheet"||a.removeChild(x),x=E}}if(p===0){i.removeChild(g),xo(s);return}p--}else a==="$"||a==="$?"||a==="$!"?p++:c=a.charCodeAt(0)-48;else c=0;a=g}while(a);xo(s)}function yh(i){var s=i.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var a=s;switch(s=s.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":yh(a),Cf(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}i.removeChild(a)}}function ST(i,s,a,c){for(;i.nodeType===1;){var p=a;if(i.nodeName.toLowerCase()!==s.toLowerCase()){if(!c&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(c){if(!i[ws])switch(s){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(g=i.getAttribute("rel"),g==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(g!==p.rel||i.getAttribute("href")!==(p.href==null||p.href===""?null:p.href)||i.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin)||i.getAttribute("title")!==(p.title==null?null:p.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(g=i.getAttribute("src"),(g!==(p.src==null?null:p.src)||i.getAttribute("type")!==(p.type==null?null:p.type)||i.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin))&&g&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(s==="input"&&i.type==="hidden"){var g=p.name==null?null:""+p.name;if(p.type==="hidden"&&i.getAttribute("name")===g)return i}else return i;if(i=Ln(i.nextSibling),i===null)break}return null}function vT(i,s,a){if(s==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!a||(i=Ln(i.nextSibling),i===null))return null;return i}function bh(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState==="complete"}function xT(i,s){var a=i.ownerDocument;if(i.data!=="$?"||a.readyState==="complete")s();else{var c=function(){s(),a.removeEventListener("DOMContentLoaded",c)};a.addEventListener("DOMContentLoaded",c),i._reactRetry=c}}function Ln(i){for(;i!=null;i=i.nextSibling){var s=i.nodeType;if(s===1||s===3)break;if(s===8){if(s=i.data,s==="$"||s==="$!"||s==="$?"||s==="F!"||s==="F")break;if(s==="/$")return null}}return i}var Sh=null;function vb(i){i=i.previousSibling;for(var s=0;i;){if(i.nodeType===8){var a=i.data;if(a==="$"||a==="$!"||a==="$?"){if(s===0)return i;s--}else a==="/$"&&s++}i=i.previousSibling}return null}function xb(i,s,a){switch(s=fu(a),i){case"html":if(i=s.documentElement,!i)throw Error(r(452));return i;case"head":if(i=s.head,!i)throw Error(r(453));return i;case"body":if(i=s.body,!i)throw Error(r(454));return i;default:throw Error(r(451))}}function ho(i){for(var s=i.attributes;s.length;)i.removeAttributeNode(s[0]);Cf(i)}var An=new Map,Cb=new Set;function du(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var br=Y.d;Y.d={f:CT,r:ET,D:TT,C:kT,L:AT,m:wT,X:MT,S:OT,M:NT};function CT(){var i=br.f(),s=ru();return i||s}function ET(i){var s=yl(i);s!==null&&s.tag===5&&s.type==="form"?qy(s):br.r(i)}var Ql=typeof document>"u"?null:document;function Eb(i,s,a){var c=Ql;if(c&&typeof s=="string"&&s){var p=Sn(s);p='link[rel="'+i+'"][href="'+p+'"]',typeof a=="string"&&(p+='[crossorigin="'+a+'"]'),Cb.has(p)||(Cb.add(p),i={rel:i,crossOrigin:a,href:s},c.querySelector(p)===null&&(s=c.createElement("link"),St(s,"link",i),ut(s),c.head.appendChild(s)))}}function TT(i){br.D(i),Eb("dns-prefetch",i,null)}function kT(i,s){br.C(i,s),Eb("preconnect",i,s)}function AT(i,s,a){br.L(i,s,a);var c=Ql;if(c&&i&&s){var p='link[rel="preload"][as="'+Sn(s)+'"]';s==="image"&&a&&a.imageSrcSet?(p+='[imagesrcset="'+Sn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(p+='[imagesizes="'+Sn(a.imageSizes)+'"]')):p+='[href="'+Sn(i)+'"]';var g=p;switch(s){case"style":g=Zl(i);break;case"script":g=Wl(i)}An.has(g)||(i=m({rel:"preload",href:s==="image"&&a&&a.imageSrcSet?void 0:i,as:s},a),An.set(g,i),c.querySelector(p)!==null||s==="style"&&c.querySelector(po(g))||s==="script"&&c.querySelector(mo(g))||(s=c.createElement("link"),St(s,"link",i),ut(s),c.head.appendChild(s)))}}function wT(i,s){br.m(i,s);var a=Ql;if(a&&i){var c=s&&typeof s.as=="string"?s.as:"script",p='link[rel="modulepreload"][as="'+Sn(c)+'"][href="'+Sn(i)+'"]',g=p;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":g=Wl(i)}if(!An.has(g)&&(i=m({rel:"modulepreload",href:i},s),An.set(g,i),a.querySelector(p)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(mo(g)))return}c=a.createElement("link"),St(c,"link",i),ut(c),a.head.appendChild(c)}}}function OT(i,s,a){br.S(i,s,a);var c=Ql;if(c&&i){var p=bl(c).hoistableStyles,g=Zl(i);s=s||"default";var x=p.get(g);if(!x){var E={loading:0,preload:null};if(x=c.querySelector(po(g)))E.loading=5;else{i=m({rel:"stylesheet",href:i,"data-precedence":s},a),(a=An.get(g))&&vh(i,a);var w=x=c.createElement("link");ut(w),St(w,"link",i),w._p=new Promise(function(B,U){w.onload=B,w.onerror=U}),w.addEventListener("load",function(){E.loading|=1}),w.addEventListener("error",function(){E.loading|=2}),E.loading|=4,hu(x,s,c)}x={type:"stylesheet",instance:x,count:1,state:E},p.set(g,x)}}}function MT(i,s){br.X(i,s);var a=Ql;if(a&&i){var c=bl(a).hoistableScripts,p=Wl(i),g=c.get(p);g||(g=a.querySelector(mo(p)),g||(i=m({src:i,async:!0},s),(s=An.get(p))&&xh(i,s),g=a.createElement("script"),ut(g),St(g,"link",i),a.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},c.set(p,g))}}function NT(i,s){br.M(i,s);var a=Ql;if(a&&i){var c=bl(a).hoistableScripts,p=Wl(i),g=c.get(p);g||(g=a.querySelector(mo(p)),g||(i=m({src:i,async:!0,type:"module"},s),(s=An.get(p))&&xh(i,s),g=a.createElement("script"),ut(g),St(g,"link",i),a.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},c.set(p,g))}}function Tb(i,s,a,c){var p=(p=de.current)?du(p):null;if(!p)throw Error(r(446));switch(i){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(s=Zl(a.href),a=bl(p).hoistableStyles,c=a.get(s),c||(c={type:"style",instance:null,count:0,state:null},a.set(s,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){i=Zl(a.href);var g=bl(p).hoistableStyles,x=g.get(i);if(x||(p=p.ownerDocument||p,x={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},g.set(i,x),(g=p.querySelector(po(i)))&&!g._p&&(x.instance=g,x.state.loading=5),An.has(i)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},An.set(i,a),g||RT(p,i,a,x.state))),s&&c===null)throw Error(r(528,""));return x}if(s&&c!==null)throw Error(r(529,""));return null;case"script":return s=a.async,a=a.src,typeof a=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=Wl(a),a=bl(p).hoistableScripts,c=a.get(s),c||(c={type:"script",instance:null,count:0,state:null},a.set(s,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,i))}}function Zl(i){return'href="'+Sn(i)+'"'}function po(i){return'link[rel="stylesheet"]['+i+"]"}function kb(i){return m({},i,{"data-precedence":i.precedence,precedence:null})}function RT(i,s,a,c){i.querySelector('link[rel="preload"][as="style"]['+s+"]")?c.loading=1:(s=i.createElement("link"),c.preload=s,s.addEventListener("load",function(){return c.loading|=1}),s.addEventListener("error",function(){return c.loading|=2}),St(s,"link",a),ut(s),i.head.appendChild(s))}function Wl(i){return'[src="'+Sn(i)+'"]'}function mo(i){return"script[async]"+i}function Ab(i,s,a){if(s.count++,s.instance===null)switch(s.type){case"style":var c=i.querySelector('style[data-href~="'+Sn(a.href)+'"]');if(c)return s.instance=c,ut(c),c;var p=m({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return c=(i.ownerDocument||i).createElement("style"),ut(c),St(c,"style",p),hu(c,a.precedence,i),s.instance=c;case"stylesheet":p=Zl(a.href);var g=i.querySelector(po(p));if(g)return s.state.loading|=4,s.instance=g,ut(g),g;c=kb(a),(p=An.get(p))&&vh(c,p),g=(i.ownerDocument||i).createElement("link"),ut(g);var x=g;return x._p=new Promise(function(E,w){x.onload=E,x.onerror=w}),St(g,"link",c),s.state.loading|=4,hu(g,a.precedence,i),s.instance=g;case"script":return g=Wl(a.src),(p=i.querySelector(mo(g)))?(s.instance=p,ut(p),p):(c=a,(p=An.get(g))&&(c=m({},a),xh(c,p)),i=i.ownerDocument||i,p=i.createElement("script"),ut(p),St(p,"link",c),i.head.appendChild(p),s.instance=p);case"void":return null;default:throw Error(r(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(c=s.instance,s.state.loading|=4,hu(c,a.precedence,i));return s.instance}function hu(i,s,a){for(var c=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),p=c.length?c[c.length-1]:null,g=p,x=0;x<c.length;x++){var E=c[x];if(E.dataset.precedence===s)g=E;else if(g!==p)break}g?g.parentNode.insertBefore(i,g.nextSibling):(s=a.nodeType===9?a.head:a,s.insertBefore(i,s.firstChild))}function vh(i,s){i.crossOrigin==null&&(i.crossOrigin=s.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=s.referrerPolicy),i.title==null&&(i.title=s.title)}function xh(i,s){i.crossOrigin==null&&(i.crossOrigin=s.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=s.referrerPolicy),i.integrity==null&&(i.integrity=s.integrity)}var pu=null;function wb(i,s,a){if(pu===null){var c=new Map,p=pu=new Map;p.set(a,c)}else p=pu,c=p.get(a),c||(c=new Map,p.set(a,c));if(c.has(i))return c;for(c.set(i,null),a=a.getElementsByTagName(i),p=0;p<a.length;p++){var g=a[p];if(!(g[ws]||g[kt]||i==="link"&&g.getAttribute("rel")==="stylesheet")&&g.namespaceURI!=="http://www.w3.org/2000/svg"){var x=g.getAttribute(s)||"";x=i+x;var E=c.get(x);E?E.push(g):c.set(x,[g])}}return c}function Ob(i,s,a){i=i.ownerDocument||i,i.head.insertBefore(a,s==="title"?i.querySelector("head > title"):null)}function DT(i,s,a){if(a===1||s.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return i=s.disabled,typeof s.precedence=="string"&&i==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function Mb(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}var go=null;function zT(){}function BT(i,s,a){if(go===null)throw Error(r(475));var c=go;if(s.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var p=Zl(a.href),g=i.querySelector(po(p));if(g){i=g._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(c.count++,c=mu.bind(c),i.then(c,c)),s.state.loading|=4,s.instance=g,ut(g);return}g=i.ownerDocument||i,a=kb(a),(p=An.get(p))&&vh(a,p),g=g.createElement("link"),ut(g);var x=g;x._p=new Promise(function(E,w){x.onload=E,x.onerror=w}),St(g,"link",a),s.instance=g}c.stylesheets===null&&(c.stylesheets=new Map),c.stylesheets.set(s,i),(i=s.state.preload)&&(s.state.loading&3)===0&&(c.count++,s=mu.bind(c),i.addEventListener("load",s),i.addEventListener("error",s))}}function LT(){if(go===null)throw Error(r(475));var i=go;return i.stylesheets&&i.count===0&&Ch(i,i.stylesheets),0<i.count?function(s){var a=setTimeout(function(){if(i.stylesheets&&Ch(i,i.stylesheets),i.unsuspend){var c=i.unsuspend;i.unsuspend=null,c()}},6e4);return i.unsuspend=s,function(){i.unsuspend=null,clearTimeout(a)}}:null}function mu(){if(this.count--,this.count===0){if(this.stylesheets)Ch(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var gu=null;function Ch(i,s){i.stylesheets=null,i.unsuspend!==null&&(i.count++,gu=new Map,s.forEach(jT,i),gu=null,mu.call(i))}function jT(i,s){if(!(s.state.loading&4)){var a=gu.get(i);if(a)var c=a.get(null);else{a=new Map,gu.set(i,a);for(var p=i.querySelectorAll("link[data-precedence],style[data-precedence]"),g=0;g<p.length;g++){var x=p[g];(x.nodeName==="LINK"||x.getAttribute("media")!=="not all")&&(a.set(x.dataset.precedence,x),c=x)}c&&a.set(null,c)}p=s.instance,x=p.getAttribute("data-precedence"),g=a.get(x)||c,g===c&&a.set(null,p),a.set(x,p),this.count++,c=mu.bind(this),p.addEventListener("load",c),p.addEventListener("error",c),g?g.parentNode.insertBefore(p,g.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(p,i.firstChild)),s.state.loading|=4}}var yo={$$typeof:_,Provider:null,Consumer:null,_currentValue:oe,_currentValue2:oe,_threadCount:0};function _T(i,s,a,c,p,g,x,E){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=bf(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=bf(0),this.hiddenUpdates=bf(null),this.identifierPrefix=c,this.onUncaughtError=p,this.onCaughtError=g,this.onRecoverableError=x,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=E,this.incompleteTransitions=new Map}function Nb(i,s,a,c,p,g,x,E,w,B,U,I){return i=new _T(i,s,a,x,E,w,B,I),s=1,g===!0&&(s|=24),g=sn(3,null,null,s),i.current=g,g.stateNode=i,s=rd(),s.refCount++,i.pooledCache=s,s.refCount++,g.memoizedState={element:c,isDehydrated:a,cache:s},od(g),i}function Rb(i){return i?(i=Nl,i):Nl}function Db(i,s,a,c,p,g){p=Rb(p),c.context===null?c.context=p:c.pendingContext=p,c=_r(s),c.payload={element:a},g=g===void 0?null:g,g!==null&&(c.callback=g),a=Pr(i,c,s),a!==null&&(fn(a,i,s),Ks(a,i,s))}function zb(i,s){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var a=i.retryLane;i.retryLane=a!==0&&a<s?a:s}}function Eh(i,s){zb(i,s),(i=i.alternate)&&zb(i,s)}function Bb(i){if(i.tag===13){var s=Ml(i,67108864);s!==null&&fn(s,i,67108864),Eh(i,67108864)}}var yu=!0;function PT(i,s,a,c){var p=H.T;H.T=null;var g=Y.p;try{Y.p=2,Th(i,s,a,c)}finally{Y.p=g,H.T=p}}function HT(i,s,a,c){var p=H.T;H.T=null;var g=Y.p;try{Y.p=8,Th(i,s,a,c)}finally{Y.p=g,H.T=p}}function Th(i,s,a,c){if(yu){var p=kh(c);if(p===null)fh(i,s,c,bu,a),jb(i,c);else if(VT(p,i,s,a,c))c.stopPropagation();else if(jb(i,c),s&4&&-1<UT.indexOf(i)){for(;p!==null;){var g=yl(p);if(g!==null)switch(g.tag){case 3:if(g=g.stateNode,g.current.memoizedState.isDehydrated){var x=_t(g.pendingLanes);if(x!==0){var E=g;for(E.pendingLanes|=2,E.entangledLanes|=2;x;){var w=1<<31-Lt(x);E.entanglements[1]|=w,x&=~w}Yn(g),(De&6)===0&&(tu=yn()+500,uo(0))}}break;case 13:E=Ml(g,2),E!==null&&fn(E,g,2),ru(),Eh(g,2)}if(g=kh(c),g===null&&fh(i,s,c,bu,a),g===p)break;p=g}p!==null&&c.stopPropagation()}else fh(i,s,c,null,a)}}function kh(i){return i=Nf(i),Ah(i)}var bu=null;function Ah(i){if(bu=null,i=gl(i),i!==null){var s=o(i);if(s===null)i=null;else{var a=s.tag;if(a===13){if(i=u(s),i!==null)return i;i=null}else if(a===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;i=null}else s!==i&&(i=null)}}return bu=i,null}function Lb(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(hf()){case fa:return 2;case da:return 8;case pl:case pf:return 32;case ha:return 268435456;default:return 32}default:return 32}}var wh=!1,Qr=null,Zr=null,Wr=null,bo=new Map,So=new Map,ei=[],UT="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function jb(i,s){switch(i){case"focusin":case"focusout":Qr=null;break;case"dragenter":case"dragleave":Zr=null;break;case"mouseover":case"mouseout":Wr=null;break;case"pointerover":case"pointerout":bo.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":So.delete(s.pointerId)}}function vo(i,s,a,c,p,g){return i===null||i.nativeEvent!==g?(i={blockedOn:s,domEventName:a,eventSystemFlags:c,nativeEvent:g,targetContainers:[p]},s!==null&&(s=yl(s),s!==null&&Bb(s)),i):(i.eventSystemFlags|=c,s=i.targetContainers,p!==null&&s.indexOf(p)===-1&&s.push(p),i)}function VT(i,s,a,c,p){switch(s){case"focusin":return Qr=vo(Qr,i,s,a,c,p),!0;case"dragenter":return Zr=vo(Zr,i,s,a,c,p),!0;case"mouseover":return Wr=vo(Wr,i,s,a,c,p),!0;case"pointerover":var g=p.pointerId;return bo.set(g,vo(bo.get(g)||null,i,s,a,c,p)),!0;case"gotpointercapture":return g=p.pointerId,So.set(g,vo(So.get(g)||null,i,s,a,c,p)),!0}return!1}function _b(i){var s=gl(i.target);if(s!==null){var a=o(s);if(a!==null){if(s=a.tag,s===13){if(s=u(a),s!==null){i.blockedOn=s,BC(i.priority,function(){if(a.tag===13){var c=cn();c=Sf(c);var p=Ml(a,c);p!==null&&fn(p,a,c),Eh(a,c)}});return}}else if(s===3&&a.stateNode.current.memoizedState.isDehydrated){i.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}i.blockedOn=null}function Su(i){if(i.blockedOn!==null)return!1;for(var s=i.targetContainers;0<s.length;){var a=kh(i.nativeEvent);if(a===null){a=i.nativeEvent;var c=new a.constructor(a.type,a);Mf=c,a.target.dispatchEvent(c),Mf=null}else return s=yl(a),s!==null&&Bb(s),i.blockedOn=a,!1;s.shift()}return!0}function Pb(i,s,a){Su(i)&&a.delete(s)}function qT(){wh=!1,Qr!==null&&Su(Qr)&&(Qr=null),Zr!==null&&Su(Zr)&&(Zr=null),Wr!==null&&Su(Wr)&&(Wr=null),bo.forEach(Pb),So.forEach(Pb)}function vu(i,s){i.blockedOn===s&&(i.blockedOn=null,wh||(wh=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,qT)))}var xu=null;function Hb(i){xu!==i&&(xu=i,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){xu===i&&(xu=null);for(var s=0;s<i.length;s+=3){var a=i[s],c=i[s+1],p=i[s+2];if(typeof c!="function"){if(Ah(c||a)===null)continue;break}var g=yl(a);g!==null&&(i.splice(s,3),s-=3,Ad(g,{pending:!0,data:p,method:a.method,action:c},c,p))}}))}function xo(i){function s(w){return vu(w,i)}Qr!==null&&vu(Qr,i),Zr!==null&&vu(Zr,i),Wr!==null&&vu(Wr,i),bo.forEach(s),So.forEach(s);for(var a=0;a<ei.length;a++){var c=ei[a];c.blockedOn===i&&(c.blockedOn=null)}for(;0<ei.length&&(a=ei[0],a.blockedOn===null);)_b(a),a.blockedOn===null&&ei.shift();if(a=(i.ownerDocument||i).$$reactFormReplay,a!=null)for(c=0;c<a.length;c+=3){var p=a[c],g=a[c+1],x=p[Gt]||null;if(typeof g=="function")x||Hb(a);else if(x){var E=null;if(g&&g.hasAttribute("formAction")){if(p=g,x=g[Gt]||null)E=x.formAction;else if(Ah(p)!==null)continue}else E=x.action;typeof E=="function"?a[c+1]=E:(a.splice(c,3),c-=3),Hb(a)}}}function Oh(i){this._internalRoot=i}Cu.prototype.render=Oh.prototype.render=function(i){var s=this._internalRoot;if(s===null)throw Error(r(409));var a=s.current,c=cn();Db(a,c,i,s,null,null)},Cu.prototype.unmount=Oh.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var s=i.containerInfo;Db(i.current,2,null,i,null,null),ru(),s[ml]=null}};function Cu(i){this._internalRoot=i}Cu.prototype.unstable_scheduleHydration=function(i){if(i){var s=ng();i={blockedOn:null,target:i,priority:s};for(var a=0;a<ei.length&&s!==0&&s<ei[a].priority;a++);ei.splice(a,0,i),a===0&&_b(i)}};var Ub=e.version;if(Ub!=="19.1.0")throw Error(r(527,Ub,"19.1.0"));Y.findDOMNode=function(i){var s=i._reactInternals;if(s===void 0)throw typeof i.render=="function"?Error(r(188)):(i=Object.keys(i).join(","),Error(r(268,i)));return i=d(s),i=i!==null?h(i):null,i=i===null?null:i.stateNode,i};var IT={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:H,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Eu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Eu.isDisabled&&Eu.supportsFiber)try{ki=Eu.inject(IT),Bt=Eu}catch{}}return Eo.createRoot=function(i,s){if(!l(i))throw Error(r(299));var a=!1,c="",p=n0,g=r0,x=i0,E=null;return s!=null&&(s.unstable_strictMode===!0&&(a=!0),s.identifierPrefix!==void 0&&(c=s.identifierPrefix),s.onUncaughtError!==void 0&&(p=s.onUncaughtError),s.onCaughtError!==void 0&&(g=s.onCaughtError),s.onRecoverableError!==void 0&&(x=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(E=s.unstable_transitionCallbacks)),s=Nb(i,1,!1,null,null,a,c,p,g,x,E,null),i[ml]=s.current,ch(i),new Oh(s)},Eo.hydrateRoot=function(i,s,a){if(!l(i))throw Error(r(299));var c=!1,p="",g=n0,x=r0,E=i0,w=null,B=null;return a!=null&&(a.unstable_strictMode===!0&&(c=!0),a.identifierPrefix!==void 0&&(p=a.identifierPrefix),a.onUncaughtError!==void 0&&(g=a.onUncaughtError),a.onCaughtError!==void 0&&(x=a.onCaughtError),a.onRecoverableError!==void 0&&(E=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(w=a.unstable_transitionCallbacks),a.formState!==void 0&&(B=a.formState)),s=Nb(i,1,!0,s,a??null,c,p,g,x,E,w,B),s.context=Rb(null),a=s.current,c=cn(),c=Sf(c),p=_r(c),p.callback=null,Pr(a,p,c),a=c,s.current.lanes=a,As(s,a),Yn(s),i[ml]=s.current,ch(i),new Cu(s)},Eo.version="19.1.0",Eo}var Xb;function ZT(){if(Xb)return Rh.exports;Xb=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Rh.exports=QT(),Rh.exports}var WT=ZT(),To={},Qb;function ek(){if(Qb)return To;Qb=1,Object.defineProperty(To,"__esModule",{value:!0}),To.parse=u,To.serialize=h;const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,r=/^[\u0020-\u003A\u003D-\u007E]*$/,l=Object.prototype.toString,o=(()=>{const b=function(){};return b.prototype=Object.create(null),b})();function u(b,v){const S=new o,T=b.length;if(T<2)return S;const C=(v==null?void 0:v.decode)||m;let A=0;do{const O=b.indexOf("=",A);if(O===-1)break;const _=b.indexOf(";",A),G=_===-1?T:_;if(O>G){A=b.lastIndexOf(";",O-1)+1;continue}const q=f(b,A,O),J=d(b,O,q),re=b.slice(q,J);if(S[re]===void 0){let ce=f(b,O+1,G),W=d(b,G,ce);const Me=C(b.slice(ce,W));S[re]=Me}A=G+1}while(A<T);return S}function f(b,v,S){do{const T=b.charCodeAt(v);if(T!==32&&T!==9)return v}while(++v<S);return S}function d(b,v,S){for(;v>S;){const T=b.charCodeAt(--v);if(T!==32&&T!==9)return v+1}return S}function h(b,v,S){const T=(S==null?void 0:S.encode)||encodeURIComponent;if(!n.test(b))throw new TypeError(`argument name is invalid: ${b}`);const C=T(v);if(!e.test(C))throw new TypeError(`argument val is invalid: ${v}`);let A=b+"="+C;if(!S)return A;if(S.maxAge!==void 0){if(!Number.isInteger(S.maxAge))throw new TypeError(`option maxAge is invalid: ${S.maxAge}`);A+="; Max-Age="+S.maxAge}if(S.domain){if(!t.test(S.domain))throw new TypeError(`option domain is invalid: ${S.domain}`);A+="; Domain="+S.domain}if(S.path){if(!r.test(S.path))throw new TypeError(`option path is invalid: ${S.path}`);A+="; Path="+S.path}if(S.expires){if(!y(S.expires)||!Number.isFinite(S.expires.valueOf()))throw new TypeError(`option expires is invalid: ${S.expires}`);A+="; Expires="+S.expires.toUTCString()}if(S.httpOnly&&(A+="; HttpOnly"),S.secure&&(A+="; Secure"),S.partitioned&&(A+="; Partitioned"),S.priority)switch(typeof S.priority=="string"?S.priority.toLowerCase():void 0){case"low":A+="; Priority=Low";break;case"medium":A+="; Priority=Medium";break;case"high":A+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${S.priority}`)}if(S.sameSite)switch(typeof S.sameSite=="string"?S.sameSite.toLowerCase():S.sameSite){case!0:case"strict":A+="; SameSite=Strict";break;case"lax":A+="; SameSite=Lax";break;case"none":A+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${S.sameSite}`)}return A}function m(b){if(b.indexOf("%")===-1)return b;try{return decodeURIComponent(b)}catch{return b}}function y(b){return l.call(b)==="[object Date]"}return To}ek();/**
 * react-router v7.5.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Zb="popstate";function tk(n={}){function e(r,l){let{pathname:o,search:u,hash:f}=r.location;return pp("",{pathname:o,search:u,hash:f},l.state&&l.state.usr||null,l.state&&l.state.key||"default")}function t(r,l){return typeof l=="string"?l:Fo(l)}return rk(e,t,null,n)}function Ke(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function Pn(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function nk(){return Math.random().toString(36).substring(2,10)}function Wb(n,e){return{usr:n.state,key:n.key,idx:e}}function pp(n,e,t=null,r){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?gs(e):e,state:t,key:e&&e.key||r||nk()}}function Fo({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function gs(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let r=n.indexOf("?");r>=0&&(e.search=n.substring(r),n=n.substring(0,r)),n&&(e.pathname=n)}return e}function rk(n,e,t,r={}){let{window:l=document.defaultView,v5Compat:o=!1}=r,u=l.history,f="POP",d=null,h=m();h==null&&(h=0,u.replaceState({...u.state,idx:h},""));function m(){return(u.state||{idx:null}).idx}function y(){f="POP";let C=m(),A=C==null?null:C-h;h=C,d&&d({action:f,location:T.location,delta:A})}function b(C,A){f="PUSH";let O=pp(T.location,C,A);h=m()+1;let _=Wb(O,h),G=T.createHref(O);try{u.pushState(_,"",G)}catch(q){if(q instanceof DOMException&&q.name==="DataCloneError")throw q;l.location.assign(G)}o&&d&&d({action:f,location:T.location,delta:1})}function v(C,A){f="REPLACE";let O=pp(T.location,C,A);h=m();let _=Wb(O,h),G=T.createHref(O);u.replaceState(_,"",G),o&&d&&d({action:f,location:T.location,delta:0})}function S(C){let A=l.location.origin!=="null"?l.location.origin:l.location.href,O=typeof C=="string"?C:Fo(C);return O=O.replace(/ $/,"%20"),Ke(A,`No window.location.(origin|href) available to create URL for href: ${O}`),new URL(O,A)}let T={get action(){return f},get location(){return n(l,u)},listen(C){if(d)throw new Error("A history only accepts one active listener");return l.addEventListener(Zb,y),d=C,()=>{l.removeEventListener(Zb,y),d=null}},createHref(C){return e(l,C)},createURL:S,encodeLocation(C){let A=S(C);return{pathname:A.pathname,search:A.search,hash:A.hash}},push:b,replace:v,go(C){return u.go(C)}};return T}function FS(n,e,t="/"){return ik(n,e,t,!1)}function ik(n,e,t,r){let l=typeof e=="string"?gs(e):e,o=Nr(l.pathname||"/",t);if(o==null)return null;let u=$S(n);lk(u);let f=null;for(let d=0;f==null&&d<u.length;++d){let h=gk(o);f=pk(u[d],h,r)}return f}function $S(n,e=[],t=[],r=""){let l=(o,u,f)=>{let d={relativePath:f===void 0?o.path||"":f,caseSensitive:o.caseSensitive===!0,childrenIndex:u,route:o};d.relativePath.startsWith("/")&&(Ke(d.relativePath.startsWith(r),`Absolute route path "${d.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),d.relativePath=d.relativePath.slice(r.length));let h=wr([r,d.relativePath]),m=t.concat(d);o.children&&o.children.length>0&&(Ke(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${h}".`),$S(o.children,e,m,h)),!(o.path==null&&!o.index)&&e.push({path:h,score:dk(h,o.index),routesMeta:m})};return n.forEach((o,u)=>{var f;if(o.path===""||!((f=o.path)!=null&&f.includes("?")))l(o,u);else for(let d of KS(o.path))l(o,u,d)}),e}function KS(n){let e=n.split("/");if(e.length===0)return[];let[t,...r]=e,l=t.endsWith("?"),o=t.replace(/\?$/,"");if(r.length===0)return l?[o,""]:[o];let u=KS(r.join("/")),f=[];return f.push(...u.map(d=>d===""?o:[o,d].join("/"))),l&&f.push(...u),f.map(d=>n.startsWith("/")&&d===""?"/":d)}function lk(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:hk(e.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}var sk=/^:[\w-]+$/,ok=3,ak=2,uk=1,ck=10,fk=-2,e1=n=>n==="*";function dk(n,e){let t=n.split("/"),r=t.length;return t.some(e1)&&(r+=fk),e&&(r+=ak),t.filter(l=>!e1(l)).reduce((l,o)=>l+(sk.test(o)?ok:o===""?uk:ck),r)}function hk(n,e){return n.length===e.length&&n.slice(0,-1).every((r,l)=>r===e[l])?n[n.length-1]-e[e.length-1]:0}function pk(n,e,t=!1){let{routesMeta:r}=n,l={},o="/",u=[];for(let f=0;f<r.length;++f){let d=r[f],h=f===r.length-1,m=o==="/"?e:e.slice(o.length)||"/",y=Ju({path:d.relativePath,caseSensitive:d.caseSensitive,end:h},m),b=d.route;if(!y&&h&&t&&!r[r.length-1].route.index&&(y=Ju({path:d.relativePath,caseSensitive:d.caseSensitive,end:!1},m)),!y)return null;Object.assign(l,y.params),u.push({params:l,pathname:wr([o,y.pathname]),pathnameBase:vk(wr([o,y.pathnameBase])),route:b}),y.pathnameBase!=="/"&&(o=wr([o,y.pathnameBase]))}return u}function Ju(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,r]=mk(n.path,n.caseSensitive,n.end),l=e.match(t);if(!l)return null;let o=l[0],u=o.replace(/(.)\/+$/,"$1"),f=l.slice(1);return{params:r.reduce((h,{paramName:m,isOptional:y},b)=>{if(m==="*"){let S=f[b]||"";u=o.slice(0,o.length-S.length).replace(/(.)\/+$/,"$1")}const v=f[b];return y&&!v?h[m]=void 0:h[m]=(v||"").replace(/%2F/g,"/"),h},{}),pathname:o,pathnameBase:u,pattern:n}}function mk(n,e=!1,t=!0){Pn(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let r=[],l="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,f,d)=>(r.push({paramName:f,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(r.push({paramName:"*"}),l+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?l+="\\/*$":n!==""&&n!=="/"&&(l+="(?:(?=\\/|$))"),[new RegExp(l,e?void 0:"i"),r]}function gk(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Pn(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function Nr(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,r=n.charAt(t);return r&&r!=="/"?null:n.slice(t)||"/"}function yk(n,e="/"){let{pathname:t,search:r="",hash:l=""}=typeof n=="string"?gs(n):n;return{pathname:t?t.startsWith("/")?t:bk(t,e):e,search:xk(r),hash:Ck(l)}}function bk(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(l=>{l===".."?t.length>1&&t.pop():l!=="."&&t.push(l)}),t.length>1?t.join("/"):"/"}function Lh(n,e,t,r){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Sk(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function nm(n){let e=Sk(n);return e.map((t,r)=>r===e.length-1?t.pathname:t.pathnameBase)}function rm(n,e,t,r=!1){let l;typeof n=="string"?l=gs(n):(l={...n},Ke(!l.pathname||!l.pathname.includes("?"),Lh("?","pathname","search",l)),Ke(!l.pathname||!l.pathname.includes("#"),Lh("#","pathname","hash",l)),Ke(!l.search||!l.search.includes("#"),Lh("#","search","hash",l)));let o=n===""||l.pathname==="",u=o?"/":l.pathname,f;if(u==null)f=t;else{let y=e.length-1;if(!r&&u.startsWith("..")){let b=u.split("/");for(;b[0]==="..";)b.shift(),y-=1;l.pathname=b.join("/")}f=y>=0?e[y]:"/"}let d=yk(l,f),h=u&&u!=="/"&&u.endsWith("/"),m=(o||u===".")&&t.endsWith("/");return!d.pathname.endsWith("/")&&(h||m)&&(d.pathname+="/"),d}var wr=n=>n.join("/").replace(/\/\/+/g,"/"),vk=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),xk=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,Ck=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function Ek(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var GS=["POST","PUT","PATCH","DELETE"];new Set(GS);var Tk=["GET",...GS];new Set(Tk);var ys=R.createContext(null);ys.displayName="DataRouter";var Uc=R.createContext(null);Uc.displayName="DataRouterState";var YS=R.createContext({isTransitioning:!1});YS.displayName="ViewTransition";var kk=R.createContext(new Map);kk.displayName="Fetchers";var Ak=R.createContext(null);Ak.displayName="Await";var Un=R.createContext(null);Un.displayName="Navigation";var ra=R.createContext(null);ra.displayName="Location";var nr=R.createContext({outlet:null,matches:[],isDataRoute:!1});nr.displayName="Route";var im=R.createContext(null);im.displayName="RouteError";function wk(n,{relative:e}={}){Ke(bs(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:r}=R.useContext(Un),{hash:l,pathname:o,search:u}=ia(n,{relative:e}),f=o;return t!=="/"&&(f=o==="/"?t:wr([t,o])),r.createHref({pathname:f,search:u,hash:l})}function bs(){return R.useContext(ra)!=null}function vi(){return Ke(bs(),"useLocation() may be used only in the context of a <Router> component."),R.useContext(ra).location}var JS="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function XS(n){R.useContext(Un).static||R.useLayoutEffect(n)}function Vc(){let{isDataRoute:n}=R.useContext(nr);return n?Uk():Ok()}function Ok(){Ke(bs(),"useNavigate() may be used only in the context of a <Router> component.");let n=R.useContext(ys),{basename:e,navigator:t}=R.useContext(Un),{matches:r}=R.useContext(nr),{pathname:l}=vi(),o=JSON.stringify(nm(r)),u=R.useRef(!1);return XS(()=>{u.current=!0}),R.useCallback((d,h={})=>{if(Pn(u.current,JS),!u.current)return;if(typeof d=="number"){t.go(d);return}let m=rm(d,JSON.parse(o),l,h.relative==="path");n==null&&e!=="/"&&(m.pathname=m.pathname==="/"?e:wr([e,m.pathname])),(h.replace?t.replace:t.push)(m,h.state,h)},[e,t,o,l,n])}R.createContext(null);function ia(n,{relative:e}={}){let{matches:t}=R.useContext(nr),{pathname:r}=vi(),l=JSON.stringify(nm(t));return R.useMemo(()=>rm(n,JSON.parse(l),r,e==="path"),[n,l,r,e])}function Mk(n,e){return QS(n,e)}function QS(n,e,t,r){var O;Ke(bs(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l,static:o}=R.useContext(Un),{matches:u}=R.useContext(nr),f=u[u.length-1],d=f?f.params:{},h=f?f.pathname:"/",m=f?f.pathnameBase:"/",y=f&&f.route;{let _=y&&y.path||"";ZS(h,!y||_.endsWith("*")||_.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${h}" (under <Route path="${_}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${_}"> to <Route path="${_==="/"?"*":`${_}/*`}">.`)}let b=vi(),v;if(e){let _=typeof e=="string"?gs(e):e;Ke(m==="/"||((O=_.pathname)==null?void 0:O.startsWith(m)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${m}" but pathname "${_.pathname}" was given in the \`location\` prop.`),v=_}else v=b;let S=v.pathname||"/",T=S;if(m!=="/"){let _=m.replace(/^\//,"").split("/");T="/"+S.replace(/^\//,"").split("/").slice(_.length).join("/")}let C=!o&&t&&t.matches&&t.matches.length>0?t.matches:FS(n,{pathname:T});Pn(y||C!=null,`No routes matched location "${v.pathname}${v.search}${v.hash}" `),Pn(C==null||C[C.length-1].route.element!==void 0||C[C.length-1].route.Component!==void 0||C[C.length-1].route.lazy!==void 0,`Matched leaf route at location "${v.pathname}${v.search}${v.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let A=Bk(C&&C.map(_=>Object.assign({},_,{params:Object.assign({},d,_.params),pathname:wr([m,l.encodeLocation?l.encodeLocation(_.pathname).pathname:_.pathname]),pathnameBase:_.pathnameBase==="/"?m:wr([m,l.encodeLocation?l.encodeLocation(_.pathnameBase).pathname:_.pathnameBase])})),u,t,r);return e&&A?R.createElement(ra.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...v},navigationType:"POP"}},A):A}function Nk(){let n=Hk(),e=Ek(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,r="rgba(200,200,200, 0.5)",l={padding:"0.5rem",backgroundColor:r},o={padding:"2px 4px",backgroundColor:r},u=null;return console.error("Error handled by React Router default ErrorBoundary:",n),u=R.createElement(R.Fragment,null,R.createElement("p",null," Hey developer "),R.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",R.createElement("code",{style:o},"ErrorBoundary")," or"," ",R.createElement("code",{style:o},"errorElement")," prop on your route.")),R.createElement(R.Fragment,null,R.createElement("h2",null,"Unexpected Application Error!"),R.createElement("h3",{style:{fontStyle:"italic"}},e),t?R.createElement("pre",{style:l},t):null,u)}var Rk=R.createElement(Nk,null),Dk=class extends R.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){console.error("React Router caught the following error during render",n,e)}render(){return this.state.error!==void 0?R.createElement(nr.Provider,{value:this.props.routeContext},R.createElement(im.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function zk({routeContext:n,match:e,children:t}){let r=R.useContext(ys);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),R.createElement(nr.Provider,{value:n},t)}function Bk(n,e=[],t=null,r=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let l=n,o=t==null?void 0:t.errors;if(o!=null){let d=l.findIndex(h=>h.route.id&&(o==null?void 0:o[h.route.id])!==void 0);Ke(d>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),l=l.slice(0,Math.min(l.length,d+1))}let u=!1,f=-1;if(t)for(let d=0;d<l.length;d++){let h=l[d];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(f=d),h.route.id){let{loaderData:m,errors:y}=t,b=h.route.loader&&!m.hasOwnProperty(h.route.id)&&(!y||y[h.route.id]===void 0);if(h.route.lazy||b){u=!0,f>=0?l=l.slice(0,f+1):l=[l[0]];break}}}return l.reduceRight((d,h,m)=>{let y,b=!1,v=null,S=null;t&&(y=o&&h.route.id?o[h.route.id]:void 0,v=h.route.errorElement||Rk,u&&(f<0&&m===0?(ZS("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),b=!0,S=null):f===m&&(b=!0,S=h.route.hydrateFallbackElement||null)));let T=e.concat(l.slice(0,m+1)),C=()=>{let A;return y?A=v:b?A=S:h.route.Component?A=R.createElement(h.route.Component,null):h.route.element?A=h.route.element:A=d,R.createElement(zk,{match:h,routeContext:{outlet:d,matches:T,isDataRoute:t!=null},children:A})};return t&&(h.route.ErrorBoundary||h.route.errorElement||m===0)?R.createElement(Dk,{location:t.location,revalidation:t.revalidation,component:v,error:y,children:C(),routeContext:{outlet:null,matches:T,isDataRoute:!0}}):C()},null)}function lm(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Lk(n){let e=R.useContext(ys);return Ke(e,lm(n)),e}function jk(n){let e=R.useContext(Uc);return Ke(e,lm(n)),e}function _k(n){let e=R.useContext(nr);return Ke(e,lm(n)),e}function sm(n){let e=_k(n),t=e.matches[e.matches.length-1];return Ke(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function Pk(){return sm("useRouteId")}function Hk(){var r;let n=R.useContext(im),e=jk("useRouteError"),t=sm("useRouteError");return n!==void 0?n:(r=e.errors)==null?void 0:r[t]}function Uk(){let{router:n}=Lk("useNavigate"),e=sm("useNavigate"),t=R.useRef(!1);return XS(()=>{t.current=!0}),R.useCallback(async(l,o={})=>{Pn(t.current,JS),t.current&&(typeof l=="number"?n.navigate(l):await n.navigate(l,{fromRouteId:e,...o}))},[n,e])}var t1={};function ZS(n,e,t){!e&&!t1[n]&&(t1[n]=!0,Pn(!1,t))}R.memo(Vk);function Vk({routes:n,future:e,state:t}){return QS(n,void 0,t,e)}function om({to:n,replace:e,state:t,relative:r}){Ke(bs(),"<Navigate> may be used only in the context of a <Router> component.");let{static:l}=R.useContext(Un);Pn(!l,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:o}=R.useContext(nr),{pathname:u}=vi(),f=Vc(),d=rm(n,nm(o),u,r==="path"),h=JSON.stringify(d);return R.useEffect(()=>{f(JSON.parse(h),{replace:e,state:t,relative:r})},[f,h,r,e,t]),null}function mp(n){Ke(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function qk({basename:n="/",children:e=null,location:t,navigationType:r="POP",navigator:l,static:o=!1}){Ke(!bs(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=n.replace(/^\/*/,"/"),f=R.useMemo(()=>({basename:u,navigator:l,static:o,future:{}}),[u,l,o]);typeof t=="string"&&(t=gs(t));let{pathname:d="/",search:h="",hash:m="",state:y=null,key:b="default"}=t,v=R.useMemo(()=>{let S=Nr(d,u);return S==null?null:{location:{pathname:S,search:h,hash:m,state:y,key:b},navigationType:r}},[u,d,h,m,y,b,r]);return Pn(v!=null,`<Router basename="${u}"> is not able to match the URL "${d}${h}${m}" because it does not start with the basename, so the <Router> won't render anything.`),v==null?null:R.createElement(Un.Provider,{value:f},R.createElement(ra.Provider,{children:e,value:v}))}function Ik({children:n,location:e}){return Mk(gp(n),e)}function gp(n,e=[]){let t=[];return R.Children.forEach(n,(r,l)=>{if(!R.isValidElement(r))return;let o=[...e,l];if(r.type===R.Fragment){t.push.apply(t,gp(r.props.children,o));return}Ke(r.type===mp,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Ke(!r.props.index||!r.props.children,"An index route cannot have child routes.");let u={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(u.children=gp(r.props.children,o)),t.push(u)}),t}var _u="get",Pu="application/x-www-form-urlencoded";function qc(n){return n!=null&&typeof n.tagName=="string"}function Fk(n){return qc(n)&&n.tagName.toLowerCase()==="button"}function $k(n){return qc(n)&&n.tagName.toLowerCase()==="form"}function Kk(n){return qc(n)&&n.tagName.toLowerCase()==="input"}function Gk(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function Yk(n,e){return n.button===0&&(!e||e==="_self")&&!Gk(n)}var Tu=null;function Jk(){if(Tu===null)try{new FormData(document.createElement("form"),0),Tu=!1}catch{Tu=!0}return Tu}var Xk=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function jh(n){return n!=null&&!Xk.has(n)?(Pn(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Pu}"`),null):n}function Qk(n,e){let t,r,l,o,u;if($k(n)){let f=n.getAttribute("action");r=f?Nr(f,e):null,t=n.getAttribute("method")||_u,l=jh(n.getAttribute("enctype"))||Pu,o=new FormData(n)}else if(Fk(n)||Kk(n)&&(n.type==="submit"||n.type==="image")){let f=n.form;if(f==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let d=n.getAttribute("formaction")||f.getAttribute("action");if(r=d?Nr(d,e):null,t=n.getAttribute("formmethod")||f.getAttribute("method")||_u,l=jh(n.getAttribute("formenctype"))||jh(f.getAttribute("enctype"))||Pu,o=new FormData(f,n),!Jk()){let{name:h,type:m,value:y}=n;if(m==="image"){let b=h?`${h}.`:"";o.append(`${b}x`,"0"),o.append(`${b}y`,"0")}else h&&o.append(h,y)}}else{if(qc(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=_u,r=null,l=Pu,u=n}return o&&l==="text/plain"&&(u=o,o=void 0),{action:r,method:t.toLowerCase(),encType:l,formData:o,body:u}}function am(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}async function Zk(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Wk(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function eA(n,e,t){let r=await Promise.all(n.map(async l=>{let o=e.routes[l.route.id];if(o){let u=await Zk(o,t);return u.links?u.links():[]}return[]}));return iA(r.flat(1).filter(Wk).filter(l=>l.rel==="stylesheet"||l.rel==="preload").map(l=>l.rel==="stylesheet"?{...l,rel:"prefetch",as:"style"}:{...l,rel:"prefetch"}))}function n1(n,e,t,r,l,o){let u=(d,h)=>t[h]?d.route.id!==t[h].route.id:!0,f=(d,h)=>{var m;return t[h].pathname!==d.pathname||((m=t[h].route.path)==null?void 0:m.endsWith("*"))&&t[h].params["*"]!==d.params["*"]};return o==="assets"?e.filter((d,h)=>u(d,h)||f(d,h)):o==="data"?e.filter((d,h)=>{var y;let m=r.routes[d.route.id];if(!m||!m.hasLoader)return!1;if(u(d,h)||f(d,h))return!0;if(d.route.shouldRevalidate){let b=d.route.shouldRevalidate({currentUrl:new URL(l.pathname+l.search+l.hash,window.origin),currentParams:((y=t[0])==null?void 0:y.params)||{},nextUrl:new URL(n,window.origin),nextParams:d.params,defaultShouldRevalidate:!0});if(typeof b=="boolean")return b}return!0}):[]}function tA(n,e,{includeHydrateFallback:t}={}){return nA(n.map(r=>{let l=e.routes[r.route.id];if(!l)return[];let o=[l.module];return l.clientActionModule&&(o=o.concat(l.clientActionModule)),l.clientLoaderModule&&(o=o.concat(l.clientLoaderModule)),t&&l.hydrateFallbackModule&&(o=o.concat(l.hydrateFallbackModule)),l.imports&&(o=o.concat(l.imports)),o}).flat(1))}function nA(n){return[...new Set(n)]}function rA(n){let e={},t=Object.keys(n).sort();for(let r of t)e[r]=n[r];return e}function iA(n,e){let t=new Set;return new Set(e),n.reduce((r,l)=>{let o=JSON.stringify(rA(l));return t.has(o)||(t.add(o),r.push({key:o,link:l})),r},[])}var lA=new Set([100,101,204,205]);function sA(n,e){let t=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return t.pathname==="/"?t.pathname="_root.data":e&&Nr(t.pathname,e)==="/"?t.pathname=`${e.replace(/\/$/,"")}/_root.data`:t.pathname=`${t.pathname.replace(/\/$/,"")}.data`,t}function WS(){let n=R.useContext(ys);return am(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function oA(){let n=R.useContext(Uc);return am(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var um=R.createContext(void 0);um.displayName="FrameworkContext";function ev(){let n=R.useContext(um);return am(n,"You must render this element inside a <HydratedRouter> element"),n}function aA(n,e){let t=R.useContext(um),[r,l]=R.useState(!1),[o,u]=R.useState(!1),{onFocus:f,onBlur:d,onMouseEnter:h,onMouseLeave:m,onTouchStart:y}=e,b=R.useRef(null);R.useEffect(()=>{if(n==="render"&&u(!0),n==="viewport"){let T=A=>{A.forEach(O=>{u(O.isIntersecting)})},C=new IntersectionObserver(T,{threshold:.5});return b.current&&C.observe(b.current),()=>{C.disconnect()}}},[n]),R.useEffect(()=>{if(r){let T=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(T)}}},[r]);let v=()=>{l(!0)},S=()=>{l(!1),u(!1)};return t?n!=="intent"?[o,b,{}]:[o,b,{onFocus:ko(f,v),onBlur:ko(d,S),onMouseEnter:ko(h,v),onMouseLeave:ko(m,S),onTouchStart:ko(y,v)}]:[!1,b,{}]}function ko(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function uA({page:n,...e}){let{router:t}=WS(),r=R.useMemo(()=>FS(t.routes,n,t.basename),[t.routes,n,t.basename]);return r?R.createElement(fA,{page:n,matches:r,...e}):null}function cA(n){let{manifest:e,routeModules:t}=ev(),[r,l]=R.useState([]);return R.useEffect(()=>{let o=!1;return eA(n,e,t).then(u=>{o||l(u)}),()=>{o=!0}},[n,e,t]),r}function fA({page:n,matches:e,...t}){let r=vi(),{manifest:l,routeModules:o}=ev(),{basename:u}=WS(),{loaderData:f,matches:d}=oA(),h=R.useMemo(()=>n1(n,e,d,l,r,"data"),[n,e,d,l,r]),m=R.useMemo(()=>n1(n,e,d,l,r,"assets"),[n,e,d,l,r]),y=R.useMemo(()=>{if(n===r.pathname+r.search+r.hash)return[];let S=new Set,T=!1;if(e.forEach(A=>{var _;let O=l.routes[A.route.id];!O||!O.hasLoader||(!h.some(G=>G.route.id===A.route.id)&&A.route.id in f&&((_=o[A.route.id])!=null&&_.shouldRevalidate)||O.hasClientLoader?T=!0:S.add(A.route.id))}),S.size===0)return[];let C=sA(n,u);return T&&S.size>0&&C.searchParams.set("_routes",e.filter(A=>S.has(A.route.id)).map(A=>A.route.id).join(",")),[C.pathname+C.search]},[u,f,r,l,h,e,n,o]),b=R.useMemo(()=>tA(m,l),[m,l]),v=cA(m);return R.createElement(R.Fragment,null,y.map(S=>R.createElement("link",{key:S,rel:"prefetch",as:"fetch",href:S,...t})),b.map(S=>R.createElement("link",{key:S,rel:"modulepreload",href:S,...t})),v.map(({key:S,link:T})=>R.createElement("link",{key:S,...T})))}function dA(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var tv=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{tv&&(window.__reactRouterVersion="7.5.1")}catch{}function hA({basename:n,children:e,window:t}){let r=R.useRef();r.current==null&&(r.current=tk({window:t,v5Compat:!0}));let l=r.current,[o,u]=R.useState({action:l.action,location:l.location}),f=R.useCallback(d=>{R.startTransition(()=>u(d))},[u]);return R.useLayoutEffect(()=>l.listen(f),[l,f]),R.createElement(qk,{basename:n,children:e,location:o.location,navigationType:o.action,navigator:l})}var nv=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,rv=R.forwardRef(function({onClick:e,discover:t="render",prefetch:r="none",relative:l,reloadDocument:o,replace:u,state:f,target:d,to:h,preventScrollReset:m,viewTransition:y,...b},v){let{basename:S}=R.useContext(Un),T=typeof h=="string"&&nv.test(h),C,A=!1;if(typeof h=="string"&&T&&(C=h,tv))try{let W=new URL(window.location.href),Me=h.startsWith("//")?new URL(W.protocol+h):new URL(h),Je=Nr(Me.pathname,S);Me.origin===W.origin&&Je!=null?h=Je+Me.search+Me.hash:A=!0}catch{Pn(!1,`<Link to="${h}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let O=wk(h,{relative:l}),[_,G,q]=aA(r,b),J=yA(h,{replace:u,state:f,target:d,preventScrollReset:m,relative:l,viewTransition:y});function re(W){e&&e(W),W.defaultPrevented||J(W)}let ce=R.createElement("a",{...b,...q,href:C||O,onClick:A||o?e:re,ref:dA(v,G),target:d,"data-discover":!T&&t==="render"?"true":void 0});return _&&!T?R.createElement(R.Fragment,null,ce,R.createElement(uA,{page:O})):ce});rv.displayName="Link";var pA=R.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:r="",end:l=!1,style:o,to:u,viewTransition:f,children:d,...h},m){let y=ia(u,{relative:h.relative}),b=vi(),v=R.useContext(Uc),{navigator:S,basename:T}=R.useContext(Un),C=v!=null&&CA(y)&&f===!0,A=S.encodeLocation?S.encodeLocation(y).pathname:y.pathname,O=b.pathname,_=v&&v.navigation&&v.navigation.location?v.navigation.location.pathname:null;t||(O=O.toLowerCase(),_=_?_.toLowerCase():null,A=A.toLowerCase()),_&&T&&(_=Nr(_,T)||_);const G=A!=="/"&&A.endsWith("/")?A.length-1:A.length;let q=O===A||!l&&O.startsWith(A)&&O.charAt(G)==="/",J=_!=null&&(_===A||!l&&_.startsWith(A)&&_.charAt(A.length)==="/"),re={isActive:q,isPending:J,isTransitioning:C},ce=q?e:void 0,W;typeof r=="function"?W=r(re):W=[r,q?"active":null,J?"pending":null,C?"transitioning":null].filter(Boolean).join(" ");let Me=typeof o=="function"?o(re):o;return R.createElement(rv,{...h,"aria-current":ce,className:W,ref:m,style:Me,to:u,viewTransition:f},typeof d=="function"?d(re):d)});pA.displayName="NavLink";var mA=R.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:r,replace:l,state:o,method:u=_u,action:f,onSubmit:d,relative:h,preventScrollReset:m,viewTransition:y,...b},v)=>{let S=vA(),T=xA(f,{relative:h}),C=u.toLowerCase()==="get"?"get":"post",A=typeof f=="string"&&nv.test(f),O=_=>{if(d&&d(_),_.defaultPrevented)return;_.preventDefault();let G=_.nativeEvent.submitter,q=(G==null?void 0:G.getAttribute("formmethod"))||u;S(G||_.currentTarget,{fetcherKey:e,method:q,navigate:t,replace:l,state:o,relative:h,preventScrollReset:m,viewTransition:y})};return R.createElement("form",{ref:v,method:C,action:T,onSubmit:r?d:O,...b,"data-discover":!A&&n==="render"?"true":void 0})});mA.displayName="Form";function gA(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function iv(n){let e=R.useContext(ys);return Ke(e,gA(n)),e}function yA(n,{target:e,replace:t,state:r,preventScrollReset:l,relative:o,viewTransition:u}={}){let f=Vc(),d=vi(),h=ia(n,{relative:o});return R.useCallback(m=>{if(Yk(m,e)){m.preventDefault();let y=t!==void 0?t:Fo(d)===Fo(h);f(n,{replace:y,state:r,preventScrollReset:l,relative:o,viewTransition:u})}},[d,f,h,t,r,e,n,l,o,u])}var bA=0,SA=()=>`__${String(++bA)}__`;function vA(){let{router:n}=iv("useSubmit"),{basename:e}=R.useContext(Un),t=Pk();return R.useCallback(async(r,l={})=>{let{action:o,method:u,encType:f,formData:d,body:h}=Qk(r,e);if(l.navigate===!1){let m=l.fetcherKey||SA();await n.fetch(m,t,l.action||o,{preventScrollReset:l.preventScrollReset,formData:d,body:h,formMethod:l.method||u,formEncType:l.encType||f,flushSync:l.flushSync})}else await n.navigate(l.action||o,{preventScrollReset:l.preventScrollReset,formData:d,body:h,formMethod:l.method||u,formEncType:l.encType||f,replace:l.replace,state:l.state,fromRouteId:t,flushSync:l.flushSync,viewTransition:l.viewTransition})},[n,e,t])}function xA(n,{relative:e}={}){let{basename:t}=R.useContext(Un),r=R.useContext(nr);Ke(r,"useFormAction must be used inside a RouteContext");let[l]=r.matches.slice(-1),o={...ia(n||".",{relative:e})},u=vi();if(n==null){o.search=u.search;let f=new URLSearchParams(o.search),d=f.getAll("index");if(d.some(m=>m==="")){f.delete("index"),d.filter(y=>y).forEach(y=>f.append("index",y));let m=f.toString();o.search=m?`?${m}`:""}}return(!n||n===".")&&l.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(o.pathname=o.pathname==="/"?t:wr([t,o.pathname])),Fo(o)}function CA(n,e={}){let t=R.useContext(YS);Ke(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=iv("useViewTransitionState"),l=ia(n,{relative:e.relative});if(!t.isTransitioning)return!1;let o=Nr(t.currentLocation.pathname,r)||t.currentLocation.pathname,u=Nr(t.nextLocation.pathname,r)||t.nextLocation.pathname;return Ju(l.pathname,u)!=null||Ju(l.pathname,o)!=null}new TextEncoder;[...lA];class Mo extends Error{}Mo.prototype.name="InvalidTokenError";function EA(n){return decodeURIComponent(atob(n).replace(/(.)/g,(e,t)=>{let r=t.charCodeAt(0).toString(16).toUpperCase();return r.length<2&&(r="0"+r),"%"+r}))}function TA(n){let e=n.replace(/-/g,"+").replace(/_/g,"/");switch(e.length%4){case 0:break;case 2:e+="==";break;case 3:e+="=";break;default:throw new Error("base64 string is not of the correct length")}try{return EA(e)}catch{return atob(e)}}function r1(n,e){if(typeof n!="string")throw new Mo("Invalid token specified: must be a string");e||(e={});const t=e.header===!0?0:1,r=n.split(".")[t];if(typeof r!="string")throw new Mo(`Invalid token specified: missing part #${t+1}`);let l;try{l=TA(r)}catch(o){throw new Mo(`Invalid token specified: invalid base64 for part #${t+1} (${o.message})`)}try{return JSON.parse(l)}catch(o){throw new Mo(`Invalid token specified: invalid json for part #${t+1} (${o.message})`)}}const cm=()=>localStorage.getItem("token"),kA=n=>localStorage.setItem("token",n),AA=()=>localStorage.removeItem("token"),lv=R.createContext(),wA=({children:n})=>{const[e,t]=R.useState(null),[r,l]=R.useState(!1);R.useEffect(()=>{o()},[]);const o=()=>{const d=cm();if(d)try{const h=r1(d);t(h),l(!0)}catch(h){f(),console.log(h)}},u=d=>{kA(d);const h=r1(d);t(h),l(!0)},f=()=>{AA(),t(null),l(!1)};return k.jsx(lv.Provider,{value:{user:e,isAuthenticated:r,login:u,logout:f},children:n})},fm=()=>R.useContext(lv);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OA=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),MA=n=>n.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,r)=>r?r.toUpperCase():t.toLowerCase()),i1=n=>{const e=MA(n);return e.charAt(0).toUpperCase()+e.slice(1)},sv=(...n)=>n.filter((e,t,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===t).join(" ").trim(),NA=n=>{for(const e in n)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var RA={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DA=R.forwardRef(({color:n="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:r,className:l="",children:o,iconNode:u,...f},d)=>R.createElement("svg",{ref:d,...RA,width:e,height:e,stroke:n,strokeWidth:r?Number(t)*24/Number(e):t,className:sv("lucide",l),...!o&&!NA(f)&&{"aria-hidden":"true"},...f},[...u.map(([h,m])=>R.createElement(h,m)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rr=(n,e)=>{const t=R.forwardRef(({className:r,...l},o)=>R.createElement(DA,{ref:o,iconNode:e,className:sv(`lucide-${OA(i1(n))}`,`lucide-${n}`,r),...l}));return t.displayName=i1(n),t};/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zA=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],BA=rr("chevron-down",zA);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LA=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],jA=rr("chevron-left",LA);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _A=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],PA=rr("chevron-right",_A);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HA=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],UA=rr("chevron-up",HA);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VA=[["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M14 2v2",key:"6buw04"}],["path",{d:"M16 8a1 1 0 0 1 1 1v8a4 4 0 0 1-4 4H7a4 4 0 0 1-4-4V9a1 1 0 0 1 1-1h14a4 4 0 1 1 0 8h-1",key:"pwadti"}],["path",{d:"M6 2v2",key:"colzsn"}]],yp=rr("coffee",VA);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qA=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],IA=rr("copy",qA);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FA=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],$A=rr("eye-off",FA);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KA=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],GA=rr("eye",KA);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YA=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],JA=rr("info",YA);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XA=[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]],QA=rr("log-out",XA);function ov(n,e){return function(){return n.apply(e,arguments)}}const{toString:ZA}=Object.prototype,{getPrototypeOf:dm}=Object,Ic=(n=>e=>{const t=ZA.call(e);return n[t]||(n[t]=t.slice(8,-1).toLowerCase())})(Object.create(null)),Vn=n=>(n=n.toLowerCase(),e=>Ic(e)===n),Fc=n=>e=>typeof e===n,{isArray:Ss}=Array,$o=Fc("undefined");function WA(n){return n!==null&&!$o(n)&&n.constructor!==null&&!$o(n.constructor)&&pn(n.constructor.isBuffer)&&n.constructor.isBuffer(n)}const av=Vn("ArrayBuffer");function ew(n){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(n):e=n&&n.buffer&&av(n.buffer),e}const tw=Fc("string"),pn=Fc("function"),uv=Fc("number"),$c=n=>n!==null&&typeof n=="object",nw=n=>n===!0||n===!1,Hu=n=>{if(Ic(n)!=="object")return!1;const e=dm(n);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)},rw=Vn("Date"),iw=Vn("File"),lw=Vn("Blob"),sw=Vn("FileList"),ow=n=>$c(n)&&pn(n.pipe),aw=n=>{let e;return n&&(typeof FormData=="function"&&n instanceof FormData||pn(n.append)&&((e=Ic(n))==="formdata"||e==="object"&&pn(n.toString)&&n.toString()==="[object FormData]"))},uw=Vn("URLSearchParams"),[cw,fw,dw,hw]=["ReadableStream","Request","Response","Headers"].map(Vn),pw=n=>n.trim?n.trim():n.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function la(n,e,{allOwnKeys:t=!1}={}){if(n===null||typeof n>"u")return;let r,l;if(typeof n!="object"&&(n=[n]),Ss(n))for(r=0,l=n.length;r<l;r++)e.call(null,n[r],r,n);else{const o=t?Object.getOwnPropertyNames(n):Object.keys(n),u=o.length;let f;for(r=0;r<u;r++)f=o[r],e.call(null,n[f],f,n)}}function cv(n,e){e=e.toLowerCase();const t=Object.keys(n);let r=t.length,l;for(;r-- >0;)if(l=t[r],e===l.toLowerCase())return l;return null}const Gi=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,fv=n=>!$o(n)&&n!==Gi;function bp(){const{caseless:n}=fv(this)&&this||{},e={},t=(r,l)=>{const o=n&&cv(e,l)||l;Hu(e[o])&&Hu(r)?e[o]=bp(e[o],r):Hu(r)?e[o]=bp({},r):Ss(r)?e[o]=r.slice():e[o]=r};for(let r=0,l=arguments.length;r<l;r++)arguments[r]&&la(arguments[r],t);return e}const mw=(n,e,t,{allOwnKeys:r}={})=>(la(e,(l,o)=>{t&&pn(l)?n[o]=ov(l,t):n[o]=l},{allOwnKeys:r}),n),gw=n=>(n.charCodeAt(0)===65279&&(n=n.slice(1)),n),yw=(n,e,t,r)=>{n.prototype=Object.create(e.prototype,r),n.prototype.constructor=n,Object.defineProperty(n,"super",{value:e.prototype}),t&&Object.assign(n.prototype,t)},bw=(n,e,t,r)=>{let l,o,u;const f={};if(e=e||{},n==null)return e;do{for(l=Object.getOwnPropertyNames(n),o=l.length;o-- >0;)u=l[o],(!r||r(u,n,e))&&!f[u]&&(e[u]=n[u],f[u]=!0);n=t!==!1&&dm(n)}while(n&&(!t||t(n,e))&&n!==Object.prototype);return e},Sw=(n,e,t)=>{n=String(n),(t===void 0||t>n.length)&&(t=n.length),t-=e.length;const r=n.indexOf(e,t);return r!==-1&&r===t},vw=n=>{if(!n)return null;if(Ss(n))return n;let e=n.length;if(!uv(e))return null;const t=new Array(e);for(;e-- >0;)t[e]=n[e];return t},xw=(n=>e=>n&&e instanceof n)(typeof Uint8Array<"u"&&dm(Uint8Array)),Cw=(n,e)=>{const r=(n&&n[Symbol.iterator]).call(n);let l;for(;(l=r.next())&&!l.done;){const o=l.value;e.call(n,o[0],o[1])}},Ew=(n,e)=>{let t;const r=[];for(;(t=n.exec(e))!==null;)r.push(t);return r},Tw=Vn("HTMLFormElement"),kw=n=>n.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(t,r,l){return r.toUpperCase()+l}),l1=(({hasOwnProperty:n})=>(e,t)=>n.call(e,t))(Object.prototype),Aw=Vn("RegExp"),dv=(n,e)=>{const t=Object.getOwnPropertyDescriptors(n),r={};la(t,(l,o)=>{let u;(u=e(l,o,n))!==!1&&(r[o]=u||l)}),Object.defineProperties(n,r)},ww=n=>{dv(n,(e,t)=>{if(pn(n)&&["arguments","caller","callee"].indexOf(t)!==-1)return!1;const r=n[t];if(pn(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+t+"'")})}})},Ow=(n,e)=>{const t={},r=l=>{l.forEach(o=>{t[o]=!0})};return Ss(n)?r(n):r(String(n).split(e)),t},Mw=()=>{},Nw=(n,e)=>n!=null&&Number.isFinite(n=+n)?n:e;function Rw(n){return!!(n&&pn(n.append)&&n[Symbol.toStringTag]==="FormData"&&n[Symbol.iterator])}const Dw=n=>{const e=new Array(10),t=(r,l)=>{if($c(r)){if(e.indexOf(r)>=0)return;if(!("toJSON"in r)){e[l]=r;const o=Ss(r)?[]:{};return la(r,(u,f)=>{const d=t(u,l+1);!$o(d)&&(o[f]=d)}),e[l]=void 0,o}}return r};return t(n,0)},zw=Vn("AsyncFunction"),Bw=n=>n&&($c(n)||pn(n))&&pn(n.then)&&pn(n.catch),hv=((n,e)=>n?setImmediate:e?((t,r)=>(Gi.addEventListener("message",({source:l,data:o})=>{l===Gi&&o===t&&r.length&&r.shift()()},!1),l=>{r.push(l),Gi.postMessage(t,"*")}))(`axios@${Math.random()}`,[]):t=>setTimeout(t))(typeof setImmediate=="function",pn(Gi.postMessage)),Lw=typeof queueMicrotask<"u"?queueMicrotask.bind(Gi):typeof process<"u"&&process.nextTick||hv,P={isArray:Ss,isArrayBuffer:av,isBuffer:WA,isFormData:aw,isArrayBufferView:ew,isString:tw,isNumber:uv,isBoolean:nw,isObject:$c,isPlainObject:Hu,isReadableStream:cw,isRequest:fw,isResponse:dw,isHeaders:hw,isUndefined:$o,isDate:rw,isFile:iw,isBlob:lw,isRegExp:Aw,isFunction:pn,isStream:ow,isURLSearchParams:uw,isTypedArray:xw,isFileList:sw,forEach:la,merge:bp,extend:mw,trim:pw,stripBOM:gw,inherits:yw,toFlatObject:bw,kindOf:Ic,kindOfTest:Vn,endsWith:Sw,toArray:vw,forEachEntry:Cw,matchAll:Ew,isHTMLForm:Tw,hasOwnProperty:l1,hasOwnProp:l1,reduceDescriptors:dv,freezeMethods:ww,toObjectSet:Ow,toCamelCase:kw,noop:Mw,toFiniteNumber:Nw,findKey:cv,global:Gi,isContextDefined:fv,isSpecCompliantForm:Rw,toJSONObject:Dw,isAsyncFn:zw,isThenable:Bw,setImmediate:hv,asap:Lw};function pe(n,e,t,r,l){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=n,this.name="AxiosError",e&&(this.code=e),t&&(this.config=t),r&&(this.request=r),l&&(this.response=l,this.status=l.status?l.status:null)}P.inherits(pe,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:P.toJSONObject(this.config),code:this.code,status:this.status}}});const pv=pe.prototype,mv={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(n=>{mv[n]={value:n}});Object.defineProperties(pe,mv);Object.defineProperty(pv,"isAxiosError",{value:!0});pe.from=(n,e,t,r,l,o)=>{const u=Object.create(pv);return P.toFlatObject(n,u,function(d){return d!==Error.prototype},f=>f!=="isAxiosError"),pe.call(u,n.message,e,t,r,l),u.cause=n,u.name=n.name,o&&Object.assign(u,o),u};const jw=null;function Sp(n){return P.isPlainObject(n)||P.isArray(n)}function gv(n){return P.endsWith(n,"[]")?n.slice(0,-2):n}function s1(n,e,t){return n?n.concat(e).map(function(l,o){return l=gv(l),!t&&o?"["+l+"]":l}).join(t?".":""):e}function _w(n){return P.isArray(n)&&!n.some(Sp)}const Pw=P.toFlatObject(P,{},null,function(e){return/^is[A-Z]/.test(e)});function Kc(n,e,t){if(!P.isObject(n))throw new TypeError("target must be an object");e=e||new FormData,t=P.toFlatObject(t,{metaTokens:!0,dots:!1,indexes:!1},!1,function(T,C){return!P.isUndefined(C[T])});const r=t.metaTokens,l=t.visitor||m,o=t.dots,u=t.indexes,d=(t.Blob||typeof Blob<"u"&&Blob)&&P.isSpecCompliantForm(e);if(!P.isFunction(l))throw new TypeError("visitor must be a function");function h(S){if(S===null)return"";if(P.isDate(S))return S.toISOString();if(!d&&P.isBlob(S))throw new pe("Blob is not supported. Use a Buffer instead.");return P.isArrayBuffer(S)||P.isTypedArray(S)?d&&typeof Blob=="function"?new Blob([S]):Buffer.from(S):S}function m(S,T,C){let A=S;if(S&&!C&&typeof S=="object"){if(P.endsWith(T,"{}"))T=r?T:T.slice(0,-2),S=JSON.stringify(S);else if(P.isArray(S)&&_w(S)||(P.isFileList(S)||P.endsWith(T,"[]"))&&(A=P.toArray(S)))return T=gv(T),A.forEach(function(_,G){!(P.isUndefined(_)||_===null)&&e.append(u===!0?s1([T],G,o):u===null?T:T+"[]",h(_))}),!1}return Sp(S)?!0:(e.append(s1(C,T,o),h(S)),!1)}const y=[],b=Object.assign(Pw,{defaultVisitor:m,convertValue:h,isVisitable:Sp});function v(S,T){if(!P.isUndefined(S)){if(y.indexOf(S)!==-1)throw Error("Circular reference detected in "+T.join("."));y.push(S),P.forEach(S,function(A,O){(!(P.isUndefined(A)||A===null)&&l.call(e,A,P.isString(O)?O.trim():O,T,b))===!0&&v(A,T?T.concat(O):[O])}),y.pop()}}if(!P.isObject(n))throw new TypeError("data must be an object");return v(n),e}function o1(n){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(n).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function hm(n,e){this._pairs=[],n&&Kc(n,this,e)}const yv=hm.prototype;yv.append=function(e,t){this._pairs.push([e,t])};yv.toString=function(e){const t=e?function(r){return e.call(this,r,o1)}:o1;return this._pairs.map(function(l){return t(l[0])+"="+t(l[1])},"").join("&")};function Hw(n){return encodeURIComponent(n).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function bv(n,e,t){if(!e)return n;const r=t&&t.encode||Hw;P.isFunction(t)&&(t={serialize:t});const l=t&&t.serialize;let o;if(l?o=l(e,t):o=P.isURLSearchParams(e)?e.toString():new hm(e,t).toString(r),o){const u=n.indexOf("#");u!==-1&&(n=n.slice(0,u)),n+=(n.indexOf("?")===-1?"?":"&")+o}return n}class a1{constructor(){this.handlers=[]}use(e,t,r){return this.handlers.push({fulfilled:e,rejected:t,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){P.forEach(this.handlers,function(r){r!==null&&e(r)})}}const Sv={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Uw=typeof URLSearchParams<"u"?URLSearchParams:hm,Vw=typeof FormData<"u"?FormData:null,qw=typeof Blob<"u"?Blob:null,Iw={isBrowser:!0,classes:{URLSearchParams:Uw,FormData:Vw,Blob:qw},protocols:["http","https","file","blob","url","data"]},pm=typeof window<"u"&&typeof document<"u",vp=typeof navigator=="object"&&navigator||void 0,Fw=pm&&(!vp||["ReactNative","NativeScript","NS"].indexOf(vp.product)<0),$w=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",Kw=pm&&window.location.href||"http://localhost",Gw=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:pm,hasStandardBrowserEnv:Fw,hasStandardBrowserWebWorkerEnv:$w,navigator:vp,origin:Kw},Symbol.toStringTag,{value:"Module"})),Nt={...Gw,...Iw};function Yw(n,e){return Kc(n,new Nt.classes.URLSearchParams,Object.assign({visitor:function(t,r,l,o){return Nt.isNode&&P.isBuffer(t)?(this.append(r,t.toString("base64")),!1):o.defaultVisitor.apply(this,arguments)}},e))}function Jw(n){return P.matchAll(/\w+|\[(\w*)]/g,n).map(e=>e[0]==="[]"?"":e[1]||e[0])}function Xw(n){const e={},t=Object.keys(n);let r;const l=t.length;let o;for(r=0;r<l;r++)o=t[r],e[o]=n[o];return e}function vv(n){function e(t,r,l,o){let u=t[o++];if(u==="__proto__")return!0;const f=Number.isFinite(+u),d=o>=t.length;return u=!u&&P.isArray(l)?l.length:u,d?(P.hasOwnProp(l,u)?l[u]=[l[u],r]:l[u]=r,!f):((!l[u]||!P.isObject(l[u]))&&(l[u]=[]),e(t,r,l[u],o)&&P.isArray(l[u])&&(l[u]=Xw(l[u])),!f)}if(P.isFormData(n)&&P.isFunction(n.entries)){const t={};return P.forEachEntry(n,(r,l)=>{e(Jw(r),l,t,0)}),t}return null}function Qw(n,e,t){if(P.isString(n))try{return(e||JSON.parse)(n),P.trim(n)}catch(r){if(r.name!=="SyntaxError")throw r}return(t||JSON.stringify)(n)}const sa={transitional:Sv,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const r=t.getContentType()||"",l=r.indexOf("application/json")>-1,o=P.isObject(e);if(o&&P.isHTMLForm(e)&&(e=new FormData(e)),P.isFormData(e))return l?JSON.stringify(vv(e)):e;if(P.isArrayBuffer(e)||P.isBuffer(e)||P.isStream(e)||P.isFile(e)||P.isBlob(e)||P.isReadableStream(e))return e;if(P.isArrayBufferView(e))return e.buffer;if(P.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let f;if(o){if(r.indexOf("application/x-www-form-urlencoded")>-1)return Yw(e,this.formSerializer).toString();if((f=P.isFileList(e))||r.indexOf("multipart/form-data")>-1){const d=this.env&&this.env.FormData;return Kc(f?{"files[]":e}:e,d&&new d,this.formSerializer)}}return o||l?(t.setContentType("application/json",!1),Qw(e)):e}],transformResponse:[function(e){const t=this.transitional||sa.transitional,r=t&&t.forcedJSONParsing,l=this.responseType==="json";if(P.isResponse(e)||P.isReadableStream(e))return e;if(e&&P.isString(e)&&(r&&!this.responseType||l)){const u=!(t&&t.silentJSONParsing)&&l;try{return JSON.parse(e)}catch(f){if(u)throw f.name==="SyntaxError"?pe.from(f,pe.ERR_BAD_RESPONSE,this,null,this.response):f}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Nt.classes.FormData,Blob:Nt.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};P.forEach(["delete","get","head","post","put","patch"],n=>{sa.headers[n]={}});const Zw=P.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Ww=n=>{const e={};let t,r,l;return n&&n.split(`
`).forEach(function(u){l=u.indexOf(":"),t=u.substring(0,l).trim().toLowerCase(),r=u.substring(l+1).trim(),!(!t||e[t]&&Zw[t])&&(t==="set-cookie"?e[t]?e[t].push(r):e[t]=[r]:e[t]=e[t]?e[t]+", "+r:r)}),e},u1=Symbol("internals");function Ao(n){return n&&String(n).trim().toLowerCase()}function Uu(n){return n===!1||n==null?n:P.isArray(n)?n.map(Uu):String(n)}function eO(n){const e=Object.create(null),t=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=t.exec(n);)e[r[1]]=r[2];return e}const tO=n=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(n.trim());function _h(n,e,t,r,l){if(P.isFunction(r))return r.call(this,e,t);if(l&&(e=t),!!P.isString(e)){if(P.isString(r))return e.indexOf(r)!==-1;if(P.isRegExp(r))return r.test(e)}}function nO(n){return n.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,t,r)=>t.toUpperCase()+r)}function rO(n,e){const t=P.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(n,r+t,{value:function(l,o,u){return this[r].call(this,e,l,o,u)},configurable:!0})})}let Wt=class{constructor(e){e&&this.set(e)}set(e,t,r){const l=this;function o(f,d,h){const m=Ao(d);if(!m)throw new Error("header name must be a non-empty string");const y=P.findKey(l,m);(!y||l[y]===void 0||h===!0||h===void 0&&l[y]!==!1)&&(l[y||d]=Uu(f))}const u=(f,d)=>P.forEach(f,(h,m)=>o(h,m,d));if(P.isPlainObject(e)||e instanceof this.constructor)u(e,t);else if(P.isString(e)&&(e=e.trim())&&!tO(e))u(Ww(e),t);else if(P.isHeaders(e))for(const[f,d]of e.entries())o(d,f,r);else e!=null&&o(t,e,r);return this}get(e,t){if(e=Ao(e),e){const r=P.findKey(this,e);if(r){const l=this[r];if(!t)return l;if(t===!0)return eO(l);if(P.isFunction(t))return t.call(this,l,r);if(P.isRegExp(t))return t.exec(l);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=Ao(e),e){const r=P.findKey(this,e);return!!(r&&this[r]!==void 0&&(!t||_h(this,this[r],r,t)))}return!1}delete(e,t){const r=this;let l=!1;function o(u){if(u=Ao(u),u){const f=P.findKey(r,u);f&&(!t||_h(r,r[f],f,t))&&(delete r[f],l=!0)}}return P.isArray(e)?e.forEach(o):o(e),l}clear(e){const t=Object.keys(this);let r=t.length,l=!1;for(;r--;){const o=t[r];(!e||_h(this,this[o],o,e,!0))&&(delete this[o],l=!0)}return l}normalize(e){const t=this,r={};return P.forEach(this,(l,o)=>{const u=P.findKey(r,o);if(u){t[u]=Uu(l),delete t[o];return}const f=e?nO(o):String(o).trim();f!==o&&delete t[o],t[f]=Uu(l),r[f]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const t=Object.create(null);return P.forEach(this,(r,l)=>{r!=null&&r!==!1&&(t[l]=e&&P.isArray(r)?r.join(", "):r)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,t])=>e+": "+t).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...t){const r=new this(e);return t.forEach(l=>r.set(l)),r}static accessor(e){const r=(this[u1]=this[u1]={accessors:{}}).accessors,l=this.prototype;function o(u){const f=Ao(u);r[f]||(rO(l,u),r[f]=!0)}return P.isArray(e)?e.forEach(o):o(e),this}};Wt.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);P.reduceDescriptors(Wt.prototype,({value:n},e)=>{let t=e[0].toUpperCase()+e.slice(1);return{get:()=>n,set(r){this[t]=r}}});P.freezeMethods(Wt);function Ph(n,e){const t=this||sa,r=e||t,l=Wt.from(r.headers);let o=r.data;return P.forEach(n,function(f){o=f.call(t,o,l.normalize(),e?e.status:void 0)}),l.normalize(),o}function xv(n){return!!(n&&n.__CANCEL__)}function vs(n,e,t){pe.call(this,n??"canceled",pe.ERR_CANCELED,e,t),this.name="CanceledError"}P.inherits(vs,pe,{__CANCEL__:!0});function Cv(n,e,t){const r=t.config.validateStatus;!t.status||!r||r(t.status)?n(t):e(new pe("Request failed with status code "+t.status,[pe.ERR_BAD_REQUEST,pe.ERR_BAD_RESPONSE][Math.floor(t.status/100)-4],t.config,t.request,t))}function iO(n){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(n);return e&&e[1]||""}function lO(n,e){n=n||10;const t=new Array(n),r=new Array(n);let l=0,o=0,u;return e=e!==void 0?e:1e3,function(d){const h=Date.now(),m=r[o];u||(u=h),t[l]=d,r[l]=h;let y=o,b=0;for(;y!==l;)b+=t[y++],y=y%n;if(l=(l+1)%n,l===o&&(o=(o+1)%n),h-u<e)return;const v=m&&h-m;return v?Math.round(b*1e3/v):void 0}}function sO(n,e){let t=0,r=1e3/e,l,o;const u=(h,m=Date.now())=>{t=m,l=null,o&&(clearTimeout(o),o=null),n.apply(null,h)};return[(...h)=>{const m=Date.now(),y=m-t;y>=r?u(h,m):(l=h,o||(o=setTimeout(()=>{o=null,u(l)},r-y)))},()=>l&&u(l)]}const Xu=(n,e,t=3)=>{let r=0;const l=lO(50,250);return sO(o=>{const u=o.loaded,f=o.lengthComputable?o.total:void 0,d=u-r,h=l(d),m=u<=f;r=u;const y={loaded:u,total:f,progress:f?u/f:void 0,bytes:d,rate:h||void 0,estimated:h&&f&&m?(f-u)/h:void 0,event:o,lengthComputable:f!=null,[e?"download":"upload"]:!0};n(y)},t)},c1=(n,e)=>{const t=n!=null;return[r=>e[0]({lengthComputable:t,total:n,loaded:r}),e[1]]},f1=n=>(...e)=>P.asap(()=>n(...e)),oO=Nt.hasStandardBrowserEnv?((n,e)=>t=>(t=new URL(t,Nt.origin),n.protocol===t.protocol&&n.host===t.host&&(e||n.port===t.port)))(new URL(Nt.origin),Nt.navigator&&/(msie|trident)/i.test(Nt.navigator.userAgent)):()=>!0,aO=Nt.hasStandardBrowserEnv?{write(n,e,t,r,l,o){const u=[n+"="+encodeURIComponent(e)];P.isNumber(t)&&u.push("expires="+new Date(t).toGMTString()),P.isString(r)&&u.push("path="+r),P.isString(l)&&u.push("domain="+l),o===!0&&u.push("secure"),document.cookie=u.join("; ")},read(n){const e=document.cookie.match(new RegExp("(^|;\\s*)("+n+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(n){this.write(n,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function uO(n){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(n)}function cO(n,e){return e?n.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):n}function Ev(n,e,t){let r=!uO(e);return n&&(r||t==!1)?cO(n,e):e}const d1=n=>n instanceof Wt?{...n}:n;function ll(n,e){e=e||{};const t={};function r(h,m,y,b){return P.isPlainObject(h)&&P.isPlainObject(m)?P.merge.call({caseless:b},h,m):P.isPlainObject(m)?P.merge({},m):P.isArray(m)?m.slice():m}function l(h,m,y,b){if(P.isUndefined(m)){if(!P.isUndefined(h))return r(void 0,h,y,b)}else return r(h,m,y,b)}function o(h,m){if(!P.isUndefined(m))return r(void 0,m)}function u(h,m){if(P.isUndefined(m)){if(!P.isUndefined(h))return r(void 0,h)}else return r(void 0,m)}function f(h,m,y){if(y in e)return r(h,m);if(y in n)return r(void 0,h)}const d={url:o,method:o,data:o,baseURL:u,transformRequest:u,transformResponse:u,paramsSerializer:u,timeout:u,timeoutMessage:u,withCredentials:u,withXSRFToken:u,adapter:u,responseType:u,xsrfCookieName:u,xsrfHeaderName:u,onUploadProgress:u,onDownloadProgress:u,decompress:u,maxContentLength:u,maxBodyLength:u,beforeRedirect:u,transport:u,httpAgent:u,httpsAgent:u,cancelToken:u,socketPath:u,responseEncoding:u,validateStatus:f,headers:(h,m,y)=>l(d1(h),d1(m),y,!0)};return P.forEach(Object.keys(Object.assign({},n,e)),function(m){const y=d[m]||l,b=y(n[m],e[m],m);P.isUndefined(b)&&y!==f||(t[m]=b)}),t}const Tv=n=>{const e=ll({},n);let{data:t,withXSRFToken:r,xsrfHeaderName:l,xsrfCookieName:o,headers:u,auth:f}=e;e.headers=u=Wt.from(u),e.url=bv(Ev(e.baseURL,e.url,e.allowAbsoluteUrls),n.params,n.paramsSerializer),f&&u.set("Authorization","Basic "+btoa((f.username||"")+":"+(f.password?unescape(encodeURIComponent(f.password)):"")));let d;if(P.isFormData(t)){if(Nt.hasStandardBrowserEnv||Nt.hasStandardBrowserWebWorkerEnv)u.setContentType(void 0);else if((d=u.getContentType())!==!1){const[h,...m]=d?d.split(";").map(y=>y.trim()).filter(Boolean):[];u.setContentType([h||"multipart/form-data",...m].join("; "))}}if(Nt.hasStandardBrowserEnv&&(r&&P.isFunction(r)&&(r=r(e)),r||r!==!1&&oO(e.url))){const h=l&&o&&aO.read(o);h&&u.set(l,h)}return e},fO=typeof XMLHttpRequest<"u",dO=fO&&function(n){return new Promise(function(t,r){const l=Tv(n);let o=l.data;const u=Wt.from(l.headers).normalize();let{responseType:f,onUploadProgress:d,onDownloadProgress:h}=l,m,y,b,v,S;function T(){v&&v(),S&&S(),l.cancelToken&&l.cancelToken.unsubscribe(m),l.signal&&l.signal.removeEventListener("abort",m)}let C=new XMLHttpRequest;C.open(l.method.toUpperCase(),l.url,!0),C.timeout=l.timeout;function A(){if(!C)return;const _=Wt.from("getAllResponseHeaders"in C&&C.getAllResponseHeaders()),q={data:!f||f==="text"||f==="json"?C.responseText:C.response,status:C.status,statusText:C.statusText,headers:_,config:n,request:C};Cv(function(re){t(re),T()},function(re){r(re),T()},q),C=null}"onloadend"in C?C.onloadend=A:C.onreadystatechange=function(){!C||C.readyState!==4||C.status===0&&!(C.responseURL&&C.responseURL.indexOf("file:")===0)||setTimeout(A)},C.onabort=function(){C&&(r(new pe("Request aborted",pe.ECONNABORTED,n,C)),C=null)},C.onerror=function(){r(new pe("Network Error",pe.ERR_NETWORK,n,C)),C=null},C.ontimeout=function(){let G=l.timeout?"timeout of "+l.timeout+"ms exceeded":"timeout exceeded";const q=l.transitional||Sv;l.timeoutErrorMessage&&(G=l.timeoutErrorMessage),r(new pe(G,q.clarifyTimeoutError?pe.ETIMEDOUT:pe.ECONNABORTED,n,C)),C=null},o===void 0&&u.setContentType(null),"setRequestHeader"in C&&P.forEach(u.toJSON(),function(G,q){C.setRequestHeader(q,G)}),P.isUndefined(l.withCredentials)||(C.withCredentials=!!l.withCredentials),f&&f!=="json"&&(C.responseType=l.responseType),h&&([b,S]=Xu(h,!0),C.addEventListener("progress",b)),d&&C.upload&&([y,v]=Xu(d),C.upload.addEventListener("progress",y),C.upload.addEventListener("loadend",v)),(l.cancelToken||l.signal)&&(m=_=>{C&&(r(!_||_.type?new vs(null,n,C):_),C.abort(),C=null)},l.cancelToken&&l.cancelToken.subscribe(m),l.signal&&(l.signal.aborted?m():l.signal.addEventListener("abort",m)));const O=iO(l.url);if(O&&Nt.protocols.indexOf(O)===-1){r(new pe("Unsupported protocol "+O+":",pe.ERR_BAD_REQUEST,n));return}C.send(o||null)})},hO=(n,e)=>{const{length:t}=n=n?n.filter(Boolean):[];if(e||t){let r=new AbortController,l;const o=function(h){if(!l){l=!0,f();const m=h instanceof Error?h:this.reason;r.abort(m instanceof pe?m:new vs(m instanceof Error?m.message:m))}};let u=e&&setTimeout(()=>{u=null,o(new pe(`timeout ${e} of ms exceeded`,pe.ETIMEDOUT))},e);const f=()=>{n&&(u&&clearTimeout(u),u=null,n.forEach(h=>{h.unsubscribe?h.unsubscribe(o):h.removeEventListener("abort",o)}),n=null)};n.forEach(h=>h.addEventListener("abort",o));const{signal:d}=r;return d.unsubscribe=()=>P.asap(f),d}},pO=function*(n,e){let t=n.byteLength;if(t<e){yield n;return}let r=0,l;for(;r<t;)l=r+e,yield n.slice(r,l),r=l},mO=async function*(n,e){for await(const t of gO(n))yield*pO(t,e)},gO=async function*(n){if(n[Symbol.asyncIterator]){yield*n;return}const e=n.getReader();try{for(;;){const{done:t,value:r}=await e.read();if(t)break;yield r}}finally{await e.cancel()}},h1=(n,e,t,r)=>{const l=mO(n,e);let o=0,u,f=d=>{u||(u=!0,r&&r(d))};return new ReadableStream({async pull(d){try{const{done:h,value:m}=await l.next();if(h){f(),d.close();return}let y=m.byteLength;if(t){let b=o+=y;t(b)}d.enqueue(new Uint8Array(m))}catch(h){throw f(h),h}},cancel(d){return f(d),l.return()}},{highWaterMark:2})},Gc=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",kv=Gc&&typeof ReadableStream=="function",yO=Gc&&(typeof TextEncoder=="function"?(n=>e=>n.encode(e))(new TextEncoder):async n=>new Uint8Array(await new Response(n).arrayBuffer())),Av=(n,...e)=>{try{return!!n(...e)}catch{return!1}},bO=kv&&Av(()=>{let n=!1;const e=new Request(Nt.origin,{body:new ReadableStream,method:"POST",get duplex(){return n=!0,"half"}}).headers.has("Content-Type");return n&&!e}),p1=64*1024,xp=kv&&Av(()=>P.isReadableStream(new Response("").body)),Qu={stream:xp&&(n=>n.body)};Gc&&(n=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!Qu[e]&&(Qu[e]=P.isFunction(n[e])?t=>t[e]():(t,r)=>{throw new pe(`Response type '${e}' is not supported`,pe.ERR_NOT_SUPPORT,r)})})})(new Response);const SO=async n=>{if(n==null)return 0;if(P.isBlob(n))return n.size;if(P.isSpecCompliantForm(n))return(await new Request(Nt.origin,{method:"POST",body:n}).arrayBuffer()).byteLength;if(P.isArrayBufferView(n)||P.isArrayBuffer(n))return n.byteLength;if(P.isURLSearchParams(n)&&(n=n+""),P.isString(n))return(await yO(n)).byteLength},vO=async(n,e)=>{const t=P.toFiniteNumber(n.getContentLength());return t??SO(e)},xO=Gc&&(async n=>{let{url:e,method:t,data:r,signal:l,cancelToken:o,timeout:u,onDownloadProgress:f,onUploadProgress:d,responseType:h,headers:m,withCredentials:y="same-origin",fetchOptions:b}=Tv(n);h=h?(h+"").toLowerCase():"text";let v=hO([l,o&&o.toAbortSignal()],u),S;const T=v&&v.unsubscribe&&(()=>{v.unsubscribe()});let C;try{if(d&&bO&&t!=="get"&&t!=="head"&&(C=await vO(m,r))!==0){let q=new Request(e,{method:"POST",body:r,duplex:"half"}),J;if(P.isFormData(r)&&(J=q.headers.get("content-type"))&&m.setContentType(J),q.body){const[re,ce]=c1(C,Xu(f1(d)));r=h1(q.body,p1,re,ce)}}P.isString(y)||(y=y?"include":"omit");const A="credentials"in Request.prototype;S=new Request(e,{...b,signal:v,method:t.toUpperCase(),headers:m.normalize().toJSON(),body:r,duplex:"half",credentials:A?y:void 0});let O=await fetch(S);const _=xp&&(h==="stream"||h==="response");if(xp&&(f||_&&T)){const q={};["status","statusText","headers"].forEach(W=>{q[W]=O[W]});const J=P.toFiniteNumber(O.headers.get("content-length")),[re,ce]=f&&c1(J,Xu(f1(f),!0))||[];O=new Response(h1(O.body,p1,re,()=>{ce&&ce(),T&&T()}),q)}h=h||"text";let G=await Qu[P.findKey(Qu,h)||"text"](O,n);return!_&&T&&T(),await new Promise((q,J)=>{Cv(q,J,{data:G,headers:Wt.from(O.headers),status:O.status,statusText:O.statusText,config:n,request:S})})}catch(A){throw T&&T(),A&&A.name==="TypeError"&&/fetch/i.test(A.message)?Object.assign(new pe("Network Error",pe.ERR_NETWORK,n,S),{cause:A.cause||A}):pe.from(A,A&&A.code,n,S)}}),Cp={http:jw,xhr:dO,fetch:xO};P.forEach(Cp,(n,e)=>{if(n){try{Object.defineProperty(n,"name",{value:e})}catch{}Object.defineProperty(n,"adapterName",{value:e})}});const m1=n=>`- ${n}`,CO=n=>P.isFunction(n)||n===null||n===!1,wv={getAdapter:n=>{n=P.isArray(n)?n:[n];const{length:e}=n;let t,r;const l={};for(let o=0;o<e;o++){t=n[o];let u;if(r=t,!CO(t)&&(r=Cp[(u=String(t)).toLowerCase()],r===void 0))throw new pe(`Unknown adapter '${u}'`);if(r)break;l[u||"#"+o]=r}if(!r){const o=Object.entries(l).map(([f,d])=>`adapter ${f} `+(d===!1?"is not supported by the environment":"is not available in the build"));let u=e?o.length>1?`since :
`+o.map(m1).join(`
`):" "+m1(o[0]):"as no adapter specified";throw new pe("There is no suitable adapter to dispatch the request "+u,"ERR_NOT_SUPPORT")}return r},adapters:Cp};function Hh(n){if(n.cancelToken&&n.cancelToken.throwIfRequested(),n.signal&&n.signal.aborted)throw new vs(null,n)}function g1(n){return Hh(n),n.headers=Wt.from(n.headers),n.data=Ph.call(n,n.transformRequest),["post","put","patch"].indexOf(n.method)!==-1&&n.headers.setContentType("application/x-www-form-urlencoded",!1),wv.getAdapter(n.adapter||sa.adapter)(n).then(function(r){return Hh(n),r.data=Ph.call(n,n.transformResponse,r),r.headers=Wt.from(r.headers),r},function(r){return xv(r)||(Hh(n),r&&r.response&&(r.response.data=Ph.call(n,n.transformResponse,r.response),r.response.headers=Wt.from(r.response.headers))),Promise.reject(r)})}const Ov="1.8.4",Yc={};["object","boolean","number","function","string","symbol"].forEach((n,e)=>{Yc[n]=function(r){return typeof r===n||"a"+(e<1?"n ":" ")+n}});const y1={};Yc.transitional=function(e,t,r){function l(o,u){return"[Axios v"+Ov+"] Transitional option '"+o+"'"+u+(r?". "+r:"")}return(o,u,f)=>{if(e===!1)throw new pe(l(u," has been removed"+(t?" in "+t:"")),pe.ERR_DEPRECATED);return t&&!y1[u]&&(y1[u]=!0,console.warn(l(u," has been deprecated since v"+t+" and will be removed in the near future"))),e?e(o,u,f):!0}};Yc.spelling=function(e){return(t,r)=>(console.warn(`${r} is likely a misspelling of ${e}`),!0)};function EO(n,e,t){if(typeof n!="object")throw new pe("options must be an object",pe.ERR_BAD_OPTION_VALUE);const r=Object.keys(n);let l=r.length;for(;l-- >0;){const o=r[l],u=e[o];if(u){const f=n[o],d=f===void 0||u(f,o,n);if(d!==!0)throw new pe("option "+o+" must be "+d,pe.ERR_BAD_OPTION_VALUE);continue}if(t!==!0)throw new pe("Unknown option "+o,pe.ERR_BAD_OPTION)}}const Vu={assertOptions:EO,validators:Yc},Jn=Vu.validators;let Wi=class{constructor(e){this.defaults=e,this.interceptors={request:new a1,response:new a1}}async request(e,t){try{return await this._request(e,t)}catch(r){if(r instanceof Error){let l={};Error.captureStackTrace?Error.captureStackTrace(l):l=new Error;const o=l.stack?l.stack.replace(/^.+\n/,""):"";try{r.stack?o&&!String(r.stack).endsWith(o.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+o):r.stack=o}catch{}}throw r}}_request(e,t){typeof e=="string"?(t=t||{},t.url=e):t=e||{},t=ll(this.defaults,t);const{transitional:r,paramsSerializer:l,headers:o}=t;r!==void 0&&Vu.assertOptions(r,{silentJSONParsing:Jn.transitional(Jn.boolean),forcedJSONParsing:Jn.transitional(Jn.boolean),clarifyTimeoutError:Jn.transitional(Jn.boolean)},!1),l!=null&&(P.isFunction(l)?t.paramsSerializer={serialize:l}:Vu.assertOptions(l,{encode:Jn.function,serialize:Jn.function},!0)),t.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?t.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:t.allowAbsoluteUrls=!0),Vu.assertOptions(t,{baseUrl:Jn.spelling("baseURL"),withXsrfToken:Jn.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let u=o&&P.merge(o.common,o[t.method]);o&&P.forEach(["delete","get","head","post","put","patch","common"],S=>{delete o[S]}),t.headers=Wt.concat(u,o);const f=[];let d=!0;this.interceptors.request.forEach(function(T){typeof T.runWhen=="function"&&T.runWhen(t)===!1||(d=d&&T.synchronous,f.unshift(T.fulfilled,T.rejected))});const h=[];this.interceptors.response.forEach(function(T){h.push(T.fulfilled,T.rejected)});let m,y=0,b;if(!d){const S=[g1.bind(this),void 0];for(S.unshift.apply(S,f),S.push.apply(S,h),b=S.length,m=Promise.resolve(t);y<b;)m=m.then(S[y++],S[y++]);return m}b=f.length;let v=t;for(y=0;y<b;){const S=f[y++],T=f[y++];try{v=S(v)}catch(C){T.call(this,C);break}}try{m=g1.call(this,v)}catch(S){return Promise.reject(S)}for(y=0,b=h.length;y<b;)m=m.then(h[y++],h[y++]);return m}getUri(e){e=ll(this.defaults,e);const t=Ev(e.baseURL,e.url,e.allowAbsoluteUrls);return bv(t,e.params,e.paramsSerializer)}};P.forEach(["delete","get","head","options"],function(e){Wi.prototype[e]=function(t,r){return this.request(ll(r||{},{method:e,url:t,data:(r||{}).data}))}});P.forEach(["post","put","patch"],function(e){function t(r){return function(o,u,f){return this.request(ll(f||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:o,data:u}))}}Wi.prototype[e]=t(),Wi.prototype[e+"Form"]=t(!0)});let TO=class Mv{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let t;this.promise=new Promise(function(o){t=o});const r=this;this.promise.then(l=>{if(!r._listeners)return;let o=r._listeners.length;for(;o-- >0;)r._listeners[o](l);r._listeners=null}),this.promise.then=l=>{let o;const u=new Promise(f=>{r.subscribe(f),o=f}).then(l);return u.cancel=function(){r.unsubscribe(o)},u},e(function(o,u,f){r.reason||(r.reason=new vs(o,u,f),t(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);t!==-1&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=r=>{e.abort(r)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;return{token:new Mv(function(l){e=l}),cancel:e}}};function kO(n){return function(t){return n.apply(null,t)}}function AO(n){return P.isObject(n)&&n.isAxiosError===!0}const Ep={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Ep).forEach(([n,e])=>{Ep[e]=n});function Nv(n){const e=new Wi(n),t=ov(Wi.prototype.request,e);return P.extend(t,Wi.prototype,e,{allOwnKeys:!0}),P.extend(t,e,null,{allOwnKeys:!0}),t.create=function(l){return Nv(ll(n,l))},t}const Ie=Nv(sa);Ie.Axios=Wi;Ie.CanceledError=vs;Ie.CancelToken=TO;Ie.isCancel=xv;Ie.VERSION=Ov;Ie.toFormData=Kc;Ie.AxiosError=pe;Ie.Cancel=Ie.CanceledError;Ie.all=function(e){return Promise.all(e)};Ie.spread=kO;Ie.isAxiosError=AO;Ie.mergeConfig=ll;Ie.AxiosHeaders=Wt;Ie.formToJSON=n=>vv(P.isHTMLForm(n)?new FormData(n):n);Ie.getAdapter=wv.getAdapter;Ie.HttpStatusCode=Ep;Ie.default=Ie;const{Axios:vz,AxiosError:xz,CanceledError:Cz,isCancel:Ez,CancelToken:Tz,VERSION:kz,all:Az,Cancel:wz,isAxiosError:Oz,spread:Mz,toFormData:Nz,AxiosHeaders:Rz,HttpStatusCode:Dz,formToJSON:zz,getAdapter:Bz,mergeConfig:Lz}=Ie;let wO={data:""},OO=n=>typeof window=="object"?((n?n.querySelector("#_goober"):window._goober)||Object.assign((n||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:n||wO,MO=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,NO=/\/\*[^]*?\*\/|  +/g,b1=/\n+/g,ai=(n,e)=>{let t="",r="",l="";for(let o in n){let u=n[o];o[0]=="@"?o[1]=="i"?t=o+" "+u+";":r+=o[1]=="f"?ai(u,o):o+"{"+ai(u,o[1]=="k"?"":e)+"}":typeof u=="object"?r+=ai(u,e?e.replace(/([^,])+/g,f=>o.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,d=>/&/.test(d)?d.replace(/&/g,f):f?f+" "+d:d)):o):u!=null&&(o=/^--/.test(o)?o:o.replace(/[A-Z]/g,"-$&").toLowerCase(),l+=ai.p?ai.p(o,u):o+":"+u+";")}return t+(e&&l?e+"{"+l+"}":l)+r},Sr={},Rv=n=>{if(typeof n=="object"){let e="";for(let t in n)e+=t+Rv(n[t]);return e}return n},RO=(n,e,t,r,l)=>{let o=Rv(n),u=Sr[o]||(Sr[o]=(d=>{let h=0,m=11;for(;h<d.length;)m=101*m+d.charCodeAt(h++)>>>0;return"go"+m})(o));if(!Sr[u]){let d=o!==n?n:(h=>{let m,y,b=[{}];for(;m=MO.exec(h.replace(NO,""));)m[4]?b.shift():m[3]?(y=m[3].replace(b1," ").trim(),b.unshift(b[0][y]=b[0][y]||{})):b[0][m[1]]=m[2].replace(b1," ").trim();return b[0]})(n);Sr[u]=ai(l?{["@keyframes "+u]:d}:d,t?"":"."+u)}let f=t&&Sr.g?Sr.g:null;return t&&(Sr.g=Sr[u]),((d,h,m,y)=>{y?h.data=h.data.replace(y,d):h.data.indexOf(d)===-1&&(h.data=m?d+h.data:h.data+d)})(Sr[u],e,r,f),u},DO=(n,e,t)=>n.reduce((r,l,o)=>{let u=e[o];if(u&&u.call){let f=u(t),d=f&&f.props&&f.props.className||/^go/.test(f)&&f;u=d?"."+d:f&&typeof f=="object"?f.props?"":ai(f,""):f===!1?"":f}return r+l+(u??"")},"");function Jc(n){let e=this||{},t=n.call?n(e.p):n;return RO(t.unshift?t.raw?DO(t,[].slice.call(arguments,1),e.p):t.reduce((r,l)=>Object.assign(r,l&&l.call?l(e.p):l),{}):t,OO(e.target),e.g,e.o,e.k)}let Dv,Tp,kp;Jc.bind({g:1});let Rr=Jc.bind({k:1});function zO(n,e,t,r){ai.p=e,Dv=n,Tp=t,kp=r}function xi(n,e){let t=this||{};return function(){let r=arguments;function l(o,u){let f=Object.assign({},o),d=f.className||l.className;t.p=Object.assign({theme:Tp&&Tp()},f),t.o=/ *go\d+/.test(d),f.className=Jc.apply(t,r)+(d?" "+d:"");let h=n;return n[0]&&(h=f.as||n,delete f.as),kp&&h[0]&&kp(f),Dv(h,f)}return l}}var BO=n=>typeof n=="function",Zu=(n,e)=>BO(n)?n(e):n,LO=(()=>{let n=0;return()=>(++n).toString()})(),zv=(()=>{let n;return()=>{if(n===void 0&&typeof window<"u"){let e=matchMedia("(prefers-reduced-motion: reduce)");n=!e||e.matches}return n}})(),jO=20,Bv=(n,e)=>{switch(e.type){case 0:return{...n,toasts:[e.toast,...n.toasts].slice(0,jO)};case 1:return{...n,toasts:n.toasts.map(o=>o.id===e.toast.id?{...o,...e.toast}:o)};case 2:let{toast:t}=e;return Bv(n,{type:n.toasts.find(o=>o.id===t.id)?1:0,toast:t});case 3:let{toastId:r}=e;return{...n,toasts:n.toasts.map(o=>o.id===r||r===void 0?{...o,dismissed:!0,visible:!1}:o)};case 4:return e.toastId===void 0?{...n,toasts:[]}:{...n,toasts:n.toasts.filter(o=>o.id!==e.toastId)};case 5:return{...n,pausedAt:e.time};case 6:let l=e.time-(n.pausedAt||0);return{...n,pausedAt:void 0,toasts:n.toasts.map(o=>({...o,pauseDuration:o.pauseDuration+l}))}}},qu=[],Yi={toasts:[],pausedAt:void 0},fl=n=>{Yi=Bv(Yi,n),qu.forEach(e=>{e(Yi)})},_O={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},PO=(n={})=>{let[e,t]=R.useState(Yi),r=R.useRef(Yi);R.useEffect(()=>(r.current!==Yi&&t(Yi),qu.push(t),()=>{let o=qu.indexOf(t);o>-1&&qu.splice(o,1)}),[]);let l=e.toasts.map(o=>{var u,f,d;return{...n,...n[o.type],...o,removeDelay:o.removeDelay||((u=n[o.type])==null?void 0:u.removeDelay)||(n==null?void 0:n.removeDelay),duration:o.duration||((f=n[o.type])==null?void 0:f.duration)||(n==null?void 0:n.duration)||_O[o.type],style:{...n.style,...(d=n[o.type])==null?void 0:d.style,...o.style}}});return{...e,toasts:l}},HO=(n,e="blank",t)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:e,ariaProps:{role:"status","aria-live":"polite"},message:n,pauseDuration:0,...t,id:(t==null?void 0:t.id)||LO()}),oa=n=>(e,t)=>{let r=HO(e,n,t);return fl({type:2,toast:r}),r.id},qt=(n,e)=>oa("blank")(n,e);qt.error=oa("error");qt.success=oa("success");qt.loading=oa("loading");qt.custom=oa("custom");qt.dismiss=n=>{fl({type:3,toastId:n})};qt.remove=n=>fl({type:4,toastId:n});qt.promise=(n,e,t)=>{let r=qt.loading(e.loading,{...t,...t==null?void 0:t.loading});return typeof n=="function"&&(n=n()),n.then(l=>{let o=e.success?Zu(e.success,l):void 0;return o?qt.success(o,{id:r,...t,...t==null?void 0:t.success}):qt.dismiss(r),l}).catch(l=>{let o=e.error?Zu(e.error,l):void 0;o?qt.error(o,{id:r,...t,...t==null?void 0:t.error}):qt.dismiss(r)}),n};var UO=(n,e)=>{fl({type:1,toast:{id:n,height:e}})},VO=()=>{fl({type:5,time:Date.now()})},Bo=new Map,qO=1e3,IO=(n,e=qO)=>{if(Bo.has(n))return;let t=setTimeout(()=>{Bo.delete(n),fl({type:4,toastId:n})},e);Bo.set(n,t)},FO=n=>{let{toasts:e,pausedAt:t}=PO(n);R.useEffect(()=>{if(t)return;let o=Date.now(),u=e.map(f=>{if(f.duration===1/0)return;let d=(f.duration||0)+f.pauseDuration-(o-f.createdAt);if(d<0){f.visible&&qt.dismiss(f.id);return}return setTimeout(()=>qt.dismiss(f.id),d)});return()=>{u.forEach(f=>f&&clearTimeout(f))}},[e,t]);let r=R.useCallback(()=>{t&&fl({type:6,time:Date.now()})},[t]),l=R.useCallback((o,u)=>{let{reverseOrder:f=!1,gutter:d=8,defaultPosition:h}=u||{},m=e.filter(v=>(v.position||h)===(o.position||h)&&v.height),y=m.findIndex(v=>v.id===o.id),b=m.filter((v,S)=>S<y&&v.visible).length;return m.filter(v=>v.visible).slice(...f?[b+1]:[0,b]).reduce((v,S)=>v+(S.height||0)+d,0)},[e]);return R.useEffect(()=>{e.forEach(o=>{if(o.dismissed)IO(o.id,o.removeDelay);else{let u=Bo.get(o.id);u&&(clearTimeout(u),Bo.delete(o.id))}})},[e]),{toasts:e,handlers:{updateHeight:UO,startPause:VO,endPause:r,calculateOffset:l}}},$O=Rr`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,KO=Rr`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,GO=Rr`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,YO=xi("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${n=>n.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${$O} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${KO} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${n=>n.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${GO} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,JO=Rr`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,XO=xi("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${n=>n.secondary||"#e0e0e0"};
  border-right-color: ${n=>n.primary||"#616161"};
  animation: ${JO} 1s linear infinite;
`,QO=Rr`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,ZO=Rr`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,WO=xi("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${n=>n.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${QO} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${ZO} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${n=>n.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,eM=xi("div")`
  position: absolute;
`,tM=xi("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,nM=Rr`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,rM=xi("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${nM} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,iM=({toast:n})=>{let{icon:e,type:t,iconTheme:r}=n;return e!==void 0?typeof e=="string"?R.createElement(rM,null,e):e:t==="blank"?null:R.createElement(tM,null,R.createElement(XO,{...r}),t!=="loading"&&R.createElement(eM,null,t==="error"?R.createElement(YO,{...r}):R.createElement(WO,{...r})))},lM=n=>`
0% {transform: translate3d(0,${n*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,sM=n=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${n*-150}%,-1px) scale(.6); opacity:0;}
`,oM="0%{opacity:0;} 100%{opacity:1;}",aM="0%{opacity:1;} 100%{opacity:0;}",uM=xi("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,cM=xi("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,fM=(n,e)=>{let t=n.includes("top")?1:-1,[r,l]=zv()?[oM,aM]:[lM(t),sM(t)];return{animation:e?`${Rr(r)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${Rr(l)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},dM=R.memo(({toast:n,position:e,style:t,children:r})=>{let l=n.height?fM(n.position||e||"top-center",n.visible):{opacity:0},o=R.createElement(iM,{toast:n}),u=R.createElement(cM,{...n.ariaProps},Zu(n.message,n));return R.createElement(uM,{className:n.className,style:{...l,...t,...n.style}},typeof r=="function"?r({icon:o,message:u}):R.createElement(R.Fragment,null,o,u))});zO(R.createElement);var hM=({id:n,className:e,style:t,onHeightUpdate:r,children:l})=>{let o=R.useCallback(u=>{if(u){let f=()=>{let d=u.getBoundingClientRect().height;r(n,d)};f(),new MutationObserver(f).observe(u,{subtree:!0,childList:!0,characterData:!0})}},[n,r]);return R.createElement("div",{ref:o,className:e,style:t},l)},pM=(n,e)=>{let t=n.includes("top"),r=t?{top:0}:{bottom:0},l=n.includes("center")?{justifyContent:"center"}:n.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:zv()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${e*(t?1:-1)}px)`,...r,...l}},mM=Jc`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,ku=16,mm=({reverseOrder:n,position:e="top-center",toastOptions:t,gutter:r,children:l,containerStyle:o,containerClassName:u})=>{let{toasts:f,handlers:d}=FO(t);return R.createElement("div",{id:"_rht_toaster",style:{position:"fixed",zIndex:9999,top:ku,left:ku,right:ku,bottom:ku,pointerEvents:"none",...o},className:u,onMouseEnter:d.startPause,onMouseLeave:d.endPause},f.map(h=>{let m=h.position||e,y=d.calculateOffset(h,{reverseOrder:n,gutter:r,defaultPosition:e}),b=pM(m,y);return R.createElement(hM,{id:h.id,key:h.id,onHeightUpdate:d.updateHeight,className:h.visible?mM:"",style:b},h.type==="custom"?Zu(h.message,h):l?l(h):R.createElement(dM,{toast:h,position:m}))}))},kr=qt;const ne={primary:"#1E90FF",background:"#FFFFFF",text:"#111111",lightGray:"#E5E7EB",lineColor:"#D1E3FF",border:"#b3b3b3"};function gM(){const n=Vc(),{isAuthenticated:e,user:t,login:r}=fm(),l="http://localhost:3000",[o,u]=R.useState(!1),[f,d]=R.useState(""),[h,m]=R.useState(""),[y,b]=R.useState(null);if(e)return k.jsx(om,{to:"/dashboard"});const v=()=>{u(!o)},S=async T=>{var C,A,O;T.preventDefault();try{const _=await Ie.post(`${l}/api/v1/login`,{email:f,password:h},{withCredentials:!0});kr.success((C=_==null?void 0:_.data)==null?void 0:C.message),(_==null?void 0:_.status)==200&&_.data.data.token&&(r(_.data.data.token),n("/dashboard"))}catch(_){kr.error((O=(A=_==null?void 0:_.response)==null?void 0:A.data)==null?void 0:O.message),console.log(_)}};return k.jsxs(k.Fragment,{children:[k.jsx(mm,{}),k.jsx("div",{className:"min-h-screen flex items-center justify-center",style:{backgroundColor:"#F9FBFD"},children:k.jsxs("div",{className:"max-w-md w-full p-8 rounded-xl shadow-md",style:{backgroundColor:ne.background},children:[k.jsxs("div",{className:"text-center mb-8",children:[k.jsx("div",{className:"flex justify-center mb-3",children:k.jsx(yp,{style:{color:ne.primary},className:"h-10 w-10"})}),k.jsx("h1",{className:"text-2xl font-medium",style:{color:ne.text},children:"Online Virtual Coffee"}),k.jsx("p",{className:"mt-2",style:{color:ne.primary},children:"Sign in to your account"})]}),k.jsxs("form",{onSubmit:S,className:"space-y-5",children:[k.jsxs("div",{children:[k.jsx("label",{htmlFor:"email",className:"block text-sm font-medium mb-1",style:{color:ne.text},children:"Email Address"}),k.jsx("input",{id:"email",type:"email",value:f,onChange:T=>d(T.target.value),onFocus:()=>b("email"),onBlur:()=>b(null),className:"w-full px-4 py-2 rounded-lg outline-none transition-all duration-200",style:{backgroundColor:ne.background,border:`1px solid ${y==="email"?ne.primary:ne.lightGray}`,color:ne.text,boxShadow:y==="email"?"0 0 0 2px rgba(30, 144, 255, 0.1)":"none"},placeholder:"your@email.com",required:!0})]}),k.jsxs("div",{children:[k.jsx("label",{htmlFor:"password",className:"block text-sm font-medium mb-1",style:{color:ne.text},children:"Password"}),k.jsxs("div",{className:"relative",children:[k.jsx("input",{id:"password",type:o?"text":"password",value:h,onChange:T=>m(T.target.value),onFocus:()=>b("password"),onBlur:()=>b(null),className:"w-full px-4 py-2 rounded-lg outline-none transition-all duration-200",style:{backgroundColor:ne.background,border:`1px solid ${y==="password"?ne.primary:ne.lightGray}`,color:ne.text,boxShadow:y==="password"?"0 0 0 2px rgba(30, 144, 255, 0.1)":"none"},placeholder:"",required:!0}),k.jsxs("button",{type:"button",onClick:v,className:"absolute inset-y-0 right-0 pr-3 flex items-center hover:opacity-80",style:{color:ne.primary},children:[o?k.jsx($A,{className:"h-5 w-5","aria-hidden":"true"}):k.jsx(GA,{className:"h-5 w-5","aria-hidden":"true"}),k.jsx("span",{className:"sr-only",children:o?"Hide password":"Show password"})]})]})]}),k.jsx("div",{className:"flex justify-end",children:k.jsx("a",{href:"#",className:"text-sm hover:underline",style:{color:ne.primary},children:"Forgot your password?"})}),k.jsx("div",{children:k.jsx("button",{type:"submit",className:"w-full font-medium py-2 px-4 rounded-lg transition duration-200 ease-in-out hover:bg-opacity-90 active:scale-[0.98] cursor-pointer",style:{backgroundColor:ne.primary,color:"white"},children:"Sign In"})}),k.jsx("div",{className:"text-center mt-4",children:k.jsxs("p",{style:{color:ne.text},children:["Don't have an account?"," ",k.jsx("a",{href:"#",className:"hover:underline font-medium",style:{color:ne.primary},children:"Sign up"})]})})]}),k.jsx("div",{className:"mt-8 pt-6 flex justify-center",style:{borderTop:`1px solid ${ne.lightGray}`},children:k.jsxs("div",{className:"text-sm flex items-center",style:{color:"#9CA3AF"},children:[k.jsx(yp,{className:"h-4 w-4 mr-2",style:{color:ne.primary}}),k.jsx("span",{children:"Brew your perfect virtual coffee experience"})]})})]})})]})}const yM=()=>{const{logout:n,isAuthenticated:e,user:t}=fm(),r=async()=>{var l,o;console.log("Logging out...");try{const u=await Ie.post("http://localhost:3000/api/v1/logout",{},{withCredentials:!0});n(),console.log(e,t)}catch(u){kr.error((o=(l=u==null?void 0:u.response)==null?void 0:l.data)==null?void 0:o.message),console.log(u)}};return k.jsxs("div",{children:[k.jsx(mm,{}),k.jsxs("button",{onClick:r,className:"flex items-center font-medium py-2 px-4 rounded-lg transition duration-400 ease-in-out active:scale-[0.98] cursor-pointer",style:{backgroundColor:ne.primary,color:"white"},children:[k.jsx(QA,{color:"#FFFFFF",className:"h-5 w-4 mr-2 text-white text-oppacity-100"}),"Logout"]})]})},Ot=n=>{const e={backgroundColor:ne.inputBg,border:`1px solid ${ne.border}`,color:ne.text};return k.jsx(k.Fragment,{children:k.jsxs("div",{children:[k.jsx("label",{htmlFor:n.data.id,className:"block text-sm font-medium mb-1",style:{color:ne.text},children:n.data.label}),k.jsx("input",{disabled:!n.data.isCustom,id:n.data.id,name:n.data.id,type:n.data.type,value:n.data.value,onChange:n.data.onChangeFunction,className:"w-full px-4 py-2 rounded-lg outline-none transition-all duration-200",style:e,placeholder:n.data.placeholder})]})})};function dn({title:n,children:e,isOpenByDefault:t=!0,onChange:r,name:l}){return k.jsxs("div",{className:`overflow-hidden mb-2 transition-all duration-300  ${t?"border-t border-black py-5":""}`,style:{opacity:t?1:.3},children:[k.jsxs("button",{type:"button",onClick:()=>r(null,l),value:t,className:"w-full flex items-center justify-between p-4 text-left relative cursor-pointer opacity-80 hover:bg-gray-300 hover:!bg-grey-300",children:[k.jsx("div",{style:{width:"24px"}}),k.jsx("h3",{className:"font-bold text-xl absolute left-1/2 transform -translate-x-1/2 text-center pointer-events-none",style:{color:ne.text},children:n}),k.jsx("div",{className:"p-1 rounded-full",style:{backgroundColor:t?ne.primary+"20":"transparent",color:ne.primary},children:t?k.jsx(UA,{size:18}):k.jsx(BA,{size:18})})]}),k.jsx("div",{className:"overflow-hidden transition-all duration-300 p-0",style:{maxHeight:t?"1000px":"0px",opacity:t?1:0,padding:t?"10px":"0px"},children:e})]})}const Ht=({label:n,checked:e,onChange:t,name:r})=>k.jsx("div",{children:k.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer",children:[k.jsx("input",{name:r,type:"checkbox",checked:e,onChange:t,className:"w-4 h-4 text-blue-600 border-gray-300 rounded"}),k.jsx("span",{children:n})]})}),Ut=n=>{var t,r;const e={backgroundColor:ne.inputBg,border:`1px solid ${ne.border}`,color:ne.text};return k.jsx(k.Fragment,{children:k.jsxs("div",{children:[k.jsx("label",{htmlFor:n.data.id,className:"block text-sm font-medium mb-1",style:{color:ne.text},children:n.data.label}),k.jsxs("select",{id:n.data.id,name:n.data.id,value:n.data.value,onChange:n.data.onChangeFunction,className:"w-full px-4 py-2 rounded-lg outline-none transition-all duration-200 appearance-none",style:{...e,backgroundImage:`url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 24 24' stroke='%231E90FF'%3E%3Cpath strokeLinecap='round' strokeLinejoin='round' strokeWidth='2' d='M19 9l-7 7-7-7'%3E%3C/path%3E%3C/svg%3E")`,backgroundRepeat:"no-repeat",backgroundPosition:"right 1rem center",backgroundSize:"1rem",paddingRight:"2.5rem"},children:[k.jsx("option",{value:"",children:n.data.placeholder}),(r=(t=n.data)==null?void 0:t.dataOption)==null?void 0:r.map(l=>k.jsx("option",{value:l.label,children:l.label},l.label))]})]})})},jn=n=>{const e={backgroundColor:ne.inputBg,border:`1px solid ${ne.border}`,color:ne.text};return k.jsx(k.Fragment,{children:k.jsxs("div",{children:[k.jsx("label",{htmlFor:n.data.id,className:"block text-sm font-medium mb-1",style:{color:ne.text},children:n.data.label}),k.jsx("input",{disabled:!0,id:n.data.id,name:n.data.id,type:n.data.type,value:n.data.value,onChange:n.data.onChangeFunction,className:"w-full px-4 py-2 rounded-lg outline-none transition-all duration-200",style:e,placeholder:n.data.placeholder})]})})},ni=({label:n,checked:e,onChange:t,name:r,classes:l})=>k.jsx("div",{className:`mt-7 justify-items-center ${l}`,children:k.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer",children:[k.jsx("input",{name:r,type:"checkbox",checked:e,onChange:t,className:"w-4 h-4 text-blue-600 border-gray-300 rounded"}),k.jsx("span",{children:n})]})}),S1=n=>{const e={backgroundColor:ne.inputBg,border:`1px solid ${ne.border}`,color:ne.text};return k.jsx(k.Fragment,{children:k.jsxs("div",{children:[k.jsx("label",{htmlFor:n.data.id,className:"block text-sm font-medium mb-1",style:{color:ne.text},children:n.data.label}),k.jsx("textarea",{id:n.data.id,name:n.data.id,rows:n.data.rows,cols:n.data.cols,value:n.data.value,onChange:n.data.onChangeFunction,className:"w-full px-4 py-2 rounded-lg outline-none transition-all duration-200",style:e,placeholder:n.data.placeholder})]})})},Au=n=>{const e={backgroundColor:ne.inputBg,border:`1px solid ${ne.border}`,color:ne.text};return k.jsx(k.Fragment,{children:k.jsxs("div",{className:`${n.data.classes}`,children:[k.jsx("label",{htmlFor:n.data.id,className:"block text-sm font-medium mb-1",style:{color:ne.text},children:n.data.label}),k.jsx("input",{id:n.data.id,name:n.data.id,type:n.data.type,value:n.data.value,onChange:n.data.onChangeFunction,className:"w-full px-4 py-2 rounded-lg outline-none transition-all duration-200",style:e,placeholder:n.data.placeholder})]})})},bM=[{isSection:"accountingSection",isCustom:"isCustomSalesPrice",defaultPrice:"salesPrice",customPrice:"customSalesPrice"},{isSection:"bookkeepingSection",isCustom:"isCustomBookkeepingPrice",defaultPrice:"transactionsPrice",customPrice:"customBookkeepingPrice"},{isSection:"VATSection",isCustom:"isCustomVATPrice",defaultPrice:"totalVATPrice",customPrice:"customVATPrice"},{isSection:"AssetSection",isCustom:"isCustomAssetPrice",defaultPrice:"assetsPrice",customPrice:"customAssetPrice"},{isSection:"payrollSection",isCustom:"isCustomPayrollPrice",defaultPrice:"payrollPrice",customPrice:"customPayrollPrice"},{isSection:"pensionSection",isCustom:"isCustomPensionPrice",defaultPrice:"pensionPrice",customPrice:"customPensionPrice"},{isSection:"CISSection",isCustom:"isCustomCISPrice",defaultPrice:"totalCISPrice",customPrice:"customCISPrice"},{isSection:"multiCurrencySection",isCustom:"isCustomCurrencyPrice",defaultPrice:"currencyPrice",customPrice:"customCurrencyPrice"},{isSection:"custom1Section",isCustom:"custom1Section",defaultPrice:"custom1Price",customPrice:"custom1Price"},{isSection:"custom2Section",isCustom:"custom2Section",defaultPrice:"custom2Price",customPrice:"custom2Price"}],SM=({id:n,data:e,onChangeFunction:t,industry:r,setRiskData:l})=>{const o=["Low","Medium","High"],u=(h,m)=>{console.log(e),l(y=>{const b=y.riskScoreData||{};return{...y,riskScoreData:{transactional:h==="transactional"?m:b.transactional||"",geographical:h==="geographical"?m:b.geographical||"",industry:h==="industry"?m:b.industry||"",client:h==="client"?m:b.client||""}}})},f=(h,m)=>e[h]===m,d=[{key:"transactional",label:"Transactional Risk (Cash)",values:["Under 5%","5% - 25%","Above 25%"]},{key:"geographical",label:"Geographical Risk",values:["Only UK","Europe, UAE, Canada, US, Scandinavia, Australia and similar countries","Other (High Risk)"]},{key:"industry",label:"Industry Risk",values:["Other Businesses","Car washes, Convenient Stores, Restaurants, Barber shops and similar businesses","Oil, Arms, Precious metals, Tobacco products, Cultural artefacts, Ivory"]},{key:"client",label:"Client Risk",values:["Standard Structure","Holdings Company","Complex Operations"]}];return k.jsxs(k.Fragment,{children:[k.jsx("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-5",children:k.jsx(Ot,{data:r})}),k.jsxs("table",{className:"w-full mt-5 border border-collapse text-center cursor-pointer",children:[k.jsx("thead",{className:"border border-collapse bg-gray-100",children:k.jsxs("tr",{children:[k.jsx("th",{className:"w-1/5",children:"Risk Level"}),k.jsx("th",{children:"Low"}),k.jsx("th",{children:"Medium"}),k.jsx("th",{children:"High"})]})}),k.jsx("tbody",{children:d.map(h=>k.jsxs("tr",{className:"border",children:[k.jsx("td",{className:"border px-2 py-3",children:h.label}),h.values.map((m,y)=>k.jsx("td",{className:`border px-2 py-3  ${f(h.key,m)?"bg-blue-400 text-white font-semibold":"hover:bg-gray-200"}`,onClick:()=>u(h.key,m),children:m},y))]},h.key))})]}),k.jsxs("div",{className:"flex gap-5 mt-5 items-center",children:[k.jsx("div",{children:k.jsx("label",{htmlFor:n,id:n,className:"text-sm font-medium mb-1",style:{color:ne.text},children:"Select Risk Type"})}),o.map(h=>k.jsx("div",{className:"place-items-stretch",children:k.jsx("button",{type:"button",name:"riskType",id:n,value:h,onClick:t,className:`
              w-full py-2 px-4 border border-black font-medium rounded
              ${n===h?"bg-blue-400 text-white":"bg-white text-black  hover:bg-blue-300"}
             
            `,children:h},h)})),k.jsx("div",{})]})]})};function vt(n){this.content=n}vt.prototype={constructor:vt,find:function(n){for(var e=0;e<this.content.length;e+=2)if(this.content[e]===n)return e;return-1},get:function(n){var e=this.find(n);return e==-1?void 0:this.content[e+1]},update:function(n,e,t){var r=t&&t!=n?this.remove(t):this,l=r.find(n),o=r.content.slice();return l==-1?o.push(t||n,e):(o[l+1]=e,t&&(o[l]=t)),new vt(o)},remove:function(n){var e=this.find(n);if(e==-1)return this;var t=this.content.slice();return t.splice(e,2),new vt(t)},addToStart:function(n,e){return new vt([n,e].concat(this.remove(n).content))},addToEnd:function(n,e){var t=this.remove(n).content.slice();return t.push(n,e),new vt(t)},addBefore:function(n,e,t){var r=this.remove(e),l=r.content.slice(),o=r.find(n);return l.splice(o==-1?l.length:o,0,e,t),new vt(l)},forEach:function(n){for(var e=0;e<this.content.length;e+=2)n(this.content[e],this.content[e+1])},prepend:function(n){return n=vt.from(n),n.size?new vt(n.content.concat(this.subtract(n).content)):this},append:function(n){return n=vt.from(n),n.size?new vt(this.subtract(n).content.concat(n.content)):this},subtract:function(n){var e=this;n=vt.from(n);for(var t=0;t<n.content.length;t+=2)e=e.remove(n.content[t]);return e},toObject:function(){var n={};return this.forEach(function(e,t){n[e]=t}),n},get size(){return this.content.length>>1}};vt.from=function(n){if(n instanceof vt)return n;var e=[];if(n)for(var t in n)e.push(t,n[t]);return new vt(e)};function Lv(n,e,t){for(let r=0;;r++){if(r==n.childCount||r==e.childCount)return n.childCount==e.childCount?null:t;let l=n.child(r),o=e.child(r);if(l==o){t+=l.nodeSize;continue}if(!l.sameMarkup(o))return t;if(l.isText&&l.text!=o.text){for(let u=0;l.text[u]==o.text[u];u++)t++;return t}if(l.content.size||o.content.size){let u=Lv(l.content,o.content,t+1);if(u!=null)return u}t+=l.nodeSize}}function jv(n,e,t,r){for(let l=n.childCount,o=e.childCount;;){if(l==0||o==0)return l==o?null:{a:t,b:r};let u=n.child(--l),f=e.child(--o),d=u.nodeSize;if(u==f){t-=d,r-=d;continue}if(!u.sameMarkup(f))return{a:t,b:r};if(u.isText&&u.text!=f.text){let h=0,m=Math.min(u.text.length,f.text.length);for(;h<m&&u.text[u.text.length-h-1]==f.text[f.text.length-h-1];)h++,t--,r--;return{a:t,b:r}}if(u.content.size||f.content.size){let h=jv(u.content,f.content,t-1,r-1);if(h)return h}t-=d,r-=d}}class ${constructor(e,t){if(this.content=e,this.size=t||0,t==null)for(let r=0;r<e.length;r++)this.size+=e[r].nodeSize}nodesBetween(e,t,r,l=0,o){for(let u=0,f=0;f<t;u++){let d=this.content[u],h=f+d.nodeSize;if(h>e&&r(d,l+f,o||null,u)!==!1&&d.content.size){let m=f+1;d.nodesBetween(Math.max(0,e-m),Math.min(d.content.size,t-m),r,l+m)}f=h}}descendants(e){this.nodesBetween(0,this.size,e)}textBetween(e,t,r,l){let o="",u=!0;return this.nodesBetween(e,t,(f,d)=>{let h=f.isText?f.text.slice(Math.max(e,d)-d,t-d):f.isLeaf?l?typeof l=="function"?l(f):l:f.type.spec.leafText?f.type.spec.leafText(f):"":"";f.isBlock&&(f.isLeaf&&h||f.isTextblock)&&r&&(u?u=!1:o+=r),o+=h},0),o}append(e){if(!e.size)return this;if(!this.size)return e;let t=this.lastChild,r=e.firstChild,l=this.content.slice(),o=0;for(t.isText&&t.sameMarkup(r)&&(l[l.length-1]=t.withText(t.text+r.text),o=1);o<e.content.length;o++)l.push(e.content[o]);return new $(l,this.size+e.size)}cut(e,t=this.size){if(e==0&&t==this.size)return this;let r=[],l=0;if(t>e)for(let o=0,u=0;u<t;o++){let f=this.content[o],d=u+f.nodeSize;d>e&&((u<e||d>t)&&(f.isText?f=f.cut(Math.max(0,e-u),Math.min(f.text.length,t-u)):f=f.cut(Math.max(0,e-u-1),Math.min(f.content.size,t-u-1))),r.push(f),l+=f.nodeSize),u=d}return new $(r,l)}cutByIndex(e,t){return e==t?$.empty:e==0&&t==this.content.length?this:new $(this.content.slice(e,t))}replaceChild(e,t){let r=this.content[e];if(r==t)return this;let l=this.content.slice(),o=this.size+t.nodeSize-r.nodeSize;return l[e]=t,new $(l,o)}addToStart(e){return new $([e].concat(this.content),this.size+e.nodeSize)}addToEnd(e){return new $(this.content.concat(e),this.size+e.nodeSize)}eq(e){if(this.content.length!=e.content.length)return!1;for(let t=0;t<this.content.length;t++)if(!this.content[t].eq(e.content[t]))return!1;return!0}get firstChild(){return this.content.length?this.content[0]:null}get lastChild(){return this.content.length?this.content[this.content.length-1]:null}get childCount(){return this.content.length}child(e){let t=this.content[e];if(!t)throw new RangeError("Index "+e+" out of range for "+this);return t}maybeChild(e){return this.content[e]||null}forEach(e){for(let t=0,r=0;t<this.content.length;t++){let l=this.content[t];e(l,r,t),r+=l.nodeSize}}findDiffStart(e,t=0){return Lv(this,e,t)}findDiffEnd(e,t=this.size,r=e.size){return jv(this,e,t,r)}findIndex(e,t=-1){if(e==0)return wu(0,e);if(e==this.size)return wu(this.content.length,e);if(e>this.size||e<0)throw new RangeError(`Position ${e} outside of fragment (${this})`);for(let r=0,l=0;;r++){let o=this.child(r),u=l+o.nodeSize;if(u>=e)return u==e||t>0?wu(r+1,u):wu(r,l);l=u}}toString(){return"<"+this.toStringInner()+">"}toStringInner(){return this.content.join(", ")}toJSON(){return this.content.length?this.content.map(e=>e.toJSON()):null}static fromJSON(e,t){if(!t)return $.empty;if(!Array.isArray(t))throw new RangeError("Invalid input for Fragment.fromJSON");return new $(t.map(e.nodeFromJSON))}static fromArray(e){if(!e.length)return $.empty;let t,r=0;for(let l=0;l<e.length;l++){let o=e[l];r+=o.nodeSize,l&&o.isText&&e[l-1].sameMarkup(o)?(t||(t=e.slice(0,l)),t[t.length-1]=o.withText(t[t.length-1].text+o.text)):t&&t.push(o)}return new $(t||e,r)}static from(e){if(!e)return $.empty;if(e instanceof $)return e;if(Array.isArray(e))return this.fromArray(e);if(e.attrs)return new $([e],e.nodeSize);throw new RangeError("Can not convert "+e+" to a Fragment"+(e.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))}}$.empty=new $([],0);const Uh={index:0,offset:0};function wu(n,e){return Uh.index=n,Uh.offset=e,Uh}function Wu(n,e){if(n===e)return!0;if(!(n&&typeof n=="object")||!(e&&typeof e=="object"))return!1;let t=Array.isArray(n);if(Array.isArray(e)!=t)return!1;if(t){if(n.length!=e.length)return!1;for(let r=0;r<n.length;r++)if(!Wu(n[r],e[r]))return!1}else{for(let r in n)if(!(r in e)||!Wu(n[r],e[r]))return!1;for(let r in e)if(!(r in n))return!1}return!0}let He=class Ap{constructor(e,t){this.type=e,this.attrs=t}addToSet(e){let t,r=!1;for(let l=0;l<e.length;l++){let o=e[l];if(this.eq(o))return e;if(this.type.excludes(o.type))t||(t=e.slice(0,l));else{if(o.type.excludes(this.type))return e;!r&&o.type.rank>this.type.rank&&(t||(t=e.slice(0,l)),t.push(this),r=!0),t&&t.push(o)}}return t||(t=e.slice()),r||t.push(this),t}removeFromSet(e){for(let t=0;t<e.length;t++)if(this.eq(e[t]))return e.slice(0,t).concat(e.slice(t+1));return e}isInSet(e){for(let t=0;t<e.length;t++)if(this.eq(e[t]))return!0;return!1}eq(e){return this==e||this.type==e.type&&Wu(this.attrs,e.attrs)}toJSON(){let e={type:this.type.name};for(let t in this.attrs){e.attrs=this.attrs;break}return e}static fromJSON(e,t){if(!t)throw new RangeError("Invalid input for Mark.fromJSON");let r=e.marks[t.type];if(!r)throw new RangeError(`There is no mark type ${t.type} in this schema`);let l=r.create(t.attrs);return r.checkAttrs(l.attrs),l}static sameSet(e,t){if(e==t)return!0;if(e.length!=t.length)return!1;for(let r=0;r<e.length;r++)if(!e[r].eq(t[r]))return!1;return!0}static setFrom(e){if(!e||Array.isArray(e)&&e.length==0)return Ap.none;if(e instanceof Ap)return[e];let t=e.slice();return t.sort((r,l)=>r.type.rank-l.type.rank),t}};He.none=[];class ec extends Error{}class Q{constructor(e,t,r){this.content=e,this.openStart=t,this.openEnd=r}get size(){return this.content.size-this.openStart-this.openEnd}insertAt(e,t){let r=Pv(this.content,e+this.openStart,t);return r&&new Q(r,this.openStart,this.openEnd)}removeBetween(e,t){return new Q(_v(this.content,e+this.openStart,t+this.openStart),this.openStart,this.openEnd)}eq(e){return this.content.eq(e.content)&&this.openStart==e.openStart&&this.openEnd==e.openEnd}toString(){return this.content+"("+this.openStart+","+this.openEnd+")"}toJSON(){if(!this.content.size)return null;let e={content:this.content.toJSON()};return this.openStart>0&&(e.openStart=this.openStart),this.openEnd>0&&(e.openEnd=this.openEnd),e}static fromJSON(e,t){if(!t)return Q.empty;let r=t.openStart||0,l=t.openEnd||0;if(typeof r!="number"||typeof l!="number")throw new RangeError("Invalid input for Slice.fromJSON");return new Q($.fromJSON(e,t.content),r,l)}static maxOpen(e,t=!0){let r=0,l=0;for(let o=e.firstChild;o&&!o.isLeaf&&(t||!o.type.spec.isolating);o=o.firstChild)r++;for(let o=e.lastChild;o&&!o.isLeaf&&(t||!o.type.spec.isolating);o=o.lastChild)l++;return new Q(e,r,l)}}Q.empty=new Q($.empty,0,0);function _v(n,e,t){let{index:r,offset:l}=n.findIndex(e),o=n.maybeChild(r),{index:u,offset:f}=n.findIndex(t);if(l==e||o.isText){if(f!=t&&!n.child(u).isText)throw new RangeError("Removing non-flat range");return n.cut(0,e).append(n.cut(t))}if(r!=u)throw new RangeError("Removing non-flat range");return n.replaceChild(r,o.copy(_v(o.content,e-l-1,t-l-1)))}function Pv(n,e,t,r){let{index:l,offset:o}=n.findIndex(e),u=n.maybeChild(l);if(o==e||u.isText)return n.cut(0,e).append(t).append(n.cut(e));let f=Pv(u.content,e-o-1,t);return f&&n.replaceChild(l,u.copy(f))}function vM(n,e,t){if(t.openStart>n.depth)throw new ec("Inserted content deeper than insertion position");if(n.depth-t.openStart!=e.depth-t.openEnd)throw new ec("Inconsistent open depths");return Hv(n,e,t,0)}function Hv(n,e,t,r){let l=n.index(r),o=n.node(r);if(l==e.index(r)&&r<n.depth-t.openStart){let u=Hv(n,e,t,r+1);return o.copy(o.content.replaceChild(l,u))}else if(t.content.size)if(!t.openStart&&!t.openEnd&&n.depth==r&&e.depth==r){let u=n.parent,f=u.content;return tl(u,f.cut(0,n.parentOffset).append(t.content).append(f.cut(e.parentOffset)))}else{let{start:u,end:f}=xM(t,n);return tl(o,Vv(n,u,f,e,r))}else return tl(o,tc(n,e,r))}function Uv(n,e){if(!e.type.compatibleContent(n.type))throw new ec("Cannot join "+e.type.name+" onto "+n.type.name)}function wp(n,e,t){let r=n.node(t);return Uv(r,e.node(t)),r}function el(n,e){let t=e.length-1;t>=0&&n.isText&&n.sameMarkup(e[t])?e[t]=n.withText(e[t].text+n.text):e.push(n)}function Lo(n,e,t,r){let l=(e||n).node(t),o=0,u=e?e.index(t):l.childCount;n&&(o=n.index(t),n.depth>t?o++:n.textOffset&&(el(n.nodeAfter,r),o++));for(let f=o;f<u;f++)el(l.child(f),r);e&&e.depth==t&&e.textOffset&&el(e.nodeBefore,r)}function tl(n,e){return n.type.checkContent(e),n.copy(e)}function Vv(n,e,t,r,l){let o=n.depth>l&&wp(n,e,l+1),u=r.depth>l&&wp(t,r,l+1),f=[];return Lo(null,n,l,f),o&&u&&e.index(l)==t.index(l)?(Uv(o,u),el(tl(o,Vv(n,e,t,r,l+1)),f)):(o&&el(tl(o,tc(n,e,l+1)),f),Lo(e,t,l,f),u&&el(tl(u,tc(t,r,l+1)),f)),Lo(r,null,l,f),new $(f)}function tc(n,e,t){let r=[];if(Lo(null,n,t,r),n.depth>t){let l=wp(n,e,t+1);el(tl(l,tc(n,e,t+1)),r)}return Lo(e,null,t,r),new $(r)}function xM(n,e){let t=e.depth-n.openStart,l=e.node(t).copy(n.content);for(let o=t-1;o>=0;o--)l=e.node(o).copy($.from(l));return{start:l.resolveNoCache(n.openStart+t),end:l.resolveNoCache(l.content.size-n.openEnd-t)}}class Ko{constructor(e,t,r){this.pos=e,this.path=t,this.parentOffset=r,this.depth=t.length/3-1}resolveDepth(e){return e==null?this.depth:e<0?this.depth+e:e}get parent(){return this.node(this.depth)}get doc(){return this.node(0)}node(e){return this.path[this.resolveDepth(e)*3]}index(e){return this.path[this.resolveDepth(e)*3+1]}indexAfter(e){return e=this.resolveDepth(e),this.index(e)+(e==this.depth&&!this.textOffset?0:1)}start(e){return e=this.resolveDepth(e),e==0?0:this.path[e*3-1]+1}end(e){return e=this.resolveDepth(e),this.start(e)+this.node(e).content.size}before(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position before the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]}after(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position after the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]+this.path[e*3].nodeSize}get textOffset(){return this.pos-this.path[this.path.length-1]}get nodeAfter(){let e=this.parent,t=this.index(this.depth);if(t==e.childCount)return null;let r=this.pos-this.path[this.path.length-1],l=e.child(t);return r?e.child(t).cut(r):l}get nodeBefore(){let e=this.index(this.depth),t=this.pos-this.path[this.path.length-1];return t?this.parent.child(e).cut(0,t):e==0?null:this.parent.child(e-1)}posAtIndex(e,t){t=this.resolveDepth(t);let r=this.path[t*3],l=t==0?0:this.path[t*3-1]+1;for(let o=0;o<e;o++)l+=r.child(o).nodeSize;return l}marks(){let e=this.parent,t=this.index();if(e.content.size==0)return He.none;if(this.textOffset)return e.child(t).marks;let r=e.maybeChild(t-1),l=e.maybeChild(t);if(!r){let f=r;r=l,l=f}let o=r.marks;for(var u=0;u<o.length;u++)o[u].type.spec.inclusive===!1&&(!l||!o[u].isInSet(l.marks))&&(o=o[u--].removeFromSet(o));return o}marksAcross(e){let t=this.parent.maybeChild(this.index());if(!t||!t.isInline)return null;let r=t.marks,l=e.parent.maybeChild(e.index());for(var o=0;o<r.length;o++)r[o].type.spec.inclusive===!1&&(!l||!r[o].isInSet(l.marks))&&(r=r[o--].removeFromSet(r));return r}sharedDepth(e){for(let t=this.depth;t>0;t--)if(this.start(t)<=e&&this.end(t)>=e)return t;return 0}blockRange(e=this,t){if(e.pos<this.pos)return e.blockRange(this);for(let r=this.depth-(this.parent.inlineContent||this.pos==e.pos?1:0);r>=0;r--)if(e.pos<=this.end(r)&&(!t||t(this.node(r))))return new nc(this,e,r);return null}sameParent(e){return this.pos-this.parentOffset==e.pos-e.parentOffset}max(e){return e.pos>this.pos?e:this}min(e){return e.pos<this.pos?e:this}toString(){let e="";for(let t=1;t<=this.depth;t++)e+=(e?"/":"")+this.node(t).type.name+"_"+this.index(t-1);return e+":"+this.parentOffset}static resolve(e,t){if(!(t>=0&&t<=e.content.size))throw new RangeError("Position "+t+" out of range");let r=[],l=0,o=t;for(let u=e;;){let{index:f,offset:d}=u.content.findIndex(o),h=o-d;if(r.push(u,f,l+d),!h||(u=u.child(f),u.isText))break;o=h-1,l+=d+1}return new Ko(t,r,o)}static resolveCached(e,t){let r=v1.get(e);if(r)for(let o=0;o<r.elts.length;o++){let u=r.elts[o];if(u.pos==t)return u}else v1.set(e,r=new CM);let l=r.elts[r.i]=Ko.resolve(e,t);return r.i=(r.i+1)%EM,l}}class CM{constructor(){this.elts=[],this.i=0}}const EM=12,v1=new WeakMap;class nc{constructor(e,t,r){this.$from=e,this.$to=t,this.depth=r}get start(){return this.$from.before(this.depth+1)}get end(){return this.$to.after(this.depth+1)}get parent(){return this.$from.node(this.depth)}get startIndex(){return this.$from.index(this.depth)}get endIndex(){return this.$to.indexAfter(this.depth)}}const TM=Object.create(null);let pi=class Op{constructor(e,t,r,l=He.none){this.type=e,this.attrs=t,this.marks=l,this.content=r||$.empty}get children(){return this.content.content}get nodeSize(){return this.isLeaf?1:2+this.content.size}get childCount(){return this.content.childCount}child(e){return this.content.child(e)}maybeChild(e){return this.content.maybeChild(e)}forEach(e){this.content.forEach(e)}nodesBetween(e,t,r,l=0){this.content.nodesBetween(e,t,r,l,this)}descendants(e){this.nodesBetween(0,this.content.size,e)}get textContent(){return this.isLeaf&&this.type.spec.leafText?this.type.spec.leafText(this):this.textBetween(0,this.content.size,"")}textBetween(e,t,r,l){return this.content.textBetween(e,t,r,l)}get firstChild(){return this.content.firstChild}get lastChild(){return this.content.lastChild}eq(e){return this==e||this.sameMarkup(e)&&this.content.eq(e.content)}sameMarkup(e){return this.hasMarkup(e.type,e.attrs,e.marks)}hasMarkup(e,t,r){return this.type==e&&Wu(this.attrs,t||e.defaultAttrs||TM)&&He.sameSet(this.marks,r||He.none)}copy(e=null){return e==this.content?this:new Op(this.type,this.attrs,e,this.marks)}mark(e){return e==this.marks?this:new Op(this.type,this.attrs,this.content,e)}cut(e,t=this.content.size){return e==0&&t==this.content.size?this:this.copy(this.content.cut(e,t))}slice(e,t=this.content.size,r=!1){if(e==t)return Q.empty;let l=this.resolve(e),o=this.resolve(t),u=r?0:l.sharedDepth(t),f=l.start(u),h=l.node(u).content.cut(l.pos-f,o.pos-f);return new Q(h,l.depth-u,o.depth-u)}replace(e,t,r){return vM(this.resolve(e),this.resolve(t),r)}nodeAt(e){for(let t=this;;){let{index:r,offset:l}=t.content.findIndex(e);if(t=t.maybeChild(r),!t)return null;if(l==e||t.isText)return t;e-=l+1}}childAfter(e){let{index:t,offset:r}=this.content.findIndex(e);return{node:this.content.maybeChild(t),index:t,offset:r}}childBefore(e){if(e==0)return{node:null,index:0,offset:0};let{index:t,offset:r}=this.content.findIndex(e);if(r<e)return{node:this.content.child(t),index:t,offset:r};let l=this.content.child(t-1);return{node:l,index:t-1,offset:r-l.nodeSize}}resolve(e){return Ko.resolveCached(this,e)}resolveNoCache(e){return Ko.resolve(this,e)}rangeHasMark(e,t,r){let l=!1;return t>e&&this.nodesBetween(e,t,o=>(r.isInSet(o.marks)&&(l=!0),!l)),l}get isBlock(){return this.type.isBlock}get isTextblock(){return this.type.isTextblock}get inlineContent(){return this.type.inlineContent}get isInline(){return this.type.isInline}get isText(){return this.type.isText}get isLeaf(){return this.type.isLeaf}get isAtom(){return this.type.isAtom}toString(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);let e=this.type.name;return this.content.size&&(e+="("+this.content.toStringInner()+")"),qv(this.marks,e)}contentMatchAt(e){let t=this.type.contentMatch.matchFragment(this.content,0,e);if(!t)throw new Error("Called contentMatchAt on a node with invalid content");return t}canReplace(e,t,r=$.empty,l=0,o=r.childCount){let u=this.contentMatchAt(e).matchFragment(r,l,o),f=u&&u.matchFragment(this.content,t);if(!f||!f.validEnd)return!1;for(let d=l;d<o;d++)if(!this.type.allowsMarks(r.child(d).marks))return!1;return!0}canReplaceWith(e,t,r,l){if(l&&!this.type.allowsMarks(l))return!1;let o=this.contentMatchAt(e).matchType(r),u=o&&o.matchFragment(this.content,t);return u?u.validEnd:!1}canAppend(e){return e.content.size?this.canReplace(this.childCount,this.childCount,e.content):this.type.compatibleContent(e.type)}check(){this.type.checkContent(this.content),this.type.checkAttrs(this.attrs);let e=He.none;for(let t=0;t<this.marks.length;t++){let r=this.marks[t];r.type.checkAttrs(r.attrs),e=r.addToSet(e)}if(!He.sameSet(e,this.marks))throw new RangeError(`Invalid collection of marks for node ${this.type.name}: ${this.marks.map(t=>t.type.name)}`);this.content.forEach(t=>t.check())}toJSON(){let e={type:this.type.name};for(let t in this.attrs){e.attrs=this.attrs;break}return this.content.size&&(e.content=this.content.toJSON()),this.marks.length&&(e.marks=this.marks.map(t=>t.toJSON())),e}static fromJSON(e,t){if(!t)throw new RangeError("Invalid input for Node.fromJSON");let r;if(t.marks){if(!Array.isArray(t.marks))throw new RangeError("Invalid mark data for Node.fromJSON");r=t.marks.map(e.markFromJSON)}if(t.type=="text"){if(typeof t.text!="string")throw new RangeError("Invalid text node in JSON");return e.text(t.text,r)}let l=$.fromJSON(e,t.content),o=e.nodeType(t.type).create(t.attrs,l,r);return o.type.checkAttrs(o.attrs),o}};pi.prototype.text=void 0;class rc extends pi{constructor(e,t,r,l){if(super(e,t,null,l),!r)throw new RangeError("Empty text nodes are not allowed");this.text=r}toString(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):qv(this.marks,JSON.stringify(this.text))}get textContent(){return this.text}textBetween(e,t){return this.text.slice(e,t)}get nodeSize(){return this.text.length}mark(e){return e==this.marks?this:new rc(this.type,this.attrs,this.text,e)}withText(e){return e==this.text?this:new rc(this.type,this.attrs,e,this.marks)}cut(e=0,t=this.text.length){return e==0&&t==this.text.length?this:this.withText(this.text.slice(e,t))}eq(e){return this.sameMarkup(e)&&this.text==e.text}toJSON(){let e=super.toJSON();return e.text=this.text,e}}function qv(n,e){for(let t=n.length-1;t>=0;t--)e=n[t].type.name+"("+e+")";return e}class sl{constructor(e){this.validEnd=e,this.next=[],this.wrapCache=[]}static parse(e,t){let r=new kM(e,t);if(r.next==null)return sl.empty;let l=Iv(r);r.next&&r.err("Unexpected trailing text");let o=DM(RM(l));return zM(o,r),o}matchType(e){for(let t=0;t<this.next.length;t++)if(this.next[t].type==e)return this.next[t].next;return null}matchFragment(e,t=0,r=e.childCount){let l=this;for(let o=t;l&&o<r;o++)l=l.matchType(e.child(o).type);return l}get inlineContent(){return this.next.length!=0&&this.next[0].type.isInline}get defaultType(){for(let e=0;e<this.next.length;e++){let{type:t}=this.next[e];if(!(t.isText||t.hasRequiredAttrs()))return t}return null}compatible(e){for(let t=0;t<this.next.length;t++)for(let r=0;r<e.next.length;r++)if(this.next[t].type==e.next[r].type)return!0;return!1}fillBefore(e,t=!1,r=0){let l=[this];function o(u,f){let d=u.matchFragment(e,r);if(d&&(!t||d.validEnd))return $.from(f.map(h=>h.createAndFill()));for(let h=0;h<u.next.length;h++){let{type:m,next:y}=u.next[h];if(!(m.isText||m.hasRequiredAttrs())&&l.indexOf(y)==-1){l.push(y);let b=o(y,f.concat(m));if(b)return b}}return null}return o(this,[])}findWrapping(e){for(let r=0;r<this.wrapCache.length;r+=2)if(this.wrapCache[r]==e)return this.wrapCache[r+1];let t=this.computeWrapping(e);return this.wrapCache.push(e,t),t}computeWrapping(e){let t=Object.create(null),r=[{match:this,type:null,via:null}];for(;r.length;){let l=r.shift(),o=l.match;if(o.matchType(e)){let u=[];for(let f=l;f.type;f=f.via)u.push(f.type);return u.reverse()}for(let u=0;u<o.next.length;u++){let{type:f,next:d}=o.next[u];!f.isLeaf&&!f.hasRequiredAttrs()&&!(f.name in t)&&(!l.type||d.validEnd)&&(r.push({match:f.contentMatch,type:f,via:l}),t[f.name]=!0)}}return null}get edgeCount(){return this.next.length}edge(e){if(e>=this.next.length)throw new RangeError(`There's no ${e}th edge in this content match`);return this.next[e]}toString(){let e=[];function t(r){e.push(r);for(let l=0;l<r.next.length;l++)e.indexOf(r.next[l].next)==-1&&t(r.next[l].next)}return t(this),e.map((r,l)=>{let o=l+(r.validEnd?"*":" ")+" ";for(let u=0;u<r.next.length;u++)o+=(u?", ":"")+r.next[u].type.name+"->"+e.indexOf(r.next[u].next);return o}).join(`
`)}}sl.empty=new sl(!0);class kM{constructor(e,t){this.string=e,this.nodeTypes=t,this.inline=null,this.pos=0,this.tokens=e.split(/\s*(?=\b|\W|$)/),this.tokens[this.tokens.length-1]==""&&this.tokens.pop(),this.tokens[0]==""&&this.tokens.shift()}get next(){return this.tokens[this.pos]}eat(e){return this.next==e&&(this.pos++||!0)}err(e){throw new SyntaxError(e+" (in content expression '"+this.string+"')")}}function Iv(n){let e=[];do e.push(AM(n));while(n.eat("|"));return e.length==1?e[0]:{type:"choice",exprs:e}}function AM(n){let e=[];do e.push(wM(n));while(n.next&&n.next!=")"&&n.next!="|");return e.length==1?e[0]:{type:"seq",exprs:e}}function wM(n){let e=NM(n);for(;;)if(n.eat("+"))e={type:"plus",expr:e};else if(n.eat("*"))e={type:"star",expr:e};else if(n.eat("?"))e={type:"opt",expr:e};else if(n.eat("{"))e=OM(n,e);else break;return e}function x1(n){/\D/.test(n.next)&&n.err("Expected number, got '"+n.next+"'");let e=Number(n.next);return n.pos++,e}function OM(n,e){let t=x1(n),r=t;return n.eat(",")&&(n.next!="}"?r=x1(n):r=-1),n.eat("}")||n.err("Unclosed braced range"),{type:"range",min:t,max:r,expr:e}}function MM(n,e){let t=n.nodeTypes,r=t[e];if(r)return[r];let l=[];for(let o in t){let u=t[o];u.isInGroup(e)&&l.push(u)}return l.length==0&&n.err("No node type or group '"+e+"' found"),l}function NM(n){if(n.eat("(")){let e=Iv(n);return n.eat(")")||n.err("Missing closing paren"),e}else if(/\W/.test(n.next))n.err("Unexpected token '"+n.next+"'");else{let e=MM(n,n.next).map(t=>(n.inline==null?n.inline=t.isInline:n.inline!=t.isInline&&n.err("Mixing inline and block content"),{type:"name",value:t}));return n.pos++,e.length==1?e[0]:{type:"choice",exprs:e}}}function RM(n){let e=[[]];return l(o(n,0),t()),e;function t(){return e.push([])-1}function r(u,f,d){let h={term:d,to:f};return e[u].push(h),h}function l(u,f){u.forEach(d=>d.to=f)}function o(u,f){if(u.type=="choice")return u.exprs.reduce((d,h)=>d.concat(o(h,f)),[]);if(u.type=="seq")for(let d=0;;d++){let h=o(u.exprs[d],f);if(d==u.exprs.length-1)return h;l(h,f=t())}else if(u.type=="star"){let d=t();return r(f,d),l(o(u.expr,d),d),[r(d)]}else if(u.type=="plus"){let d=t();return l(o(u.expr,f),d),l(o(u.expr,d),d),[r(d)]}else{if(u.type=="opt")return[r(f)].concat(o(u.expr,f));if(u.type=="range"){let d=f;for(let h=0;h<u.min;h++){let m=t();l(o(u.expr,d),m),d=m}if(u.max==-1)l(o(u.expr,d),d);else for(let h=u.min;h<u.max;h++){let m=t();r(d,m),l(o(u.expr,d),m),d=m}return[r(d)]}else{if(u.type=="name")return[r(f,void 0,u.value)];throw new Error("Unknown expr type")}}}}function Fv(n,e){return e-n}function C1(n,e){let t=[];return r(e),t.sort(Fv);function r(l){let o=n[l];if(o.length==1&&!o[0].term)return r(o[0].to);t.push(l);for(let u=0;u<o.length;u++){let{term:f,to:d}=o[u];!f&&t.indexOf(d)==-1&&r(d)}}}function DM(n){let e=Object.create(null);return t(C1(n,0));function t(r){let l=[];r.forEach(u=>{n[u].forEach(({term:f,to:d})=>{if(!f)return;let h;for(let m=0;m<l.length;m++)l[m][0]==f&&(h=l[m][1]);C1(n,d).forEach(m=>{h||l.push([f,h=[]]),h.indexOf(m)==-1&&h.push(m)})})});let o=e[r.join(",")]=new sl(r.indexOf(n.length-1)>-1);for(let u=0;u<l.length;u++){let f=l[u][1].sort(Fv);o.next.push({type:l[u][0],next:e[f.join(",")]||t(f)})}return o}}function zM(n,e){for(let t=0,r=[n];t<r.length;t++){let l=r[t],o=!l.validEnd,u=[];for(let f=0;f<l.next.length;f++){let{type:d,next:h}=l.next[f];u.push(d.name),o&&!(d.isText||d.hasRequiredAttrs())&&(o=!1),r.indexOf(h)==-1&&r.push(h)}o&&e.err("Only non-generatable nodes ("+u.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}function $v(n){let e=Object.create(null);for(let t in n){let r=n[t];if(!r.hasDefault)return null;e[t]=r.default}return e}function Kv(n,e){let t=Object.create(null);for(let r in n){let l=e&&e[r];if(l===void 0){let o=n[r];if(o.hasDefault)l=o.default;else throw new RangeError("No value supplied for attribute "+r)}t[r]=l}return t}function Gv(n,e,t,r){for(let l in e)if(!(l in n))throw new RangeError(`Unsupported attribute ${l} for ${t} of type ${l}`);for(let l in n){let o=n[l];o.validate&&o.validate(e[l])}}function Yv(n,e){let t=Object.create(null);if(e)for(let r in e)t[r]=new LM(n,r,e[r]);return t}let E1=class Jv{constructor(e,t,r){this.name=e,this.schema=t,this.spec=r,this.markSet=null,this.groups=r.group?r.group.split(" "):[],this.attrs=Yv(e,r.attrs),this.defaultAttrs=$v(this.attrs),this.contentMatch=null,this.inlineContent=null,this.isBlock=!(r.inline||e=="text"),this.isText=e=="text"}get isInline(){return!this.isBlock}get isTextblock(){return this.isBlock&&this.inlineContent}get isLeaf(){return this.contentMatch==sl.empty}get isAtom(){return this.isLeaf||!!this.spec.atom}isInGroup(e){return this.groups.indexOf(e)>-1}get whitespace(){return this.spec.whitespace||(this.spec.code?"pre":"normal")}hasRequiredAttrs(){for(let e in this.attrs)if(this.attrs[e].isRequired)return!0;return!1}compatibleContent(e){return this==e||this.contentMatch.compatible(e.contentMatch)}computeAttrs(e){return!e&&this.defaultAttrs?this.defaultAttrs:Kv(this.attrs,e)}create(e=null,t,r){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new pi(this,this.computeAttrs(e),$.from(t),He.setFrom(r))}createChecked(e=null,t,r){return t=$.from(t),this.checkContent(t),new pi(this,this.computeAttrs(e),t,He.setFrom(r))}createAndFill(e=null,t,r){if(e=this.computeAttrs(e),t=$.from(t),t.size){let u=this.contentMatch.fillBefore(t);if(!u)return null;t=u.append(t)}let l=this.contentMatch.matchFragment(t),o=l&&l.fillBefore($.empty,!0);return o?new pi(this,e,t.append(o),He.setFrom(r)):null}validContent(e){let t=this.contentMatch.matchFragment(e);if(!t||!t.validEnd)return!1;for(let r=0;r<e.childCount;r++)if(!this.allowsMarks(e.child(r).marks))return!1;return!0}checkContent(e){if(!this.validContent(e))throw new RangeError(`Invalid content for node ${this.name}: ${e.toString().slice(0,50)}`)}checkAttrs(e){Gv(this.attrs,e,"node",this.name)}allowsMarkType(e){return this.markSet==null||this.markSet.indexOf(e)>-1}allowsMarks(e){if(this.markSet==null)return!0;for(let t=0;t<e.length;t++)if(!this.allowsMarkType(e[t].type))return!1;return!0}allowedMarks(e){if(this.markSet==null)return e;let t;for(let r=0;r<e.length;r++)this.allowsMarkType(e[r].type)?t&&t.push(e[r]):t||(t=e.slice(0,r));return t?t.length?t:He.none:e}static compile(e,t){let r=Object.create(null);e.forEach((o,u)=>r[o]=new Jv(o,t,u));let l=t.spec.topNode||"doc";if(!r[l])throw new RangeError("Schema is missing its top node type ('"+l+"')");if(!r.text)throw new RangeError("Every schema needs a 'text' type");for(let o in r.text.attrs)throw new RangeError("The text node type should not have attributes");return r}};function BM(n,e,t){let r=t.split("|");return l=>{let o=l===null?"null":typeof l;if(r.indexOf(o)<0)throw new RangeError(`Expected value of type ${r} for attribute ${e} on type ${n}, got ${o}`)}}class LM{constructor(e,t,r){this.hasDefault=Object.prototype.hasOwnProperty.call(r,"default"),this.default=r.default,this.validate=typeof r.validate=="string"?BM(e,t,r.validate):r.validate}get isRequired(){return!this.hasDefault}}class Xc{constructor(e,t,r,l){this.name=e,this.rank=t,this.schema=r,this.spec=l,this.attrs=Yv(e,l.attrs),this.excluded=null;let o=$v(this.attrs);this.instance=o?new He(this,o):null}create(e=null){return!e&&this.instance?this.instance:new He(this,Kv(this.attrs,e))}static compile(e,t){let r=Object.create(null),l=0;return e.forEach((o,u)=>r[o]=new Xc(o,l++,t,u)),r}removeFromSet(e){for(var t=0;t<e.length;t++)e[t].type==this&&(e=e.slice(0,t).concat(e.slice(t+1)),t--);return e}isInSet(e){for(let t=0;t<e.length;t++)if(e[t].type==this)return e[t]}checkAttrs(e){Gv(this.attrs,e,"mark",this.name)}excludes(e){return this.excluded.indexOf(e)>-1}}class Xv{constructor(e){this.linebreakReplacement=null,this.cached=Object.create(null);let t=this.spec={};for(let l in e)t[l]=e[l];t.nodes=vt.from(e.nodes),t.marks=vt.from(e.marks||{}),this.nodes=E1.compile(this.spec.nodes,this),this.marks=Xc.compile(this.spec.marks,this);let r=Object.create(null);for(let l in this.nodes){if(l in this.marks)throw new RangeError(l+" can not be both a node and a mark");let o=this.nodes[l],u=o.spec.content||"",f=o.spec.marks;if(o.contentMatch=r[u]||(r[u]=sl.parse(u,this.nodes)),o.inlineContent=o.contentMatch.inlineContent,o.spec.linebreakReplacement){if(this.linebreakReplacement)throw new RangeError("Multiple linebreak nodes defined");if(!o.isInline||!o.isLeaf)throw new RangeError("Linebreak replacement nodes must be inline leaf nodes");this.linebreakReplacement=o}o.markSet=f=="_"?null:f?T1(this,f.split(" ")):f==""||!o.inlineContent?[]:null}for(let l in this.marks){let o=this.marks[l],u=o.spec.excludes;o.excluded=u==null?[o]:u==""?[]:T1(this,u.split(" "))}this.nodeFromJSON=this.nodeFromJSON.bind(this),this.markFromJSON=this.markFromJSON.bind(this),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached.wrappings=Object.create(null)}node(e,t=null,r,l){if(typeof e=="string")e=this.nodeType(e);else if(e instanceof E1){if(e.schema!=this)throw new RangeError("Node type from different schema used ("+e.name+")")}else throw new RangeError("Invalid node type: "+e);return e.createChecked(t,r,l)}text(e,t){let r=this.nodes.text;return new rc(r,r.defaultAttrs,e,He.setFrom(t))}mark(e,t){return typeof e=="string"&&(e=this.marks[e]),e.create(t)}nodeFromJSON(e){return pi.fromJSON(this,e)}markFromJSON(e){return He.fromJSON(this,e)}nodeType(e){let t=this.nodes[e];if(!t)throw new RangeError("Unknown node type: "+e);return t}}function T1(n,e){let t=[];for(let r=0;r<e.length;r++){let l=e[r],o=n.marks[l],u=o;if(o)t.push(o);else for(let f in n.marks){let d=n.marks[f];(l=="_"||d.spec.group&&d.spec.group.split(" ").indexOf(l)>-1)&&t.push(u=d)}if(!u)throw new SyntaxError("Unknown mark type: '"+e[r]+"'")}return t}function jM(n){return n.tag!=null}function _M(n){return n.style!=null}class mi{constructor(e,t){this.schema=e,this.rules=t,this.tags=[],this.styles=[];let r=this.matchedStyles=[];t.forEach(l=>{if(jM(l))this.tags.push(l);else if(_M(l)){let o=/[^=]*/.exec(l.style)[0];r.indexOf(o)<0&&r.push(o),this.styles.push(l)}}),this.normalizeLists=!this.tags.some(l=>{if(!/^(ul|ol)\b/.test(l.tag)||!l.node)return!1;let o=e.nodes[l.node];return o.contentMatch.matchType(o)})}parse(e,t={}){let r=new A1(this,t,!1);return r.addAll(e,He.none,t.from,t.to),r.finish()}parseSlice(e,t={}){let r=new A1(this,t,!0);return r.addAll(e,He.none,t.from,t.to),Q.maxOpen(r.finish())}matchTag(e,t,r){for(let l=r?this.tags.indexOf(r)+1:0;l<this.tags.length;l++){let o=this.tags[l];if(UM(e,o.tag)&&(o.namespace===void 0||e.namespaceURI==o.namespace)&&(!o.context||t.matchesContext(o.context))){if(o.getAttrs){let u=o.getAttrs(e);if(u===!1)continue;o.attrs=u||void 0}return o}}}matchStyle(e,t,r,l){for(let o=l?this.styles.indexOf(l)+1:0;o<this.styles.length;o++){let u=this.styles[o],f=u.style;if(!(f.indexOf(e)!=0||u.context&&!r.matchesContext(u.context)||f.length>e.length&&(f.charCodeAt(e.length)!=61||f.slice(e.length+1)!=t))){if(u.getAttrs){let d=u.getAttrs(t);if(d===!1)continue;u.attrs=d||void 0}return u}}}static schemaRules(e){let t=[];function r(l){let o=l.priority==null?50:l.priority,u=0;for(;u<t.length;u++){let f=t[u];if((f.priority==null?50:f.priority)<o)break}t.splice(u,0,l)}for(let l in e.marks){let o=e.marks[l].spec.parseDOM;o&&o.forEach(u=>{r(u=w1(u)),u.mark||u.ignore||u.clearMark||(u.mark=l)})}for(let l in e.nodes){let o=e.nodes[l].spec.parseDOM;o&&o.forEach(u=>{r(u=w1(u)),u.node||u.ignore||u.mark||(u.node=l)})}return t}static fromSchema(e){return e.cached.domParser||(e.cached.domParser=new mi(e,mi.schemaRules(e)))}}const Qv={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},PM={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},Zv={ol:!0,ul:!0},Go=1,Mp=2,Iu=4;function k1(n,e,t){return e!=null?(e?Go:0)|(e==="full"?Mp:0):n&&n.whitespace=="pre"?Go|Mp:t&-5}class Ou{constructor(e,t,r,l,o,u){this.type=e,this.attrs=t,this.marks=r,this.solid=l,this.options=u,this.content=[],this.activeMarks=He.none,this.match=o||(u&Iu?null:e.contentMatch)}findWrapping(e){if(!this.match){if(!this.type)return[];let t=this.type.contentMatch.fillBefore($.from(e));if(t)this.match=this.type.contentMatch.matchFragment(t);else{let r=this.type.contentMatch,l;return(l=r.findWrapping(e.type))?(this.match=r,l):null}}return this.match.findWrapping(e.type)}finish(e){if(!(this.options&Go)){let r=this.content[this.content.length-1],l;if(r&&r.isText&&(l=/[ \t\r\n\u000c]+$/.exec(r.text))){let o=r;r.text.length==l[0].length?this.content.pop():this.content[this.content.length-1]=o.withText(o.text.slice(0,o.text.length-l[0].length))}}let t=$.from(this.content);return!e&&this.match&&(t=t.append(this.match.fillBefore($.empty,!0))),this.type?this.type.create(this.attrs,t,this.marks):t}inlineContext(e){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:e.parentNode&&!Qv.hasOwnProperty(e.parentNode.nodeName.toLowerCase())}}class A1{constructor(e,t,r){this.parser=e,this.options=t,this.isOpen=r,this.open=0,this.localPreserveWS=!1;let l=t.topNode,o,u=k1(null,t.preserveWhitespace,0)|(r?Iu:0);l?o=new Ou(l.type,l.attrs,He.none,!0,t.topMatch||l.type.contentMatch,u):r?o=new Ou(null,null,He.none,!0,null,u):o=new Ou(e.schema.topNodeType,null,He.none,!0,null,u),this.nodes=[o],this.find=t.findPositions,this.needsBlock=!1}get top(){return this.nodes[this.open]}addDOM(e,t){e.nodeType==3?this.addTextNode(e,t):e.nodeType==1&&this.addElement(e,t)}addTextNode(e,t){let r=e.nodeValue,l=this.top,o=l.options&Mp?"full":this.localPreserveWS||(l.options&Go)>0;if(o==="full"||l.inlineContext(e)||/[^ \t\r\n\u000c]/.test(r)){if(o)o!=="full"?r=r.replace(/\r?\n|\r/g," "):r=r.replace(/\r\n?/g,`
`);else if(r=r.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(r)&&this.open==this.nodes.length-1){let u=l.content[l.content.length-1],f=e.previousSibling;(!u||f&&f.nodeName=="BR"||u.isText&&/[ \t\r\n\u000c]$/.test(u.text))&&(r=r.slice(1))}r&&this.insertNode(this.parser.schema.text(r),t,!/\S/.test(r)),this.findInText(e)}else this.findInside(e)}addElement(e,t,r){let l=this.localPreserveWS,o=this.top;(e.tagName=="PRE"||/pre/.test(e.style&&e.style.whiteSpace))&&(this.localPreserveWS=!0);let u=e.nodeName.toLowerCase(),f;Zv.hasOwnProperty(u)&&this.parser.normalizeLists&&HM(e);let d=this.options.ruleFromNode&&this.options.ruleFromNode(e)||(f=this.parser.matchTag(e,this,r));e:if(d?d.ignore:PM.hasOwnProperty(u))this.findInside(e),this.ignoreFallback(e,t);else if(!d||d.skip||d.closeParent){d&&d.closeParent?this.open=Math.max(0,this.open-1):d&&d.skip.nodeType&&(e=d.skip);let h,m=this.needsBlock;if(Qv.hasOwnProperty(u))o.content.length&&o.content[0].isInline&&this.open&&(this.open--,o=this.top),h=!0,o.type||(this.needsBlock=!0);else if(!e.firstChild){this.leafFallback(e,t);break e}let y=d&&d.skip?t:this.readStyles(e,t);y&&this.addAll(e,y),h&&this.sync(o),this.needsBlock=m}else{let h=this.readStyles(e,t);h&&this.addElementByRule(e,d,h,d.consuming===!1?f:void 0)}this.localPreserveWS=l}leafFallback(e,t){e.nodeName=="BR"&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(e.ownerDocument.createTextNode(`
`),t)}ignoreFallback(e,t){e.nodeName=="BR"&&(!this.top.type||!this.top.type.inlineContent)&&this.findPlace(this.parser.schema.text("-"),t,!0)}readStyles(e,t){let r=e.style;if(r&&r.length)for(let l=0;l<this.parser.matchedStyles.length;l++){let o=this.parser.matchedStyles[l],u=r.getPropertyValue(o);if(u)for(let f=void 0;;){let d=this.parser.matchStyle(o,u,this,f);if(!d)break;if(d.ignore)return null;if(d.clearMark?t=t.filter(h=>!d.clearMark(h)):t=t.concat(this.parser.schema.marks[d.mark].create(d.attrs)),d.consuming===!1)f=d;else break}}return t}addElementByRule(e,t,r,l){let o,u;if(t.node)if(u=this.parser.schema.nodes[t.node],u.isLeaf)this.insertNode(u.create(t.attrs),r,e.nodeName=="BR")||this.leafFallback(e,r);else{let d=this.enter(u,t.attrs||null,r,t.preserveWhitespace);d&&(o=!0,r=d)}else{let d=this.parser.schema.marks[t.mark];r=r.concat(d.create(t.attrs))}let f=this.top;if(u&&u.isLeaf)this.findInside(e);else if(l)this.addElement(e,r,l);else if(t.getContent)this.findInside(e),t.getContent(e,this.parser.schema).forEach(d=>this.insertNode(d,r,!1));else{let d=e;typeof t.contentElement=="string"?d=e.querySelector(t.contentElement):typeof t.contentElement=="function"?d=t.contentElement(e):t.contentElement&&(d=t.contentElement),this.findAround(e,d,!0),this.addAll(d,r),this.findAround(e,d,!1)}o&&this.sync(f)&&this.open--}addAll(e,t,r,l){let o=r||0;for(let u=r?e.childNodes[r]:e.firstChild,f=l==null?null:e.childNodes[l];u!=f;u=u.nextSibling,++o)this.findAtPoint(e,o),this.addDOM(u,t);this.findAtPoint(e,o)}findPlace(e,t,r){let l,o;for(let u=this.open,f=0;u>=0;u--){let d=this.nodes[u],h=d.findWrapping(e);if(h&&(!l||l.length>h.length+f)&&(l=h,o=d,!h.length))break;if(d.solid){if(r)break;f+=2}}if(!l)return null;this.sync(o);for(let u=0;u<l.length;u++)t=this.enterInner(l[u],null,t,!1);return t}insertNode(e,t,r){if(e.isInline&&this.needsBlock&&!this.top.type){let o=this.textblockFromContext();o&&(t=this.enterInner(o,null,t))}let l=this.findPlace(e,t,r);if(l){this.closeExtra();let o=this.top;o.match&&(o.match=o.match.matchType(e.type));let u=He.none;for(let f of l.concat(e.marks))(o.type?o.type.allowsMarkType(f.type):O1(f.type,e.type))&&(u=f.addToSet(u));return o.content.push(e.mark(u)),!0}return!1}enter(e,t,r,l){let o=this.findPlace(e.create(t),r,!1);return o&&(o=this.enterInner(e,t,r,!0,l)),o}enterInner(e,t,r,l=!1,o){this.closeExtra();let u=this.top;u.match=u.match&&u.match.matchType(e);let f=k1(e,o,u.options);u.options&Iu&&u.content.length==0&&(f|=Iu);let d=He.none;return r=r.filter(h=>(u.type?u.type.allowsMarkType(h.type):O1(h.type,e))?(d=h.addToSet(d),!1):!0),this.nodes.push(new Ou(e,t,d,l,null,f)),this.open++,r}closeExtra(e=!1){let t=this.nodes.length-1;if(t>this.open){for(;t>this.open;t--)this.nodes[t-1].content.push(this.nodes[t].finish(e));this.nodes.length=this.open+1}}finish(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(!!(this.isOpen||this.options.topOpen))}sync(e){for(let t=this.open;t>=0;t--){if(this.nodes[t]==e)return this.open=t,!0;this.localPreserveWS&&(this.nodes[t].options|=Go)}return!1}get currentPos(){this.closeExtra();let e=0;for(let t=this.open;t>=0;t--){let r=this.nodes[t].content;for(let l=r.length-1;l>=0;l--)e+=r[l].nodeSize;t&&e++}return e}findAtPoint(e,t){if(this.find)for(let r=0;r<this.find.length;r++)this.find[r].node==e&&this.find[r].offset==t&&(this.find[r].pos=this.currentPos)}findInside(e){if(this.find)for(let t=0;t<this.find.length;t++)this.find[t].pos==null&&e.nodeType==1&&e.contains(this.find[t].node)&&(this.find[t].pos=this.currentPos)}findAround(e,t,r){if(e!=t&&this.find)for(let l=0;l<this.find.length;l++)this.find[l].pos==null&&e.nodeType==1&&e.contains(this.find[l].node)&&t.compareDocumentPosition(this.find[l].node)&(r?2:4)&&(this.find[l].pos=this.currentPos)}findInText(e){if(this.find)for(let t=0;t<this.find.length;t++)this.find[t].node==e&&(this.find[t].pos=this.currentPos-(e.nodeValue.length-this.find[t].offset))}matchesContext(e){if(e.indexOf("|")>-1)return e.split(/\s*\|\s*/).some(this.matchesContext,this);let t=e.split("/"),r=this.options.context,l=!this.isOpen&&(!r||r.parent.type==this.nodes[0].type),o=-(r?r.depth+1:0)+(l?0:1),u=(f,d)=>{for(;f>=0;f--){let h=t[f];if(h==""){if(f==t.length-1||f==0)continue;for(;d>=o;d--)if(u(f-1,d))return!0;return!1}else{let m=d>0||d==0&&l?this.nodes[d].type:r&&d>=o?r.node(d-o).type:null;if(!m||m.name!=h&&!m.isInGroup(h))return!1;d--}}return!0};return u(t.length-1,this.open)}textblockFromContext(){let e=this.options.context;if(e)for(let t=e.depth;t>=0;t--){let r=e.node(t).contentMatchAt(e.indexAfter(t)).defaultType;if(r&&r.isTextblock&&r.defaultAttrs)return r}for(let t in this.parser.schema.nodes){let r=this.parser.schema.nodes[t];if(r.isTextblock&&r.defaultAttrs)return r}}}function HM(n){for(let e=n.firstChild,t=null;e;e=e.nextSibling){let r=e.nodeType==1?e.nodeName.toLowerCase():null;r&&Zv.hasOwnProperty(r)&&t?(t.appendChild(e),e=t):r=="li"?t=e:r&&(t=null)}}function UM(n,e){return(n.matches||n.msMatchesSelector||n.webkitMatchesSelector||n.mozMatchesSelector).call(n,e)}function w1(n){let e={};for(let t in n)e[t]=n[t];return e}function O1(n,e){let t=e.schema.nodes;for(let r in t){let l=t[r];if(!l.allowsMarkType(n))continue;let o=[],u=f=>{o.push(f);for(let d=0;d<f.edgeCount;d++){let{type:h,next:m}=f.edge(d);if(h==e||o.indexOf(m)<0&&u(m))return!0}};if(u(l.contentMatch))return!0}}class dl{constructor(e,t){this.nodes=e,this.marks=t}serializeFragment(e,t={},r){r||(r=Vh(t).createDocumentFragment());let l=r,o=[];return e.forEach(u=>{if(o.length||u.marks.length){let f=0,d=0;for(;f<o.length&&d<u.marks.length;){let h=u.marks[d];if(!this.marks[h.type.name]){d++;continue}if(!h.eq(o[f][0])||h.type.spec.spanning===!1)break;f++,d++}for(;f<o.length;)l=o.pop()[1];for(;d<u.marks.length;){let h=u.marks[d++],m=this.serializeMark(h,u.isInline,t);m&&(o.push([h,l]),l.appendChild(m.dom),l=m.contentDOM||m.dom)}}l.appendChild(this.serializeNodeInner(u,t))}),r}serializeNodeInner(e,t){let{dom:r,contentDOM:l}=Fu(Vh(t),this.nodes[e.type.name](e),null,e.attrs);if(l){if(e.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");this.serializeFragment(e.content,t,l)}return r}serializeNode(e,t={}){let r=this.serializeNodeInner(e,t);for(let l=e.marks.length-1;l>=0;l--){let o=this.serializeMark(e.marks[l],e.isInline,t);o&&((o.contentDOM||o.dom).appendChild(r),r=o.dom)}return r}serializeMark(e,t,r={}){let l=this.marks[e.type.name];return l&&Fu(Vh(r),l(e,t),null,e.attrs)}static renderSpec(e,t,r=null,l){return Fu(e,t,r,l)}static fromSchema(e){return e.cached.domSerializer||(e.cached.domSerializer=new dl(this.nodesFromSchema(e),this.marksFromSchema(e)))}static nodesFromSchema(e){let t=M1(e.nodes);return t.text||(t.text=r=>r.text),t}static marksFromSchema(e){return M1(e.marks)}}function M1(n){let e={};for(let t in n){let r=n[t].spec.toDOM;r&&(e[t]=r)}return e}function Vh(n){return n.document||window.document}const N1=new WeakMap;function VM(n){let e=N1.get(n);return e===void 0&&N1.set(n,e=qM(n)),e}function qM(n){let e=null;function t(r){if(r&&typeof r=="object")if(Array.isArray(r))if(typeof r[0]=="string")e||(e=[]),e.push(r);else for(let l=0;l<r.length;l++)t(r[l]);else for(let l in r)t(r[l])}return t(n),e}function Fu(n,e,t,r){if(typeof e=="string")return{dom:n.createTextNode(e)};if(e.nodeType!=null)return{dom:e};if(e.dom&&e.dom.nodeType!=null)return e;let l=e[0],o;if(typeof l!="string")throw new RangeError("Invalid array passed to renderSpec");if(r&&(o=VM(r))&&o.indexOf(e)>-1)throw new RangeError("Using an array from an attribute object as a DOM spec. This may be an attempted cross site scripting attack.");let u=l.indexOf(" ");u>0&&(t=l.slice(0,u),l=l.slice(u+1));let f,d=t?n.createElementNS(t,l):n.createElement(l),h=e[1],m=1;if(h&&typeof h=="object"&&h.nodeType==null&&!Array.isArray(h)){m=2;for(let y in h)if(h[y]!=null){let b=y.indexOf(" ");b>0?d.setAttributeNS(y.slice(0,b),y.slice(b+1),h[y]):d.setAttribute(y,h[y])}}for(let y=m;y<e.length;y++){let b=e[y];if(b===0){if(y<e.length-1||y>m)throw new RangeError("Content hole must be the only child of its parent node");return{dom:d,contentDOM:d}}else{let{dom:v,contentDOM:S}=Fu(n,b,t,r);if(d.appendChild(v),S){if(f)throw new RangeError("Multiple content holes");f=S}}}return{dom:d,contentDOM:f}}const Wv=65535,ex=Math.pow(2,16);function IM(n,e){return n+e*ex}function R1(n){return n&Wv}function FM(n){return(n-(n&Wv))/ex}const tx=1,nx=2,$u=4,rx=8;class Np{constructor(e,t,r){this.pos=e,this.delInfo=t,this.recover=r}get deleted(){return(this.delInfo&rx)>0}get deletedBefore(){return(this.delInfo&(tx|$u))>0}get deletedAfter(){return(this.delInfo&(nx|$u))>0}get deletedAcross(){return(this.delInfo&$u)>0}}class hn{constructor(e,t=!1){if(this.ranges=e,this.inverted=t,!e.length&&hn.empty)return hn.empty}recover(e){let t=0,r=R1(e);if(!this.inverted)for(let l=0;l<r;l++)t+=this.ranges[l*3+2]-this.ranges[l*3+1];return this.ranges[r*3]+t+FM(e)}mapResult(e,t=1){return this._map(e,t,!1)}map(e,t=1){return this._map(e,t,!0)}_map(e,t,r){let l=0,o=this.inverted?2:1,u=this.inverted?1:2;for(let f=0;f<this.ranges.length;f+=3){let d=this.ranges[f]-(this.inverted?l:0);if(d>e)break;let h=this.ranges[f+o],m=this.ranges[f+u],y=d+h;if(e<=y){let b=h?e==d?-1:e==y?1:t:t,v=d+l+(b<0?0:m);if(r)return v;let S=e==(t<0?d:y)?null:IM(f/3,e-d),T=e==d?nx:e==y?tx:$u;return(t<0?e!=d:e!=y)&&(T|=rx),new Np(v,T,S)}l+=m-h}return r?e+l:new Np(e+l,0,null)}touches(e,t){let r=0,l=R1(t),o=this.inverted?2:1,u=this.inverted?1:2;for(let f=0;f<this.ranges.length;f+=3){let d=this.ranges[f]-(this.inverted?r:0);if(d>e)break;let h=this.ranges[f+o],m=d+h;if(e<=m&&f==l*3)return!0;r+=this.ranges[f+u]-h}return!1}forEach(e){let t=this.inverted?2:1,r=this.inverted?1:2;for(let l=0,o=0;l<this.ranges.length;l+=3){let u=this.ranges[l],f=u-(this.inverted?o:0),d=u+(this.inverted?0:o),h=this.ranges[l+t],m=this.ranges[l+r];e(f,f+h,d,d+m),o+=m-h}}invert(){return new hn(this.ranges,!this.inverted)}toString(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}static offset(e){return e==0?hn.empty:new hn(e<0?[0,-e,0]:[0,0,e])}}hn.empty=new hn([]);class Yo{constructor(e,t,r=0,l=e?e.length:0){this.mirror=t,this.from=r,this.to=l,this._maps=e||[],this.ownData=!(e||t)}get maps(){return this._maps}slice(e=0,t=this.maps.length){return new Yo(this._maps,this.mirror,e,t)}appendMap(e,t){this.ownData||(this._maps=this._maps.slice(),this.mirror=this.mirror&&this.mirror.slice(),this.ownData=!0),this.to=this._maps.push(e),t!=null&&this.setMirror(this._maps.length-1,t)}appendMapping(e){for(let t=0,r=this._maps.length;t<e._maps.length;t++){let l=e.getMirror(t);this.appendMap(e._maps[t],l!=null&&l<t?r+l:void 0)}}getMirror(e){if(this.mirror){for(let t=0;t<this.mirror.length;t++)if(this.mirror[t]==e)return this.mirror[t+(t%2?-1:1)]}}setMirror(e,t){this.mirror||(this.mirror=[]),this.mirror.push(e,t)}appendMappingInverted(e){for(let t=e.maps.length-1,r=this._maps.length+e._maps.length;t>=0;t--){let l=e.getMirror(t);this.appendMap(e._maps[t].invert(),l!=null&&l>t?r-l-1:void 0)}}invert(){let e=new Yo;return e.appendMappingInverted(this),e}map(e,t=1){if(this.mirror)return this._map(e,t,!0);for(let r=this.from;r<this.to;r++)e=this._maps[r].map(e,t);return e}mapResult(e,t=1){return this._map(e,t,!1)}_map(e,t,r){let l=0;for(let o=this.from;o<this.to;o++){let u=this._maps[o],f=u.mapResult(e,t);if(f.recover!=null){let d=this.getMirror(o);if(d!=null&&d>o&&d<this.to){o=d,e=this._maps[d].recover(f.recover);continue}}l|=f.delInfo,e=f.pos}return r?e:new Np(e,l,null)}}const qh=Object.create(null);class Dt{getMap(){return hn.empty}merge(e){return null}static fromJSON(e,t){if(!t||!t.stepType)throw new RangeError("Invalid input for Step.fromJSON");let r=qh[t.stepType];if(!r)throw new RangeError(`No step type ${t.stepType} defined`);return r.fromJSON(e,t)}static jsonID(e,t){if(e in qh)throw new RangeError("Duplicate use of step JSON ID "+e);return qh[e]=t,t.prototype.jsonID=e,t}}class lt{constructor(e,t){this.doc=e,this.failed=t}static ok(e){return new lt(e,null)}static fail(e){return new lt(null,e)}static fromReplace(e,t,r,l){try{return lt.ok(e.replace(t,r,l))}catch(o){if(o instanceof ec)return lt.fail(o.message);throw o}}}function gm(n,e,t){let r=[];for(let l=0;l<n.childCount;l++){let o=n.child(l);o.content.size&&(o=o.copy(gm(o.content,e,o))),o.isInline&&(o=e(o,t,l)),r.push(o)}return $.fromArray(r)}class fi extends Dt{constructor(e,t,r){super(),this.from=e,this.to=t,this.mark=r}apply(e){let t=e.slice(this.from,this.to),r=e.resolve(this.from),l=r.node(r.sharedDepth(this.to)),o=new Q(gm(t.content,(u,f)=>!u.isAtom||!f.type.allowsMarkType(this.mark.type)?u:u.mark(this.mark.addToSet(u.marks)),l),t.openStart,t.openEnd);return lt.fromReplace(e,this.from,this.to,o)}invert(){return new Wn(this.from,this.to,this.mark)}map(e){let t=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return t.deleted&&r.deleted||t.pos>=r.pos?null:new fi(t.pos,r.pos,this.mark)}merge(e){return e instanceof fi&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new fi(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,t){if(typeof t.from!="number"||typeof t.to!="number")throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new fi(t.from,t.to,e.markFromJSON(t.mark))}}Dt.jsonID("addMark",fi);class Wn extends Dt{constructor(e,t,r){super(),this.from=e,this.to=t,this.mark=r}apply(e){let t=e.slice(this.from,this.to),r=new Q(gm(t.content,l=>l.mark(this.mark.removeFromSet(l.marks)),e),t.openStart,t.openEnd);return lt.fromReplace(e,this.from,this.to,r)}invert(){return new fi(this.from,this.to,this.mark)}map(e){let t=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return t.deleted&&r.deleted||t.pos>=r.pos?null:new Wn(t.pos,r.pos,this.mark)}merge(e){return e instanceof Wn&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new Wn(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,t){if(typeof t.from!="number"||typeof t.to!="number")throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new Wn(t.from,t.to,e.markFromJSON(t.mark))}}Dt.jsonID("removeMark",Wn);class di extends Dt{constructor(e,t){super(),this.pos=e,this.mark=t}apply(e){let t=e.nodeAt(this.pos);if(!t)return lt.fail("No node at mark step's position");let r=t.type.create(t.attrs,null,this.mark.addToSet(t.marks));return lt.fromReplace(e,this.pos,this.pos+1,new Q($.from(r),0,t.isLeaf?0:1))}invert(e){let t=e.nodeAt(this.pos);if(t){let r=this.mark.addToSet(t.marks);if(r.length==t.marks.length){for(let l=0;l<t.marks.length;l++)if(!t.marks[l].isInSet(r))return new di(this.pos,t.marks[l]);return new di(this.pos,this.mark)}}return new ol(this.pos,this.mark)}map(e){let t=e.mapResult(this.pos,1);return t.deletedAfter?null:new di(t.pos,this.mark)}toJSON(){return{stepType:"addNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,t){if(typeof t.pos!="number")throw new RangeError("Invalid input for AddNodeMarkStep.fromJSON");return new di(t.pos,e.markFromJSON(t.mark))}}Dt.jsonID("addNodeMark",di);class ol extends Dt{constructor(e,t){super(),this.pos=e,this.mark=t}apply(e){let t=e.nodeAt(this.pos);if(!t)return lt.fail("No node at mark step's position");let r=t.type.create(t.attrs,null,this.mark.removeFromSet(t.marks));return lt.fromReplace(e,this.pos,this.pos+1,new Q($.from(r),0,t.isLeaf?0:1))}invert(e){let t=e.nodeAt(this.pos);return!t||!this.mark.isInSet(t.marks)?this:new di(this.pos,this.mark)}map(e){let t=e.mapResult(this.pos,1);return t.deletedAfter?null:new ol(t.pos,this.mark)}toJSON(){return{stepType:"removeNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,t){if(typeof t.pos!="number")throw new RangeError("Invalid input for RemoveNodeMarkStep.fromJSON");return new ol(t.pos,e.markFromJSON(t.mark))}}Dt.jsonID("removeNodeMark",ol);class ht extends Dt{constructor(e,t,r,l=!1){super(),this.from=e,this.to=t,this.slice=r,this.structure=l}apply(e){return this.structure&&Rp(e,this.from,this.to)?lt.fail("Structure replace would overwrite content"):lt.fromReplace(e,this.from,this.to,this.slice)}getMap(){return new hn([this.from,this.to-this.from,this.slice.size])}invert(e){return new ht(this.from,this.from+this.slice.size,e.slice(this.from,this.to))}map(e){let t=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return t.deletedAcross&&r.deletedAcross?null:new ht(t.pos,Math.max(t.pos,r.pos),this.slice,this.structure)}merge(e){if(!(e instanceof ht)||e.structure||this.structure)return null;if(this.from+this.slice.size==e.from&&!this.slice.openEnd&&!e.slice.openStart){let t=this.slice.size+e.slice.size==0?Q.empty:new Q(this.slice.content.append(e.slice.content),this.slice.openStart,e.slice.openEnd);return new ht(this.from,this.to+(e.to-e.from),t,this.structure)}else if(e.to==this.from&&!this.slice.openStart&&!e.slice.openEnd){let t=this.slice.size+e.slice.size==0?Q.empty:new Q(e.slice.content.append(this.slice.content),e.slice.openStart,this.slice.openEnd);return new ht(e.from,this.to,t,this.structure)}else return null}toJSON(){let e={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,t){if(typeof t.from!="number"||typeof t.to!="number")throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new ht(t.from,t.to,Q.fromJSON(e,t.slice),!!t.structure)}}Dt.jsonID("replace",ht);class pt extends Dt{constructor(e,t,r,l,o,u,f=!1){super(),this.from=e,this.to=t,this.gapFrom=r,this.gapTo=l,this.slice=o,this.insert=u,this.structure=f}apply(e){if(this.structure&&(Rp(e,this.from,this.gapFrom)||Rp(e,this.gapTo,this.to)))return lt.fail("Structure gap-replace would overwrite content");let t=e.slice(this.gapFrom,this.gapTo);if(t.openStart||t.openEnd)return lt.fail("Gap is not a flat range");let r=this.slice.insertAt(this.insert,t.content);return r?lt.fromReplace(e,this.from,this.to,r):lt.fail("Content does not fit in gap")}getMap(){return new hn([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}invert(e){let t=this.gapTo-this.gapFrom;return new pt(this.from,this.from+this.slice.size+t,this.from+this.insert,this.from+this.insert+t,e.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}map(e){let t=e.mapResult(this.from,1),r=e.mapResult(this.to,-1),l=this.from==this.gapFrom?t.pos:e.map(this.gapFrom,-1),o=this.to==this.gapTo?r.pos:e.map(this.gapTo,1);return t.deletedAcross&&r.deletedAcross||l<t.pos||o>r.pos?null:new pt(t.pos,r.pos,l,o,this.slice,this.insert,this.structure)}toJSON(){let e={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,t){if(typeof t.from!="number"||typeof t.to!="number"||typeof t.gapFrom!="number"||typeof t.gapTo!="number"||typeof t.insert!="number")throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new pt(t.from,t.to,t.gapFrom,t.gapTo,Q.fromJSON(e,t.slice),t.insert,!!t.structure)}}Dt.jsonID("replaceAround",pt);function Rp(n,e,t){let r=n.resolve(e),l=t-e,o=r.depth;for(;l>0&&o>0&&r.indexAfter(o)==r.node(o).childCount;)o--,l--;if(l>0){let u=r.node(o).maybeChild(r.indexAfter(o));for(;l>0;){if(!u||u.isLeaf)return!0;u=u.firstChild,l--}}return!1}function $M(n,e,t,r){let l=[],o=[],u,f;n.doc.nodesBetween(e,t,(d,h,m)=>{if(!d.isInline)return;let y=d.marks;if(!r.isInSet(y)&&m.type.allowsMarkType(r.type)){let b=Math.max(h,e),v=Math.min(h+d.nodeSize,t),S=r.addToSet(y);for(let T=0;T<y.length;T++)y[T].isInSet(S)||(u&&u.to==b&&u.mark.eq(y[T])?u.to=v:l.push(u=new Wn(b,v,y[T])));f&&f.to==b?f.to=v:o.push(f=new fi(b,v,r))}}),l.forEach(d=>n.step(d)),o.forEach(d=>n.step(d))}function KM(n,e,t,r){let l=[],o=0;n.doc.nodesBetween(e,t,(u,f)=>{if(!u.isInline)return;o++;let d=null;if(r instanceof Xc){let h=u.marks,m;for(;m=r.isInSet(h);)(d||(d=[])).push(m),h=m.removeFromSet(h)}else r?r.isInSet(u.marks)&&(d=[r]):d=u.marks;if(d&&d.length){let h=Math.min(f+u.nodeSize,t);for(let m=0;m<d.length;m++){let y=d[m],b;for(let v=0;v<l.length;v++){let S=l[v];S.step==o-1&&y.eq(l[v].style)&&(b=S)}b?(b.to=h,b.step=o):l.push({style:y,from:Math.max(f,e),to:h,step:o})}}}),l.forEach(u=>n.step(new Wn(u.from,u.to,u.style)))}function ym(n,e,t,r=t.contentMatch,l=!0){let o=n.doc.nodeAt(e),u=[],f=e+1;for(let d=0;d<o.childCount;d++){let h=o.child(d),m=f+h.nodeSize,y=r.matchType(h.type);if(!y)u.push(new ht(f,m,Q.empty));else{r=y;for(let b=0;b<h.marks.length;b++)t.allowsMarkType(h.marks[b].type)||n.step(new Wn(f,m,h.marks[b]));if(l&&h.isText&&t.whitespace!="pre"){let b,v=/\r?\n|\r/g,S;for(;b=v.exec(h.text);)S||(S=new Q($.from(t.schema.text(" ",t.allowedMarks(h.marks))),0,0)),u.push(new ht(f+b.index,f+b.index+b[0].length,S))}}f=m}if(!r.validEnd){let d=r.fillBefore($.empty,!0);n.replace(f,f,new Q(d,0,0))}for(let d=u.length-1;d>=0;d--)n.step(u[d])}function GM(n,e,t){return(e==0||n.canReplace(e,n.childCount))&&(t==n.childCount||n.canReplace(0,t))}function xs(n){let t=n.parent.content.cutByIndex(n.startIndex,n.endIndex);for(let r=n.depth;;--r){let l=n.$from.node(r),o=n.$from.index(r),u=n.$to.indexAfter(r);if(r<n.depth&&l.canReplace(o,u,t))return r;if(r==0||l.type.spec.isolating||!GM(l,o,u))break}return null}function YM(n,e,t){let{$from:r,$to:l,depth:o}=e,u=r.before(o+1),f=l.after(o+1),d=u,h=f,m=$.empty,y=0;for(let S=o,T=!1;S>t;S--)T||r.index(S)>0?(T=!0,m=$.from(r.node(S).copy(m)),y++):d--;let b=$.empty,v=0;for(let S=o,T=!1;S>t;S--)T||l.after(S+1)<l.end(S)?(T=!0,b=$.from(l.node(S).copy(b)),v++):h++;n.step(new pt(d,h,u,f,new Q(m.append(b),y,v),m.size-y,!0))}function bm(n,e,t=null,r=n){let l=JM(n,e),o=l&&XM(r,e);return o?l.map(D1).concat({type:e,attrs:t}).concat(o.map(D1)):null}function D1(n){return{type:n,attrs:null}}function JM(n,e){let{parent:t,startIndex:r,endIndex:l}=n,o=t.contentMatchAt(r).findWrapping(e);if(!o)return null;let u=o.length?o[0]:e;return t.canReplaceWith(r,l,u)?o:null}function XM(n,e){let{parent:t,startIndex:r,endIndex:l}=n,o=t.child(r),u=e.contentMatch.findWrapping(o.type);if(!u)return null;let d=(u.length?u[u.length-1]:e).contentMatch;for(let h=r;d&&h<l;h++)d=d.matchType(t.child(h).type);return!d||!d.validEnd?null:u}function QM(n,e,t){let r=$.empty;for(let u=t.length-1;u>=0;u--){if(r.size){let f=t[u].type.contentMatch.matchFragment(r);if(!f||!f.validEnd)throw new RangeError("Wrapper type given to Transform.wrap does not form valid content of its parent wrapper")}r=$.from(t[u].type.create(t[u].attrs,r))}let l=e.start,o=e.end;n.step(new pt(l,o,l,o,new Q(r,0,0),t.length,!0))}function ZM(n,e,t,r,l){if(!r.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");let o=n.steps.length;n.doc.nodesBetween(e,t,(u,f)=>{let d=typeof l=="function"?l(u):l;if(u.isTextblock&&!u.hasMarkup(r,d)&&WM(n.doc,n.mapping.slice(o).map(f),r)){let h=null;if(r.schema.linebreakReplacement){let v=r.whitespace=="pre",S=!!r.contentMatch.matchType(r.schema.linebreakReplacement);v&&!S?h=!1:!v&&S&&(h=!0)}h===!1&&lx(n,u,f,o),ym(n,n.mapping.slice(o).map(f,1),r,void 0,h===null);let m=n.mapping.slice(o),y=m.map(f,1),b=m.map(f+u.nodeSize,1);return n.step(new pt(y,b,y+1,b-1,new Q($.from(r.create(d,null,u.marks)),0,0),1,!0)),h===!0&&ix(n,u,f,o),!1}})}function ix(n,e,t,r){e.forEach((l,o)=>{if(l.isText){let u,f=/\r?\n|\r/g;for(;u=f.exec(l.text);){let d=n.mapping.slice(r).map(t+1+o+u.index);n.replaceWith(d,d+1,e.type.schema.linebreakReplacement.create())}}})}function lx(n,e,t,r){e.forEach((l,o)=>{if(l.type==l.type.schema.linebreakReplacement){let u=n.mapping.slice(r).map(t+1+o);n.replaceWith(u,u+1,e.type.schema.text(`
`))}})}function WM(n,e,t){let r=n.resolve(e),l=r.index();return r.parent.canReplaceWith(l,l+1,t)}function eN(n,e,t,r,l){let o=n.doc.nodeAt(e);if(!o)throw new RangeError("No node at given position");t||(t=o.type);let u=t.create(r,null,l||o.marks);if(o.isLeaf)return n.replaceWith(e,e+o.nodeSize,u);if(!t.validContent(o.content))throw new RangeError("Invalid content for node type "+t.name);n.step(new pt(e,e+o.nodeSize,e+1,e+o.nodeSize-1,new Q($.from(u),0,0),1,!0))}function Or(n,e,t=1,r){let l=n.resolve(e),o=l.depth-t,u=r&&r[r.length-1]||l.parent;if(o<0||l.parent.type.spec.isolating||!l.parent.canReplace(l.index(),l.parent.childCount)||!u.type.validContent(l.parent.content.cutByIndex(l.index(),l.parent.childCount)))return!1;for(let h=l.depth-1,m=t-2;h>o;h--,m--){let y=l.node(h),b=l.index(h);if(y.type.spec.isolating)return!1;let v=y.content.cutByIndex(b,y.childCount),S=r&&r[m+1];S&&(v=v.replaceChild(0,S.type.create(S.attrs)));let T=r&&r[m]||y;if(!y.canReplace(b+1,y.childCount)||!T.type.validContent(v))return!1}let f=l.indexAfter(o),d=r&&r[0];return l.node(o).canReplaceWith(f,f,d?d.type:l.node(o+1).type)}function tN(n,e,t=1,r){let l=n.doc.resolve(e),o=$.empty,u=$.empty;for(let f=l.depth,d=l.depth-t,h=t-1;f>d;f--,h--){o=$.from(l.node(f).copy(o));let m=r&&r[h];u=$.from(m?m.type.create(m.attrs,u):l.node(f).copy(u))}n.step(new ht(e,e,new Q(o.append(u),t,t),!0))}function Ci(n,e){let t=n.resolve(e),r=t.index();return sx(t.nodeBefore,t.nodeAfter)&&t.parent.canReplace(r,r+1)}function nN(n,e){e.content.size||n.type.compatibleContent(e.type);let t=n.contentMatchAt(n.childCount),{linebreakReplacement:r}=n.type.schema;for(let l=0;l<e.childCount;l++){let o=e.child(l),u=o.type==r?n.type.schema.nodes.text:o.type;if(t=t.matchType(u),!t||!n.type.allowsMarks(o.marks))return!1}return t.validEnd}function sx(n,e){return!!(n&&e&&!n.isLeaf&&nN(n,e))}function Qc(n,e,t=-1){let r=n.resolve(e);for(let l=r.depth;;l--){let o,u,f=r.index(l);if(l==r.depth?(o=r.nodeBefore,u=r.nodeAfter):t>0?(o=r.node(l+1),f++,u=r.node(l).maybeChild(f)):(o=r.node(l).maybeChild(f-1),u=r.node(l+1)),o&&!o.isTextblock&&sx(o,u)&&r.node(l).canReplace(f,f+1))return e;if(l==0)break;e=t<0?r.before(l):r.after(l)}}function rN(n,e,t){let r=null,{linebreakReplacement:l}=n.doc.type.schema,o=n.doc.resolve(e-t),u=o.node().type;if(l&&u.inlineContent){let m=u.whitespace=="pre",y=!!u.contentMatch.matchType(l);m&&!y?r=!1:!m&&y&&(r=!0)}let f=n.steps.length;if(r===!1){let m=n.doc.resolve(e+t);lx(n,m.node(),m.before(),f)}u.inlineContent&&ym(n,e+t-1,u,o.node().contentMatchAt(o.index()),r==null);let d=n.mapping.slice(f),h=d.map(e-t);if(n.step(new ht(h,d.map(e+t,-1),Q.empty,!0)),r===!0){let m=n.doc.resolve(h);ix(n,m.node(),m.before(),n.steps.length)}return n}function iN(n,e,t){let r=n.resolve(e);if(r.parent.canReplaceWith(r.index(),r.index(),t))return e;if(r.parentOffset==0)for(let l=r.depth-1;l>=0;l--){let o=r.index(l);if(r.node(l).canReplaceWith(o,o,t))return r.before(l+1);if(o>0)return null}if(r.parentOffset==r.parent.content.size)for(let l=r.depth-1;l>=0;l--){let o=r.indexAfter(l);if(r.node(l).canReplaceWith(o,o,t))return r.after(l+1);if(o<r.node(l).childCount)return null}return null}function ox(n,e,t){let r=n.resolve(e);if(!t.content.size)return e;let l=t.content;for(let o=0;o<t.openStart;o++)l=l.firstChild.content;for(let o=1;o<=(t.openStart==0&&t.size?2:1);o++)for(let u=r.depth;u>=0;u--){let f=u==r.depth?0:r.pos<=(r.start(u+1)+r.end(u+1))/2?-1:1,d=r.index(u)+(f>0?1:0),h=r.node(u),m=!1;if(o==1)m=h.canReplace(d,d,l);else{let y=h.contentMatchAt(d).findWrapping(l.firstChild.type);m=y&&h.canReplaceWith(d,d,y[0])}if(m)return f==0?r.pos:f<0?r.before(u+1):r.after(u+1)}return null}function Zc(n,e,t=e,r=Q.empty){if(e==t&&!r.size)return null;let l=n.resolve(e),o=n.resolve(t);return ax(l,o,r)?new ht(e,t,r):new lN(l,o,r).fit()}function ax(n,e,t){return!t.openStart&&!t.openEnd&&n.start()==e.start()&&n.parent.canReplace(n.index(),e.index(),t.content)}class lN{constructor(e,t,r){this.$from=e,this.$to=t,this.unplaced=r,this.frontier=[],this.placed=$.empty;for(let l=0;l<=e.depth;l++){let o=e.node(l);this.frontier.push({type:o.type,match:o.contentMatchAt(e.indexAfter(l))})}for(let l=e.depth;l>0;l--)this.placed=$.from(e.node(l).copy(this.placed))}get depth(){return this.frontier.length-1}fit(){for(;this.unplaced.size;){let h=this.findFittable();h?this.placeNodes(h):this.openMore()||this.dropNode()}let e=this.mustMoveInline(),t=this.placed.size-this.depth-this.$from.depth,r=this.$from,l=this.close(e<0?this.$to:r.doc.resolve(e));if(!l)return null;let o=this.placed,u=r.depth,f=l.depth;for(;u&&f&&o.childCount==1;)o=o.firstChild.content,u--,f--;let d=new Q(o,u,f);return e>-1?new pt(r.pos,e,this.$to.pos,this.$to.end(),d,t):d.size||r.pos!=this.$to.pos?new ht(r.pos,l.pos,d):null}findFittable(){let e=this.unplaced.openStart;for(let t=this.unplaced.content,r=0,l=this.unplaced.openEnd;r<e;r++){let o=t.firstChild;if(t.childCount>1&&(l=0),o.type.spec.isolating&&l<=r){e=r;break}t=o.content}for(let t=1;t<=2;t++)for(let r=t==1?e:this.unplaced.openStart;r>=0;r--){let l,o=null;r?(o=Ih(this.unplaced.content,r-1).firstChild,l=o.content):l=this.unplaced.content;let u=l.firstChild;for(let f=this.depth;f>=0;f--){let{type:d,match:h}=this.frontier[f],m,y=null;if(t==1&&(u?h.matchType(u.type)||(y=h.fillBefore($.from(u),!1)):o&&d.compatibleContent(o.type)))return{sliceDepth:r,frontierDepth:f,parent:o,inject:y};if(t==2&&u&&(m=h.findWrapping(u.type)))return{sliceDepth:r,frontierDepth:f,parent:o,wrap:m};if(o&&h.matchType(o.type))break}}}openMore(){let{content:e,openStart:t,openEnd:r}=this.unplaced,l=Ih(e,t);return!l.childCount||l.firstChild.isLeaf?!1:(this.unplaced=new Q(e,t+1,Math.max(r,l.size+t>=e.size-r?t+1:0)),!0)}dropNode(){let{content:e,openStart:t,openEnd:r}=this.unplaced,l=Ih(e,t);if(l.childCount<=1&&t>0){let o=e.size-t<=t+l.size;this.unplaced=new Q(No(e,t-1,1),t-1,o?t-1:r)}else this.unplaced=new Q(No(e,t,1),t,r)}placeNodes({sliceDepth:e,frontierDepth:t,parent:r,inject:l,wrap:o}){for(;this.depth>t;)this.closeFrontierNode();if(o)for(let T=0;T<o.length;T++)this.openFrontierNode(o[T]);let u=this.unplaced,f=r?r.content:u.content,d=u.openStart-e,h=0,m=[],{match:y,type:b}=this.frontier[t];if(l){for(let T=0;T<l.childCount;T++)m.push(l.child(T));y=y.matchFragment(l)}let v=f.size+e-(u.content.size-u.openEnd);for(;h<f.childCount;){let T=f.child(h),C=y.matchType(T.type);if(!C)break;h++,(h>1||d==0||T.content.size)&&(y=C,m.push(ux(T.mark(b.allowedMarks(T.marks)),h==1?d:0,h==f.childCount?v:-1)))}let S=h==f.childCount;S||(v=-1),this.placed=Ro(this.placed,t,$.from(m)),this.frontier[t].match=y,S&&v<0&&r&&r.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(let T=0,C=f;T<v;T++){let A=C.lastChild;this.frontier.push({type:A.type,match:A.contentMatchAt(A.childCount)}),C=A.content}this.unplaced=S?e==0?Q.empty:new Q(No(u.content,e-1,1),e-1,v<0?u.openEnd:e-1):new Q(No(u.content,e,h),u.openStart,u.openEnd)}mustMoveInline(){if(!this.$to.parent.isTextblock)return-1;let e=this.frontier[this.depth],t;if(!e.type.isTextblock||!Fh(this.$to,this.$to.depth,e.type,e.match,!1)||this.$to.depth==this.depth&&(t=this.findCloseLevel(this.$to))&&t.depth==this.depth)return-1;let{depth:r}=this.$to,l=this.$to.after(r);for(;r>1&&l==this.$to.end(--r);)++l;return l}findCloseLevel(e){e:for(let t=Math.min(this.depth,e.depth);t>=0;t--){let{match:r,type:l}=this.frontier[t],o=t<e.depth&&e.end(t+1)==e.pos+(e.depth-(t+1)),u=Fh(e,t,l,r,o);if(u){for(let f=t-1;f>=0;f--){let{match:d,type:h}=this.frontier[f],m=Fh(e,f,h,d,!0);if(!m||m.childCount)continue e}return{depth:t,fit:u,move:o?e.doc.resolve(e.after(t+1)):e}}}}close(e){let t=this.findCloseLevel(e);if(!t)return null;for(;this.depth>t.depth;)this.closeFrontierNode();t.fit.childCount&&(this.placed=Ro(this.placed,t.depth,t.fit)),e=t.move;for(let r=t.depth+1;r<=e.depth;r++){let l=e.node(r),o=l.type.contentMatch.fillBefore(l.content,!0,e.index(r));this.openFrontierNode(l.type,l.attrs,o)}return e}openFrontierNode(e,t=null,r){let l=this.frontier[this.depth];l.match=l.match.matchType(e),this.placed=Ro(this.placed,this.depth,$.from(e.create(t,r))),this.frontier.push({type:e,match:e.contentMatch})}closeFrontierNode(){let t=this.frontier.pop().match.fillBefore($.empty,!0);t.childCount&&(this.placed=Ro(this.placed,this.frontier.length,t))}}function No(n,e,t){return e==0?n.cutByIndex(t,n.childCount):n.replaceChild(0,n.firstChild.copy(No(n.firstChild.content,e-1,t)))}function Ro(n,e,t){return e==0?n.append(t):n.replaceChild(n.childCount-1,n.lastChild.copy(Ro(n.lastChild.content,e-1,t)))}function Ih(n,e){for(let t=0;t<e;t++)n=n.firstChild.content;return n}function ux(n,e,t){if(e<=0)return n;let r=n.content;return e>1&&(r=r.replaceChild(0,ux(r.firstChild,e-1,r.childCount==1?t-1:0))),e>0&&(r=n.type.contentMatch.fillBefore(r).append(r),t<=0&&(r=r.append(n.type.contentMatch.matchFragment(r).fillBefore($.empty,!0)))),n.copy(r)}function Fh(n,e,t,r,l){let o=n.node(e),u=l?n.indexAfter(e):n.index(e);if(u==o.childCount&&!t.compatibleContent(o.type))return null;let f=r.fillBefore(o.content,!0,u);return f&&!sN(t,o.content,u)?f:null}function sN(n,e,t){for(let r=t;r<e.childCount;r++)if(!n.allowsMarks(e.child(r).marks))return!0;return!1}function oN(n){return n.spec.defining||n.spec.definingForContent}function aN(n,e,t,r){if(!r.size)return n.deleteRange(e,t);let l=n.doc.resolve(e),o=n.doc.resolve(t);if(ax(l,o,r))return n.step(new ht(e,t,r));let u=fx(l,n.doc.resolve(t));u[u.length-1]==0&&u.pop();let f=-(l.depth+1);u.unshift(f);for(let b=l.depth,v=l.pos-1;b>0;b--,v--){let S=l.node(b).type.spec;if(S.defining||S.definingAsContext||S.isolating)break;u.indexOf(b)>-1?f=b:l.before(b)==v&&u.splice(1,0,-b)}let d=u.indexOf(f),h=[],m=r.openStart;for(let b=r.content,v=0;;v++){let S=b.firstChild;if(h.push(S),v==r.openStart)break;b=S.content}for(let b=m-1;b>=0;b--){let v=h[b],S=oN(v.type);if(S&&!v.sameMarkup(l.node(Math.abs(f)-1)))m=b;else if(S||!v.type.isTextblock)break}for(let b=r.openStart;b>=0;b--){let v=(b+m+1)%(r.openStart+1),S=h[v];if(S)for(let T=0;T<u.length;T++){let C=u[(T+d)%u.length],A=!0;C<0&&(A=!1,C=-C);let O=l.node(C-1),_=l.index(C-1);if(O.canReplaceWith(_,_,S.type,S.marks))return n.replace(l.before(C),A?o.after(C):t,new Q(cx(r.content,0,r.openStart,v),v,r.openEnd))}}let y=n.steps.length;for(let b=u.length-1;b>=0&&(n.replace(e,t,r),!(n.steps.length>y));b--){let v=u[b];v<0||(e=l.before(v),t=o.after(v))}}function cx(n,e,t,r,l){if(e<t){let o=n.firstChild;n=n.replaceChild(0,o.copy(cx(o.content,e+1,t,r,o)))}if(e>r){let o=l.contentMatchAt(0),u=o.fillBefore(n).append(n);n=u.append(o.matchFragment(u).fillBefore($.empty,!0))}return n}function uN(n,e,t,r){if(!r.isInline&&e==t&&n.doc.resolve(e).parent.content.size){let l=iN(n.doc,e,r.type);l!=null&&(e=t=l)}n.replaceRange(e,t,new Q($.from(r),0,0))}function cN(n,e,t){let r=n.doc.resolve(e),l=n.doc.resolve(t),o=fx(r,l);for(let u=0;u<o.length;u++){let f=o[u],d=u==o.length-1;if(d&&f==0||r.node(f).type.contentMatch.validEnd)return n.delete(r.start(f),l.end(f));if(f>0&&(d||r.node(f-1).canReplace(r.index(f-1),l.indexAfter(f-1))))return n.delete(r.before(f),l.after(f))}for(let u=1;u<=r.depth&&u<=l.depth;u++)if(e-r.start(u)==r.depth-u&&t>r.end(u)&&l.end(u)-t!=l.depth-u&&r.start(u-1)==l.start(u-1)&&r.node(u-1).canReplace(r.index(u-1),l.index(u-1)))return n.delete(r.before(u),t);n.delete(e,t)}function fx(n,e){let t=[],r=Math.min(n.depth,e.depth);for(let l=r;l>=0;l--){let o=n.start(l);if(o<n.pos-(n.depth-l)||e.end(l)>e.pos+(e.depth-l)||n.node(l).type.spec.isolating||e.node(l).type.spec.isolating)break;(o==e.start(l)||l==n.depth&&l==e.depth&&n.parent.inlineContent&&e.parent.inlineContent&&l&&e.start(l-1)==o-1)&&t.push(l)}return t}class as extends Dt{constructor(e,t,r){super(),this.pos=e,this.attr=t,this.value=r}apply(e){let t=e.nodeAt(this.pos);if(!t)return lt.fail("No node at attribute step's position");let r=Object.create(null);for(let o in t.attrs)r[o]=t.attrs[o];r[this.attr]=this.value;let l=t.type.create(r,null,t.marks);return lt.fromReplace(e,this.pos,this.pos+1,new Q($.from(l),0,t.isLeaf?0:1))}getMap(){return hn.empty}invert(e){return new as(this.pos,this.attr,e.nodeAt(this.pos).attrs[this.attr])}map(e){let t=e.mapResult(this.pos,1);return t.deletedAfter?null:new as(t.pos,this.attr,this.value)}toJSON(){return{stepType:"attr",pos:this.pos,attr:this.attr,value:this.value}}static fromJSON(e,t){if(typeof t.pos!="number"||typeof t.attr!="string")throw new RangeError("Invalid input for AttrStep.fromJSON");return new as(t.pos,t.attr,t.value)}}Dt.jsonID("attr",as);class Jo extends Dt{constructor(e,t){super(),this.attr=e,this.value=t}apply(e){let t=Object.create(null);for(let l in e.attrs)t[l]=e.attrs[l];t[this.attr]=this.value;let r=e.type.create(t,e.content,e.marks);return lt.ok(r)}getMap(){return hn.empty}invert(e){return new Jo(this.attr,e.attrs[this.attr])}map(e){return this}toJSON(){return{stepType:"docAttr",attr:this.attr,value:this.value}}static fromJSON(e,t){if(typeof t.attr!="string")throw new RangeError("Invalid input for DocAttrStep.fromJSON");return new Jo(t.attr,t.value)}}Dt.jsonID("docAttr",Jo);let cs=class extends Error{};cs=function n(e){let t=Error.call(this,e);return t.__proto__=n.prototype,t};cs.prototype=Object.create(Error.prototype);cs.prototype.constructor=cs;cs.prototype.name="TransformError";class dx{constructor(e){this.doc=e,this.steps=[],this.docs=[],this.mapping=new Yo}get before(){return this.docs.length?this.docs[0]:this.doc}step(e){let t=this.maybeStep(e);if(t.failed)throw new cs(t.failed);return this}maybeStep(e){let t=e.apply(this.doc);return t.failed||this.addStep(e,t.doc),t}get docChanged(){return this.steps.length>0}addStep(e,t){this.docs.push(this.doc),this.steps.push(e),this.mapping.appendMap(e.getMap()),this.doc=t}replace(e,t=e,r=Q.empty){let l=Zc(this.doc,e,t,r);return l&&this.step(l),this}replaceWith(e,t,r){return this.replace(e,t,new Q($.from(r),0,0))}delete(e,t){return this.replace(e,t,Q.empty)}insert(e,t){return this.replaceWith(e,e,t)}replaceRange(e,t,r){return aN(this,e,t,r),this}replaceRangeWith(e,t,r){return uN(this,e,t,r),this}deleteRange(e,t){return cN(this,e,t),this}lift(e,t){return YM(this,e,t),this}join(e,t=1){return rN(this,e,t),this}wrap(e,t){return QM(this,e,t),this}setBlockType(e,t=e,r,l=null){return ZM(this,e,t,r,l),this}setNodeMarkup(e,t,r=null,l){return eN(this,e,t,r,l),this}setNodeAttribute(e,t,r){return this.step(new as(e,t,r)),this}setDocAttribute(e,t){return this.step(new Jo(e,t)),this}addNodeMark(e,t){return this.step(new di(e,t)),this}removeNodeMark(e,t){let r=this.doc.nodeAt(e);if(!r)throw new RangeError("No node at position "+e);if(t instanceof He)t.isInSet(r.marks)&&this.step(new ol(e,t));else{let l=r.marks,o,u=[];for(;o=t.isInSet(l);)u.push(new ol(e,o)),l=o.removeFromSet(l);for(let f=u.length-1;f>=0;f--)this.step(u[f])}return this}split(e,t=1,r){return tN(this,e,t,r),this}addMark(e,t,r){return $M(this,e,t,r),this}removeMark(e,t,r){return KM(this,e,t,r),this}clearIncompatible(e,t,r){return ym(this,e,t,r),this}}const $h=Object.create(null);class ge{constructor(e,t,r){this.$anchor=e,this.$head=t,this.ranges=r||[new fN(e.min(t),e.max(t))]}get anchor(){return this.$anchor.pos}get head(){return this.$head.pos}get from(){return this.$from.pos}get to(){return this.$to.pos}get $from(){return this.ranges[0].$from}get $to(){return this.ranges[0].$to}get empty(){let e=this.ranges;for(let t=0;t<e.length;t++)if(e[t].$from.pos!=e[t].$to.pos)return!1;return!0}content(){return this.$from.doc.slice(this.from,this.to,!0)}replace(e,t=Q.empty){let r=t.content.lastChild,l=null;for(let f=0;f<t.openEnd;f++)l=r,r=r.lastChild;let o=e.steps.length,u=this.ranges;for(let f=0;f<u.length;f++){let{$from:d,$to:h}=u[f],m=e.mapping.slice(o);e.replaceRange(m.map(d.pos),m.map(h.pos),f?Q.empty:t),f==0&&L1(e,o,(r?r.isInline:l&&l.isTextblock)?-1:1)}}replaceWith(e,t){let r=e.steps.length,l=this.ranges;for(let o=0;o<l.length;o++){let{$from:u,$to:f}=l[o],d=e.mapping.slice(r),h=d.map(u.pos),m=d.map(f.pos);o?e.deleteRange(h,m):(e.replaceRangeWith(h,m,t),L1(e,r,t.isInline?-1:1))}}static findFrom(e,t,r=!1){let l=e.parent.inlineContent?new he(e):ns(e.node(0),e.parent,e.pos,e.index(),t,r);if(l)return l;for(let o=e.depth-1;o>=0;o--){let u=t<0?ns(e.node(0),e.node(o),e.before(o+1),e.index(o),t,r):ns(e.node(0),e.node(o),e.after(o+1),e.index(o)+1,t,r);if(u)return u}return null}static near(e,t=1){return this.findFrom(e,t)||this.findFrom(e,-t)||new mn(e.node(0))}static atStart(e){return ns(e,e,0,0,1)||new mn(e)}static atEnd(e){return ns(e,e,e.content.size,e.childCount,-1)||new mn(e)}static fromJSON(e,t){if(!t||!t.type)throw new RangeError("Invalid input for Selection.fromJSON");let r=$h[t.type];if(!r)throw new RangeError(`No selection type ${t.type} defined`);return r.fromJSON(e,t)}static jsonID(e,t){if(e in $h)throw new RangeError("Duplicate use of selection JSON ID "+e);return $h[e]=t,t.prototype.jsonID=e,t}getBookmark(){return he.between(this.$anchor,this.$head).getBookmark()}}ge.prototype.visible=!0;class fN{constructor(e,t){this.$from=e,this.$to=t}}let z1=!1;function B1(n){!z1&&!n.parent.inlineContent&&(z1=!0,console.warn("TextSelection endpoint not pointing into a node with inline content ("+n.parent.type.name+")"))}class he extends ge{constructor(e,t=e){B1(e),B1(t),super(e,t)}get $cursor(){return this.$anchor.pos==this.$head.pos?this.$head:null}map(e,t){let r=e.resolve(t.map(this.head));if(!r.parent.inlineContent)return ge.near(r);let l=e.resolve(t.map(this.anchor));return new he(l.parent.inlineContent?l:r,r)}replace(e,t=Q.empty){if(super.replace(e,t),t==Q.empty){let r=this.$from.marksAcross(this.$to);r&&e.ensureMarks(r)}}eq(e){return e instanceof he&&e.anchor==this.anchor&&e.head==this.head}getBookmark(){return new Wc(this.anchor,this.head)}toJSON(){return{type:"text",anchor:this.anchor,head:this.head}}static fromJSON(e,t){if(typeof t.anchor!="number"||typeof t.head!="number")throw new RangeError("Invalid input for TextSelection.fromJSON");return new he(e.resolve(t.anchor),e.resolve(t.head))}static create(e,t,r=t){let l=e.resolve(t);return new this(l,r==t?l:e.resolve(r))}static between(e,t,r){let l=e.pos-t.pos;if((!r||l)&&(r=l>=0?1:-1),!t.parent.inlineContent){let o=ge.findFrom(t,r,!0)||ge.findFrom(t,-r,!0);if(o)t=o.$head;else return ge.near(t,r)}return e.parent.inlineContent||(l==0?e=t:(e=(ge.findFrom(e,-r,!0)||ge.findFrom(e,r,!0)).$anchor,e.pos<t.pos!=l<0&&(e=t))),new he(e,t)}}ge.jsonID("text",he);class Wc{constructor(e,t){this.anchor=e,this.head=t}map(e){return new Wc(e.map(this.anchor),e.map(this.head))}resolve(e){return he.between(e.resolve(this.anchor),e.resolve(this.head))}}class se extends ge{constructor(e){let t=e.nodeAfter,r=e.node(0).resolve(e.pos+t.nodeSize);super(e,r),this.node=t}map(e,t){let{deleted:r,pos:l}=t.mapResult(this.anchor),o=e.resolve(l);return r?ge.near(o):new se(o)}content(){return new Q($.from(this.node),0,0)}eq(e){return e instanceof se&&e.anchor==this.anchor}toJSON(){return{type:"node",anchor:this.anchor}}getBookmark(){return new Sm(this.anchor)}static fromJSON(e,t){if(typeof t.anchor!="number")throw new RangeError("Invalid input for NodeSelection.fromJSON");return new se(e.resolve(t.anchor))}static create(e,t){return new se(e.resolve(t))}static isSelectable(e){return!e.isText&&e.type.spec.selectable!==!1}}se.prototype.visible=!1;ge.jsonID("node",se);class Sm{constructor(e){this.anchor=e}map(e){let{deleted:t,pos:r}=e.mapResult(this.anchor);return t?new Wc(r,r):new Sm(r)}resolve(e){let t=e.resolve(this.anchor),r=t.nodeAfter;return r&&se.isSelectable(r)?new se(t):ge.near(t)}}class mn extends ge{constructor(e){super(e.resolve(0),e.resolve(e.content.size))}replace(e,t=Q.empty){if(t==Q.empty){e.delete(0,e.doc.content.size);let r=ge.atStart(e.doc);r.eq(e.selection)||e.setSelection(r)}else super.replace(e,t)}toJSON(){return{type:"all"}}static fromJSON(e){return new mn(e)}map(e){return new mn(e)}eq(e){return e instanceof mn}getBookmark(){return dN}}ge.jsonID("all",mn);const dN={map(){return this},resolve(n){return new mn(n)}};function ns(n,e,t,r,l,o=!1){if(e.inlineContent)return he.create(n,t);for(let u=r-(l>0?0:1);l>0?u<e.childCount:u>=0;u+=l){let f=e.child(u);if(f.isAtom){if(!o&&se.isSelectable(f))return se.create(n,t-(l<0?f.nodeSize:0))}else{let d=ns(n,f,t+l,l<0?f.childCount:0,l,o);if(d)return d}t+=f.nodeSize*l}return null}function L1(n,e,t){let r=n.steps.length-1;if(r<e)return;let l=n.steps[r];if(!(l instanceof ht||l instanceof pt))return;let o=n.mapping.maps[r],u;o.forEach((f,d,h,m)=>{u==null&&(u=m)}),n.setSelection(ge.near(n.doc.resolve(u),t))}const j1=1,_1=2,P1=4;class hN extends dx{constructor(e){super(e.doc),this.curSelectionFor=0,this.updated=0,this.meta=Object.create(null),this.time=Date.now(),this.curSelection=e.selection,this.storedMarks=e.storedMarks}get selection(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection}setSelection(e){if(e.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=e,this.curSelectionFor=this.steps.length,this.updated=(this.updated|j1)&-3,this.storedMarks=null,this}get selectionSet(){return(this.updated&j1)>0}setStoredMarks(e){return this.storedMarks=e,this.updated|=_1,this}ensureMarks(e){return He.sameSet(this.storedMarks||this.selection.$from.marks(),e)||this.setStoredMarks(e),this}addStoredMark(e){return this.ensureMarks(e.addToSet(this.storedMarks||this.selection.$head.marks()))}removeStoredMark(e){return this.ensureMarks(e.removeFromSet(this.storedMarks||this.selection.$head.marks()))}get storedMarksSet(){return(this.updated&_1)>0}addStep(e,t){super.addStep(e,t),this.updated=this.updated&-3,this.storedMarks=null}setTime(e){return this.time=e,this}replaceSelection(e){return this.selection.replace(this,e),this}replaceSelectionWith(e,t=!0){let r=this.selection;return t&&(e=e.mark(this.storedMarks||(r.empty?r.$from.marks():r.$from.marksAcross(r.$to)||He.none))),r.replaceWith(this,e),this}deleteSelection(){return this.selection.replace(this),this}insertText(e,t,r){let l=this.doc.type.schema;if(t==null)return e?this.replaceSelectionWith(l.text(e),!0):this.deleteSelection();{if(r==null&&(r=t),r=r??t,!e)return this.deleteRange(t,r);let o=this.storedMarks;if(!o){let u=this.doc.resolve(t);o=r==t?u.marks():u.marksAcross(this.doc.resolve(r))}return this.replaceRangeWith(t,r,l.text(e,o)),this.selection.empty||this.setSelection(ge.near(this.selection.$to)),this}}setMeta(e,t){return this.meta[typeof e=="string"?e:e.key]=t,this}getMeta(e){return this.meta[typeof e=="string"?e:e.key]}get isGeneric(){for(let e in this.meta)return!1;return!0}scrollIntoView(){return this.updated|=P1,this}get scrolledIntoView(){return(this.updated&P1)>0}}function H1(n,e){return!e||!n?n:n.bind(e)}class Do{constructor(e,t,r){this.name=e,this.init=H1(t.init,r),this.apply=H1(t.apply,r)}}const pN=[new Do("doc",{init(n){return n.doc||n.schema.topNodeType.createAndFill()},apply(n){return n.doc}}),new Do("selection",{init(n,e){return n.selection||ge.atStart(e.doc)},apply(n){return n.selection}}),new Do("storedMarks",{init(n){return n.storedMarks||null},apply(n,e,t,r){return r.selection.$cursor?n.storedMarks:null}}),new Do("scrollToSelection",{init(){return 0},apply(n,e){return n.scrolledIntoView?e+1:e}})];class Kh{constructor(e,t){this.schema=e,this.plugins=[],this.pluginsByKey=Object.create(null),this.fields=pN.slice(),t&&t.forEach(r=>{if(this.pluginsByKey[r.key])throw new RangeError("Adding different instances of a keyed plugin ("+r.key+")");this.plugins.push(r),this.pluginsByKey[r.key]=r,r.spec.state&&this.fields.push(new Do(r.key,r.spec.state,r))})}}class ls{constructor(e){this.config=e}get schema(){return this.config.schema}get plugins(){return this.config.plugins}apply(e){return this.applyTransaction(e).state}filterTransaction(e,t=-1){for(let r=0;r<this.config.plugins.length;r++)if(r!=t){let l=this.config.plugins[r];if(l.spec.filterTransaction&&!l.spec.filterTransaction.call(l,e,this))return!1}return!0}applyTransaction(e){if(!this.filterTransaction(e))return{state:this,transactions:[]};let t=[e],r=this.applyInner(e),l=null;for(;;){let o=!1;for(let u=0;u<this.config.plugins.length;u++){let f=this.config.plugins[u];if(f.spec.appendTransaction){let d=l?l[u].n:0,h=l?l[u].state:this,m=d<t.length&&f.spec.appendTransaction.call(f,d?t.slice(d):t,h,r);if(m&&r.filterTransaction(m,u)){if(m.setMeta("appendedTransaction",e),!l){l=[];for(let y=0;y<this.config.plugins.length;y++)l.push(y<u?{state:r,n:t.length}:{state:this,n:0})}t.push(m),r=r.applyInner(m),o=!0}l&&(l[u]={state:r,n:t.length})}}if(!o)return{state:r,transactions:t}}}applyInner(e){if(!e.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");let t=new ls(this.config),r=this.config.fields;for(let l=0;l<r.length;l++){let o=r[l];t[o.name]=o.apply(e,this[o.name],this,t)}return t}get tr(){return new hN(this)}static create(e){let t=new Kh(e.doc?e.doc.type.schema:e.schema,e.plugins),r=new ls(t);for(let l=0;l<t.fields.length;l++)r[t.fields[l].name]=t.fields[l].init(e,r);return r}reconfigure(e){let t=new Kh(this.schema,e.plugins),r=t.fields,l=new ls(t);for(let o=0;o<r.length;o++){let u=r[o].name;l[u]=this.hasOwnProperty(u)?this[u]:r[o].init(e,l)}return l}toJSON(e){let t={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(t.storedMarks=this.storedMarks.map(r=>r.toJSON())),e&&typeof e=="object")for(let r in e){if(r=="doc"||r=="selection")throw new RangeError("The JSON fields `doc` and `selection` are reserved");let l=e[r],o=l.spec.state;o&&o.toJSON&&(t[r]=o.toJSON.call(l,this[l.key]))}return t}static fromJSON(e,t,r){if(!t)throw new RangeError("Invalid input for EditorState.fromJSON");if(!e.schema)throw new RangeError("Required config field 'schema' missing");let l=new Kh(e.schema,e.plugins),o=new ls(l);return l.fields.forEach(u=>{if(u.name=="doc")o.doc=pi.fromJSON(e.schema,t.doc);else if(u.name=="selection")o.selection=ge.fromJSON(o.doc,t.selection);else if(u.name=="storedMarks")t.storedMarks&&(o.storedMarks=t.storedMarks.map(e.schema.markFromJSON));else{if(r)for(let f in r){let d=r[f],h=d.spec.state;if(d.key==u.name&&h&&h.fromJSON&&Object.prototype.hasOwnProperty.call(t,f)){o[u.name]=h.fromJSON.call(d,e,t[f],o);return}}o[u.name]=u.init(e,o)}}),o}}function hx(n,e,t){for(let r in n){let l=n[r];l instanceof Function?l=l.bind(e):r=="handleDOMEvents"&&(l=hx(l,e,{})),t[r]=l}return t}class Tt{constructor(e){this.spec=e,this.props={},e.props&&hx(e.props,this,this.props),this.key=e.key?e.key.key:px("plugin")}getState(e){return e[this.key]}}const Gh=Object.create(null);function px(n){return n in Gh?n+"$"+ ++Gh[n]:(Gh[n]=0,n+"$")}class gn{constructor(e="key"){this.key=px(e)}get(e){return e.config.pluginsByKey[this.key]}getState(e){return e[this.key]}}const xt=function(n){for(var e=0;;e++)if(n=n.previousSibling,!n)return e},fs=function(n){let e=n.assignedSlot||n.parentNode;return e&&e.nodeType==11?e.host:e};let Dp=null;const Tr=function(n,e,t){let r=Dp||(Dp=document.createRange());return r.setEnd(n,t??n.nodeValue.length),r.setStart(n,e||0),r},mN=function(){Dp=null},al=function(n,e,t,r){return t&&(U1(n,e,t,r,-1)||U1(n,e,t,r,1))},gN=/^(img|br|input|textarea|hr)$/i;function U1(n,e,t,r,l){for(;;){if(n==t&&e==r)return!0;if(e==(l<0?0:Nn(n))){let o=n.parentNode;if(!o||o.nodeType!=1||aa(n)||gN.test(n.nodeName)||n.contentEditable=="false")return!1;e=xt(n)+(l<0?0:1),n=o}else if(n.nodeType==1){if(n=n.childNodes[e+(l<0?-1:0)],n.contentEditable=="false")return!1;e=l<0?Nn(n):0}else return!1}}function Nn(n){return n.nodeType==3?n.nodeValue.length:n.childNodes.length}function yN(n,e){for(;;){if(n.nodeType==3&&e)return n;if(n.nodeType==1&&e>0){if(n.contentEditable=="false")return null;n=n.childNodes[e-1],e=Nn(n)}else if(n.parentNode&&!aa(n))e=xt(n),n=n.parentNode;else return null}}function bN(n,e){for(;;){if(n.nodeType==3&&e<n.nodeValue.length)return n;if(n.nodeType==1&&e<n.childNodes.length){if(n.contentEditable=="false")return null;n=n.childNodes[e],e=0}else if(n.parentNode&&!aa(n))e=xt(n)+1,n=n.parentNode;else return null}}function SN(n,e,t){for(let r=e==0,l=e==Nn(n);r||l;){if(n==t)return!0;let o=xt(n);if(n=n.parentNode,!n)return!1;r=r&&o==0,l=l&&o==Nn(n)}}function aa(n){let e;for(let t=n;t&&!(e=t.pmViewDesc);t=t.parentNode);return e&&e.node&&e.node.isBlock&&(e.dom==n||e.contentDOM==n)}const ef=function(n){return n.focusNode&&al(n.focusNode,n.focusOffset,n.anchorNode,n.anchorOffset)};function $i(n,e){let t=document.createEvent("Event");return t.initEvent("keydown",!0,!0),t.keyCode=n,t.key=t.code=e,t}function vN(n){let e=n.activeElement;for(;e&&e.shadowRoot;)e=e.shadowRoot.activeElement;return e}function xN(n,e,t){if(n.caretPositionFromPoint)try{let r=n.caretPositionFromPoint(e,t);if(r)return{node:r.offsetNode,offset:Math.min(Nn(r.offsetNode),r.offset)}}catch{}if(n.caretRangeFromPoint){let r=n.caretRangeFromPoint(e,t);if(r)return{node:r.startContainer,offset:Math.min(Nn(r.startContainer),r.startOffset)}}}const er=typeof navigator<"u"?navigator:null,V1=typeof document<"u"?document:null,Ei=er&&er.userAgent||"",zp=/Edge\/(\d+)/.exec(Ei),mx=/MSIE \d/.exec(Ei),Bp=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(Ei),en=!!(mx||Bp||zp),gi=mx?document.documentMode:Bp?+Bp[1]:zp?+zp[1]:0,Hn=!en&&/gecko\/(\d+)/i.test(Ei);Hn&&+(/Firefox\/(\d+)/.exec(Ei)||[0,0])[1];const Lp=!en&&/Chrome\/(\d+)/.exec(Ei),Rt=!!Lp,gx=Lp?+Lp[1]:0,It=!en&&!!er&&/Apple Computer/.test(er.vendor),ds=It&&(/Mobile\/\w+/.test(Ei)||!!er&&er.maxTouchPoints>2),Mn=ds||(er?/Mac/.test(er.platform):!1),CN=er?/Win/.test(er.platform):!1,Ar=/Android \d/.test(Ei),ua=!!V1&&"webkitFontSmoothing"in V1.documentElement.style,EN=ua?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0;function TN(n){let e=n.defaultView&&n.defaultView.visualViewport;return e?{left:0,right:e.width,top:0,bottom:e.height}:{left:0,right:n.documentElement.clientWidth,top:0,bottom:n.documentElement.clientHeight}}function vr(n,e){return typeof n=="number"?n:n[e]}function kN(n){let e=n.getBoundingClientRect(),t=e.width/n.offsetWidth||1,r=e.height/n.offsetHeight||1;return{left:e.left,right:e.left+n.clientWidth*t,top:e.top,bottom:e.top+n.clientHeight*r}}function q1(n,e,t){let r=n.someProp("scrollThreshold")||0,l=n.someProp("scrollMargin")||5,o=n.dom.ownerDocument;for(let u=t||n.dom;u;){if(u.nodeType!=1){u=fs(u);continue}let f=u,d=f==o.body,h=d?TN(o):kN(f),m=0,y=0;if(e.top<h.top+vr(r,"top")?y=-(h.top-e.top+vr(l,"top")):e.bottom>h.bottom-vr(r,"bottom")&&(y=e.bottom-e.top>h.bottom-h.top?e.top+vr(l,"top")-h.top:e.bottom-h.bottom+vr(l,"bottom")),e.left<h.left+vr(r,"left")?m=-(h.left-e.left+vr(l,"left")):e.right>h.right-vr(r,"right")&&(m=e.right-h.right+vr(l,"right")),m||y)if(d)o.defaultView.scrollBy(m,y);else{let v=f.scrollLeft,S=f.scrollTop;y&&(f.scrollTop+=y),m&&(f.scrollLeft+=m);let T=f.scrollLeft-v,C=f.scrollTop-S;e={left:e.left-T,top:e.top-C,right:e.right-T,bottom:e.bottom-C}}let b=d?"fixed":getComputedStyle(u).position;if(/^(fixed|sticky)$/.test(b))break;u=b=="absolute"?u.offsetParent:fs(u)}}function AN(n){let e=n.dom.getBoundingClientRect(),t=Math.max(0,e.top),r,l;for(let o=(e.left+e.right)/2,u=t+1;u<Math.min(innerHeight,e.bottom);u+=5){let f=n.root.elementFromPoint(o,u);if(!f||f==n.dom||!n.dom.contains(f))continue;let d=f.getBoundingClientRect();if(d.top>=t-20){r=f,l=d.top;break}}return{refDOM:r,refTop:l,stack:yx(n.dom)}}function yx(n){let e=[],t=n.ownerDocument;for(let r=n;r&&(e.push({dom:r,top:r.scrollTop,left:r.scrollLeft}),n!=t);r=fs(r));return e}function wN({refDOM:n,refTop:e,stack:t}){let r=n?n.getBoundingClientRect().top:0;bx(t,r==0?0:r-e)}function bx(n,e){for(let t=0;t<n.length;t++){let{dom:r,top:l,left:o}=n[t];r.scrollTop!=l+e&&(r.scrollTop=l+e),r.scrollLeft!=o&&(r.scrollLeft=o)}}let es=null;function ON(n){if(n.setActive)return n.setActive();if(es)return n.focus(es);let e=yx(n);n.focus(es==null?{get preventScroll(){return es={preventScroll:!0},!0}}:void 0),es||(es=!1,bx(e,0))}function Sx(n,e){let t,r=2e8,l,o=0,u=e.top,f=e.top,d,h;for(let m=n.firstChild,y=0;m;m=m.nextSibling,y++){let b;if(m.nodeType==1)b=m.getClientRects();else if(m.nodeType==3)b=Tr(m).getClientRects();else continue;for(let v=0;v<b.length;v++){let S=b[v];if(S.top<=u&&S.bottom>=f){u=Math.max(S.bottom,u),f=Math.min(S.top,f);let T=S.left>e.left?S.left-e.left:S.right<e.left?e.left-S.right:0;if(T<r){t=m,r=T,l=T&&t.nodeType==3?{left:S.right<e.left?S.right:S.left,top:e.top}:e,m.nodeType==1&&T&&(o=y+(e.left>=(S.left+S.right)/2?1:0));continue}}else S.top>e.top&&!d&&S.left<=e.left&&S.right>=e.left&&(d=m,h={left:Math.max(S.left,Math.min(S.right,e.left)),top:S.top});!t&&(e.left>=S.right&&e.top>=S.top||e.left>=S.left&&e.top>=S.bottom)&&(o=y+1)}}return!t&&d&&(t=d,l=h,r=0),t&&t.nodeType==3?MN(t,l):!t||r&&t.nodeType==1?{node:n,offset:o}:Sx(t,l)}function MN(n,e){let t=n.nodeValue.length,r=document.createRange();for(let l=0;l<t;l++){r.setEnd(n,l+1),r.setStart(n,l);let o=ii(r,1);if(o.top!=o.bottom&&vm(e,o))return{node:n,offset:l+(e.left>=(o.left+o.right)/2?1:0)}}return{node:n,offset:0}}function vm(n,e){return n.left>=e.left-1&&n.left<=e.right+1&&n.top>=e.top-1&&n.top<=e.bottom+1}function NN(n,e){let t=n.parentNode;return t&&/^li$/i.test(t.nodeName)&&e.left<n.getBoundingClientRect().left?t:n}function RN(n,e,t){let{node:r,offset:l}=Sx(e,t),o=-1;if(r.nodeType==1&&!r.firstChild){let u=r.getBoundingClientRect();o=u.left!=u.right&&t.left>(u.left+u.right)/2?1:-1}return n.docView.posFromDOM(r,l,o)}function DN(n,e,t,r){let l=-1;for(let o=e,u=!1;o!=n.dom;){let f=n.docView.nearestDesc(o,!0),d;if(!f)return null;if(f.dom.nodeType==1&&(f.node.isBlock&&f.parent||!f.contentDOM)&&((d=f.dom.getBoundingClientRect()).width||d.height)&&(f.node.isBlock&&f.parent&&(!u&&d.left>r.left||d.top>r.top?l=f.posBefore:(!u&&d.right<r.left||d.bottom<r.top)&&(l=f.posAfter),u=!0),!f.contentDOM&&l<0&&!f.node.isText))return(f.node.isBlock?r.top<(d.top+d.bottom)/2:r.left<(d.left+d.right)/2)?f.posBefore:f.posAfter;o=f.dom.parentNode}return l>-1?l:n.docView.posFromDOM(e,t,-1)}function vx(n,e,t){let r=n.childNodes.length;if(r&&t.top<t.bottom)for(let l=Math.max(0,Math.min(r-1,Math.floor(r*(e.top-t.top)/(t.bottom-t.top))-2)),o=l;;){let u=n.childNodes[o];if(u.nodeType==1){let f=u.getClientRects();for(let d=0;d<f.length;d++){let h=f[d];if(vm(e,h))return vx(u,e,h)}}if((o=(o+1)%r)==l)break}return n}function zN(n,e){let t=n.dom.ownerDocument,r,l=0,o=xN(t,e.left,e.top);o&&({node:r,offset:l}=o);let u=(n.root.elementFromPoint?n.root:t).elementFromPoint(e.left,e.top),f;if(!u||!n.dom.contains(u.nodeType!=1?u.parentNode:u)){let h=n.dom.getBoundingClientRect();if(!vm(e,h)||(u=vx(n.dom,e,h),!u))return null}if(It)for(let h=u;r&&h;h=fs(h))h.draggable&&(r=void 0);if(u=NN(u,e),r){if(Hn&&r.nodeType==1&&(l=Math.min(l,r.childNodes.length),l<r.childNodes.length)){let m=r.childNodes[l],y;m.nodeName=="IMG"&&(y=m.getBoundingClientRect()).right<=e.left&&y.bottom>e.top&&l++}let h;ua&&l&&r.nodeType==1&&(h=r.childNodes[l-1]).nodeType==1&&h.contentEditable=="false"&&h.getBoundingClientRect().top>=e.top&&l--,r==n.dom&&l==r.childNodes.length-1&&r.lastChild.nodeType==1&&e.top>r.lastChild.getBoundingClientRect().bottom?f=n.state.doc.content.size:(l==0||r.nodeType!=1||r.childNodes[l-1].nodeName!="BR")&&(f=DN(n,r,l,e))}f==null&&(f=RN(n,u,e));let d=n.docView.nearestDesc(u,!0);return{pos:f,inside:d?d.posAtStart-d.border:-1}}function I1(n){return n.top<n.bottom||n.left<n.right}function ii(n,e){let t=n.getClientRects();if(t.length){let r=t[e<0?0:t.length-1];if(I1(r))return r}return Array.prototype.find.call(t,I1)||n.getBoundingClientRect()}const BN=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function xx(n,e,t){let{node:r,offset:l,atom:o}=n.docView.domFromPos(e,t<0?-1:1),u=ua||Hn;if(r.nodeType==3)if(u&&(BN.test(r.nodeValue)||(t<0?!l:l==r.nodeValue.length))){let d=ii(Tr(r,l,l),t);if(Hn&&l&&/\s/.test(r.nodeValue[l-1])&&l<r.nodeValue.length){let h=ii(Tr(r,l-1,l-1),-1);if(h.top==d.top){let m=ii(Tr(r,l,l+1),-1);if(m.top!=d.top)return wo(m,m.left<h.left)}}return d}else{let d=l,h=l,m=t<0?1:-1;return t<0&&!l?(h++,m=-1):t>=0&&l==r.nodeValue.length?(d--,m=1):t<0?d--:h++,wo(ii(Tr(r,d,h),m),m<0)}if(!n.state.doc.resolve(e-(o||0)).parent.inlineContent){if(o==null&&l&&(t<0||l==Nn(r))){let d=r.childNodes[l-1];if(d.nodeType==1)return Yh(d.getBoundingClientRect(),!1)}if(o==null&&l<Nn(r)){let d=r.childNodes[l];if(d.nodeType==1)return Yh(d.getBoundingClientRect(),!0)}return Yh(r.getBoundingClientRect(),t>=0)}if(o==null&&l&&(t<0||l==Nn(r))){let d=r.childNodes[l-1],h=d.nodeType==3?Tr(d,Nn(d)-(u?0:1)):d.nodeType==1&&(d.nodeName!="BR"||!d.nextSibling)?d:null;if(h)return wo(ii(h,1),!1)}if(o==null&&l<Nn(r)){let d=r.childNodes[l];for(;d.pmViewDesc&&d.pmViewDesc.ignoreForCoords;)d=d.nextSibling;let h=d?d.nodeType==3?Tr(d,0,u?0:1):d.nodeType==1?d:null:null;if(h)return wo(ii(h,-1),!0)}return wo(ii(r.nodeType==3?Tr(r):r,-t),t>=0)}function wo(n,e){if(n.width==0)return n;let t=e?n.left:n.right;return{top:n.top,bottom:n.bottom,left:t,right:t}}function Yh(n,e){if(n.height==0)return n;let t=e?n.top:n.bottom;return{top:t,bottom:t,left:n.left,right:n.right}}function Cx(n,e,t){let r=n.state,l=n.root.activeElement;r!=e&&n.updateState(e),l!=n.dom&&n.focus();try{return t()}finally{r!=e&&n.updateState(r),l!=n.dom&&l&&l.focus()}}function LN(n,e,t){let r=e.selection,l=t=="up"?r.$from:r.$to;return Cx(n,e,()=>{let{node:o}=n.docView.domFromPos(l.pos,t=="up"?-1:1);for(;;){let f=n.docView.nearestDesc(o,!0);if(!f)break;if(f.node.isBlock){o=f.contentDOM||f.dom;break}o=f.dom.parentNode}let u=xx(n,l.pos,1);for(let f=o.firstChild;f;f=f.nextSibling){let d;if(f.nodeType==1)d=f.getClientRects();else if(f.nodeType==3)d=Tr(f,0,f.nodeValue.length).getClientRects();else continue;for(let h=0;h<d.length;h++){let m=d[h];if(m.bottom>m.top+1&&(t=="up"?u.top-m.top>(m.bottom-u.top)*2:m.bottom-u.bottom>(u.bottom-m.top)*2))return!1}}return!0})}const jN=/[\u0590-\u08ac]/;function _N(n,e,t){let{$head:r}=e.selection;if(!r.parent.isTextblock)return!1;let l=r.parentOffset,o=!l,u=l==r.parent.content.size,f=n.domSelection();return f?!jN.test(r.parent.textContent)||!f.modify?t=="left"||t=="backward"?o:u:Cx(n,e,()=>{let{focusNode:d,focusOffset:h,anchorNode:m,anchorOffset:y}=n.domSelectionRange(),b=f.caretBidiLevel;f.modify("move",t,"character");let v=r.depth?n.docView.domAfterPos(r.before()):n.dom,{focusNode:S,focusOffset:T}=n.domSelectionRange(),C=S&&!v.contains(S.nodeType==1?S:S.parentNode)||d==S&&h==T;try{f.collapse(m,y),d&&(d!=m||h!=y)&&f.extend&&f.extend(d,h)}catch{}return b!=null&&(f.caretBidiLevel=b),C}):r.pos==r.start()||r.pos==r.end()}let F1=null,$1=null,K1=!1;function PN(n,e,t){return F1==e&&$1==t?K1:(F1=e,$1=t,K1=t=="up"||t=="down"?LN(n,e,t):_N(n,e,t))}const Dn=0,G1=1,Ji=2,tr=3;class ca{constructor(e,t,r,l){this.parent=e,this.children=t,this.dom=r,this.contentDOM=l,this.dirty=Dn,r.pmViewDesc=this}matchesWidget(e){return!1}matchesMark(e){return!1}matchesNode(e,t,r){return!1}matchesHack(e){return!1}parseRule(){return null}stopEvent(e){return!1}get size(){let e=0;for(let t=0;t<this.children.length;t++)e+=this.children[t].size;return e}get border(){return 0}destroy(){this.parent=void 0,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=void 0);for(let e=0;e<this.children.length;e++)this.children[e].destroy()}posBeforeChild(e){for(let t=0,r=this.posAtStart;;t++){let l=this.children[t];if(l==e)return r;r+=l.size}}get posBefore(){return this.parent.posBeforeChild(this)}get posAtStart(){return this.parent?this.parent.posBeforeChild(this)+this.border:0}get posAfter(){return this.posBefore+this.size}get posAtEnd(){return this.posAtStart+this.size-2*this.border}localPosFromDOM(e,t,r){if(this.contentDOM&&this.contentDOM.contains(e.nodeType==1?e:e.parentNode))if(r<0){let o,u;if(e==this.contentDOM)o=e.childNodes[t-1];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;o=e.previousSibling}for(;o&&!((u=o.pmViewDesc)&&u.parent==this);)o=o.previousSibling;return o?this.posBeforeChild(u)+u.size:this.posAtStart}else{let o,u;if(e==this.contentDOM)o=e.childNodes[t];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;o=e.nextSibling}for(;o&&!((u=o.pmViewDesc)&&u.parent==this);)o=o.nextSibling;return o?this.posBeforeChild(u):this.posAtEnd}let l;if(e==this.dom&&this.contentDOM)l=t>xt(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))l=e.compareDocumentPosition(this.contentDOM)&2;else if(this.dom.firstChild){if(t==0)for(let o=e;;o=o.parentNode){if(o==this.dom){l=!1;break}if(o.previousSibling)break}if(l==null&&t==e.childNodes.length)for(let o=e;;o=o.parentNode){if(o==this.dom){l=!0;break}if(o.nextSibling)break}}return l??r>0?this.posAtEnd:this.posAtStart}nearestDesc(e,t=!1){for(let r=!0,l=e;l;l=l.parentNode){let o=this.getDesc(l),u;if(o&&(!t||o.node))if(r&&(u=o.nodeDOM)&&!(u.nodeType==1?u.contains(e.nodeType==1?e:e.parentNode):u==e))r=!1;else return o}}getDesc(e){let t=e.pmViewDesc;for(let r=t;r;r=r.parent)if(r==this)return t}posFromDOM(e,t,r){for(let l=e;l;l=l.parentNode){let o=this.getDesc(l);if(o)return o.localPosFromDOM(e,t,r)}return-1}descAt(e){for(let t=0,r=0;t<this.children.length;t++){let l=this.children[t],o=r+l.size;if(r==e&&o!=r){for(;!l.border&&l.children.length;)for(let u=0;u<l.children.length;u++){let f=l.children[u];if(f.size){l=f;break}}return l}if(e<o)return l.descAt(e-r-l.border);r=o}}domFromPos(e,t){if(!this.contentDOM)return{node:this.dom,offset:0,atom:e+1};let r=0,l=0;for(let o=0;r<this.children.length;r++){let u=this.children[r],f=o+u.size;if(f>e||u instanceof Tx){l=e-o;break}o=f}if(l)return this.children[r].domFromPos(l-this.children[r].border,t);for(let o;r&&!(o=this.children[r-1]).size&&o instanceof Ex&&o.side>=0;r--);if(t<=0){let o,u=!0;for(;o=r?this.children[r-1]:null,!(!o||o.dom.parentNode==this.contentDOM);r--,u=!1);return o&&t&&u&&!o.border&&!o.domAtom?o.domFromPos(o.size,t):{node:this.contentDOM,offset:o?xt(o.dom)+1:0}}else{let o,u=!0;for(;o=r<this.children.length?this.children[r]:null,!(!o||o.dom.parentNode==this.contentDOM);r++,u=!1);return o&&u&&!o.border&&!o.domAtom?o.domFromPos(0,t):{node:this.contentDOM,offset:o?xt(o.dom):this.contentDOM.childNodes.length}}}parseRange(e,t,r=0){if(this.children.length==0)return{node:this.contentDOM,from:e,to:t,fromOffset:0,toOffset:this.contentDOM.childNodes.length};let l=-1,o=-1;for(let u=r,f=0;;f++){let d=this.children[f],h=u+d.size;if(l==-1&&e<=h){let m=u+d.border;if(e>=m&&t<=h-d.border&&d.node&&d.contentDOM&&this.contentDOM.contains(d.contentDOM))return d.parseRange(e,t,m);e=u;for(let y=f;y>0;y--){let b=this.children[y-1];if(b.size&&b.dom.parentNode==this.contentDOM&&!b.emptyChildAt(1)){l=xt(b.dom)+1;break}e-=b.size}l==-1&&(l=0)}if(l>-1&&(h>t||f==this.children.length-1)){t=h;for(let m=f+1;m<this.children.length;m++){let y=this.children[m];if(y.size&&y.dom.parentNode==this.contentDOM&&!y.emptyChildAt(-1)){o=xt(y.dom);break}t+=y.size}o==-1&&(o=this.contentDOM.childNodes.length);break}u=h}return{node:this.contentDOM,from:e,to:t,fromOffset:l,toOffset:o}}emptyChildAt(e){if(this.border||!this.contentDOM||!this.children.length)return!1;let t=this.children[e<0?0:this.children.length-1];return t.size==0||t.emptyChildAt(e)}domAfterPos(e){let{node:t,offset:r}=this.domFromPos(e,0);if(t.nodeType!=1||r==t.childNodes.length)throw new RangeError("No node after pos "+e);return t.childNodes[r]}setSelection(e,t,r,l=!1){let o=Math.min(e,t),u=Math.max(e,t);for(let v=0,S=0;v<this.children.length;v++){let T=this.children[v],C=S+T.size;if(o>S&&u<C)return T.setSelection(e-S-T.border,t-S-T.border,r,l);S=C}let f=this.domFromPos(e,e?-1:1),d=t==e?f:this.domFromPos(t,t?-1:1),h=r.root.getSelection(),m=r.domSelectionRange(),y=!1;if((Hn||It)&&e==t){let{node:v,offset:S}=f;if(v.nodeType==3){if(y=!!(S&&v.nodeValue[S-1]==`
`),y&&S==v.nodeValue.length)for(let T=v,C;T;T=T.parentNode){if(C=T.nextSibling){C.nodeName=="BR"&&(f=d={node:C.parentNode,offset:xt(C)+1});break}let A=T.pmViewDesc;if(A&&A.node&&A.node.isBlock)break}}else{let T=v.childNodes[S-1];y=T&&(T.nodeName=="BR"||T.contentEditable=="false")}}if(Hn&&m.focusNode&&m.focusNode!=d.node&&m.focusNode.nodeType==1){let v=m.focusNode.childNodes[m.focusOffset];v&&v.contentEditable=="false"&&(l=!0)}if(!(l||y&&It)&&al(f.node,f.offset,m.anchorNode,m.anchorOffset)&&al(d.node,d.offset,m.focusNode,m.focusOffset))return;let b=!1;if((h.extend||e==t)&&!y){h.collapse(f.node,f.offset);try{e!=t&&h.extend(d.node,d.offset),b=!0}catch{}}if(!b){if(e>t){let S=f;f=d,d=S}let v=document.createRange();v.setEnd(d.node,d.offset),v.setStart(f.node,f.offset),h.removeAllRanges(),h.addRange(v)}}ignoreMutation(e){return!this.contentDOM&&e.type!="selection"}get contentLost(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)}markDirty(e,t){for(let r=0,l=0;l<this.children.length;l++){let o=this.children[l],u=r+o.size;if(r==u?e<=u&&t>=r:e<u&&t>r){let f=r+o.border,d=u-o.border;if(e>=f&&t<=d){this.dirty=e==r||t==u?Ji:G1,e==f&&t==d&&(o.contentLost||o.dom.parentNode!=this.contentDOM)?o.dirty=tr:o.markDirty(e-f,t-f);return}else o.dirty=o.dom==o.contentDOM&&o.dom.parentNode==this.contentDOM&&!o.children.length?Ji:tr}r=u}this.dirty=Ji}markParentsDirty(){let e=1;for(let t=this.parent;t;t=t.parent,e++){let r=e==1?Ji:G1;t.dirty<r&&(t.dirty=r)}}get domAtom(){return!1}get ignoreForCoords(){return!1}isText(e){return!1}}class Ex extends ca{constructor(e,t,r,l){let o,u=t.type.toDOM;if(typeof u=="function"&&(u=u(r,()=>{if(!o)return l;if(o.parent)return o.parent.posBeforeChild(o)})),!t.type.spec.raw){if(u.nodeType!=1){let f=document.createElement("span");f.appendChild(u),u=f}u.contentEditable="false",u.classList.add("ProseMirror-widget")}super(e,[],u,null),this.widget=t,this.widget=t,o=this}matchesWidget(e){return this.dirty==Dn&&e.type.eq(this.widget.type)}parseRule(){return{ignore:!0}}stopEvent(e){let t=this.widget.spec.stopEvent;return t?t(e):!1}ignoreMutation(e){return e.type!="selection"||this.widget.spec.ignoreSelection}destroy(){this.widget.type.destroy(this.dom),super.destroy()}get domAtom(){return!0}get side(){return this.widget.type.side}}class HN extends ca{constructor(e,t,r,l){super(e,[],t,null),this.textDOM=r,this.text=l}get size(){return this.text.length}localPosFromDOM(e,t){return e!=this.textDOM?this.posAtStart+(t?this.size:0):this.posAtStart+t}domFromPos(e){return{node:this.textDOM,offset:e}}ignoreMutation(e){return e.type==="characterData"&&e.target.nodeValue==e.oldValue}}class ul extends ca{constructor(e,t,r,l,o){super(e,[],r,l),this.mark=t,this.spec=o}static create(e,t,r,l){let o=l.nodeViews[t.type.name],u=o&&o(t,l,r);return(!u||!u.dom)&&(u=dl.renderSpec(document,t.type.spec.toDOM(t,r),null,t.attrs)),new ul(e,t,u.dom,u.contentDOM||u.dom,u)}parseRule(){return this.dirty&tr||this.mark.type.spec.reparseInView?null:{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM}}matchesMark(e){return this.dirty!=tr&&this.mark.eq(e)}markDirty(e,t){if(super.markDirty(e,t),this.dirty!=Dn){let r=this.parent;for(;!r.node;)r=r.parent;r.dirty<this.dirty&&(r.dirty=this.dirty),this.dirty=Dn}}slice(e,t,r){let l=ul.create(this.parent,this.mark,!0,r),o=this.children,u=this.size;t<u&&(o=_p(o,t,u,r)),e>0&&(o=_p(o,0,e,r));for(let f=0;f<o.length;f++)o[f].parent=l;return l.children=o,l}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}}class yi extends ca{constructor(e,t,r,l,o,u,f,d,h){super(e,[],o,u),this.node=t,this.outerDeco=r,this.innerDeco=l,this.nodeDOM=f}static create(e,t,r,l,o,u){let f=o.nodeViews[t.type.name],d,h=f&&f(t,o,()=>{if(!d)return u;if(d.parent)return d.parent.posBeforeChild(d)},r,l),m=h&&h.dom,y=h&&h.contentDOM;if(t.isText){if(!m)m=document.createTextNode(t.text);else if(m.nodeType!=3)throw new RangeError("Text must be rendered as a DOM text node")}else m||({dom:m,contentDOM:y}=dl.renderSpec(document,t.type.spec.toDOM(t),null,t.attrs));!y&&!t.isText&&m.nodeName!="BR"&&(m.hasAttribute("contenteditable")||(m.contentEditable="false"),t.type.spec.draggable&&(m.draggable=!0));let b=m;return m=wx(m,r,t),h?d=new UN(e,t,r,l,m,y||null,b,h,o,u+1):t.isText?new tf(e,t,r,l,m,b,o):new yi(e,t,r,l,m,y||null,b,o,u+1)}parseRule(){if(this.node.type.spec.reparseInView)return null;let e={node:this.node.type.name,attrs:this.node.attrs};if(this.node.type.whitespace=="pre"&&(e.preserveWhitespace="full"),!this.contentDOM)e.getContent=()=>this.node.content;else if(!this.contentLost)e.contentElement=this.contentDOM;else{for(let t=this.children.length-1;t>=0;t--){let r=this.children[t];if(this.dom.contains(r.dom.parentNode)){e.contentElement=r.dom.parentNode;break}}e.contentElement||(e.getContent=()=>$.empty)}return e}matchesNode(e,t,r){return this.dirty==Dn&&e.eq(this.node)&&ic(t,this.outerDeco)&&r.eq(this.innerDeco)}get size(){return this.node.nodeSize}get border(){return this.node.isLeaf?0:1}updateChildren(e,t){let r=this.node.inlineContent,l=t,o=e.composing?this.localCompositionInfo(e,t):null,u=o&&o.pos>-1?o:null,f=o&&o.pos<0,d=new qN(this,u&&u.node,e);$N(this.node,this.innerDeco,(h,m,y)=>{h.spec.marks?d.syncToMarks(h.spec.marks,r,e):h.type.side>=0&&!y&&d.syncToMarks(m==this.node.childCount?He.none:this.node.child(m).marks,r,e),d.placeWidget(h,e,l)},(h,m,y,b)=>{d.syncToMarks(h.marks,r,e);let v;d.findNodeMatch(h,m,y,b)||f&&e.state.selection.from>l&&e.state.selection.to<l+h.nodeSize&&(v=d.findIndexWithChild(o.node))>-1&&d.updateNodeAt(h,m,y,v,e)||d.updateNextNode(h,m,y,e,b,l)||d.addNode(h,m,y,e,l),l+=h.nodeSize}),d.syncToMarks([],r,e),this.node.isTextblock&&d.addTextblockHacks(),d.destroyRest(),(d.changed||this.dirty==Ji)&&(u&&this.protectLocalComposition(e,u),kx(this.contentDOM,this.children,e),ds&&KN(this.dom))}localCompositionInfo(e,t){let{from:r,to:l}=e.state.selection;if(!(e.state.selection instanceof he)||r<t||l>t+this.node.content.size)return null;let o=e.input.compositionNode;if(!o||!this.dom.contains(o.parentNode))return null;if(this.node.inlineContent){let u=o.nodeValue,f=GN(this.node.content,u,r-t,l-t);return f<0?null:{node:o,pos:f,text:u}}else return{node:o,pos:-1,text:""}}protectLocalComposition(e,{node:t,pos:r,text:l}){if(this.getDesc(t))return;let o=t;for(;o.parentNode!=this.contentDOM;o=o.parentNode){for(;o.previousSibling;)o.parentNode.removeChild(o.previousSibling);for(;o.nextSibling;)o.parentNode.removeChild(o.nextSibling);o.pmViewDesc&&(o.pmViewDesc=void 0)}let u=new HN(this,o,t,l);e.input.compositionNodes.push(u),this.children=_p(this.children,r,r+l.length,e,u)}update(e,t,r,l){return this.dirty==tr||!e.sameMarkup(this.node)?!1:(this.updateInner(e,t,r,l),!0)}updateInner(e,t,r,l){this.updateOuterDeco(t),this.node=e,this.innerDeco=r,this.contentDOM&&this.updateChildren(l,this.posAtStart),this.dirty=Dn}updateOuterDeco(e){if(ic(e,this.outerDeco))return;let t=this.nodeDOM.nodeType!=1,r=this.dom;this.dom=Ax(this.dom,this.nodeDOM,jp(this.outerDeco,this.node,t),jp(e,this.node,t)),this.dom!=r&&(r.pmViewDesc=void 0,this.dom.pmViewDesc=this),this.outerDeco=e}selectNode(){this.nodeDOM.nodeType==1&&this.nodeDOM.classList.add("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&(this.dom.draggable=!0)}deselectNode(){this.nodeDOM.nodeType==1&&(this.nodeDOM.classList.remove("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&this.dom.removeAttribute("draggable"))}get domAtom(){return this.node.isAtom}}function Y1(n,e,t,r,l){wx(r,e,n);let o=new yi(void 0,n,e,t,r,r,r,l,0);return o.contentDOM&&o.updateChildren(l,0),o}class tf extends yi{constructor(e,t,r,l,o,u,f){super(e,t,r,l,o,null,u,f,0)}parseRule(){let e=this.nodeDOM.parentNode;for(;e&&e!=this.dom&&!e.pmIsDeco;)e=e.parentNode;return{skip:e||!0}}update(e,t,r,l){return this.dirty==tr||this.dirty!=Dn&&!this.inParent()||!e.sameMarkup(this.node)?!1:(this.updateOuterDeco(t),(this.dirty!=Dn||e.text!=this.node.text)&&e.text!=this.nodeDOM.nodeValue&&(this.nodeDOM.nodeValue=e.text,l.trackWrites==this.nodeDOM&&(l.trackWrites=null)),this.node=e,this.dirty=Dn,!0)}inParent(){let e=this.parent.contentDOM;for(let t=this.nodeDOM;t;t=t.parentNode)if(t==e)return!0;return!1}domFromPos(e){return{node:this.nodeDOM,offset:e}}localPosFromDOM(e,t,r){return e==this.nodeDOM?this.posAtStart+Math.min(t,this.node.text.length):super.localPosFromDOM(e,t,r)}ignoreMutation(e){return e.type!="characterData"&&e.type!="selection"}slice(e,t,r){let l=this.node.cut(e,t),o=document.createTextNode(l.text);return new tf(this.parent,l,this.outerDeco,this.innerDeco,o,o,r)}markDirty(e,t){super.markDirty(e,t),this.dom!=this.nodeDOM&&(e==0||t==this.nodeDOM.nodeValue.length)&&(this.dirty=tr)}get domAtom(){return!1}isText(e){return this.node.text==e}}class Tx extends ca{parseRule(){return{ignore:!0}}matchesHack(e){return this.dirty==Dn&&this.dom.nodeName==e}get domAtom(){return!0}get ignoreForCoords(){return this.dom.nodeName=="IMG"}}class UN extends yi{constructor(e,t,r,l,o,u,f,d,h,m){super(e,t,r,l,o,u,f,h,m),this.spec=d}update(e,t,r,l){if(this.dirty==tr)return!1;if(this.spec.update&&(this.node.type==e.type||this.spec.multiType)){let o=this.spec.update(e,t,r);return o&&this.updateInner(e,t,r,l),o}else return!this.contentDOM&&!e.isLeaf?!1:super.update(e,t,r,l)}selectNode(){this.spec.selectNode?this.spec.selectNode():super.selectNode()}deselectNode(){this.spec.deselectNode?this.spec.deselectNode():super.deselectNode()}setSelection(e,t,r,l){this.spec.setSelection?this.spec.setSelection(e,t,r.root):super.setSelection(e,t,r,l)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}stopEvent(e){return this.spec.stopEvent?this.spec.stopEvent(e):!1}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}}function kx(n,e,t){let r=n.firstChild,l=!1;for(let o=0;o<e.length;o++){let u=e[o],f=u.dom;if(f.parentNode==n){for(;f!=r;)r=J1(r),l=!0;r=r.nextSibling}else l=!0,n.insertBefore(f,r);if(u instanceof ul){let d=r?r.previousSibling:n.lastChild;kx(u.contentDOM,u.children,t),r=d?d.nextSibling:n.firstChild}}for(;r;)r=J1(r),l=!0;l&&t.trackWrites==n&&(t.trackWrites=null)}const jo=function(n){n&&(this.nodeName=n)};jo.prototype=Object.create(null);const Xi=[new jo];function jp(n,e,t){if(n.length==0)return Xi;let r=t?Xi[0]:new jo,l=[r];for(let o=0;o<n.length;o++){let u=n[o].type.attrs;if(u){u.nodeName&&l.push(r=new jo(u.nodeName));for(let f in u){let d=u[f];d!=null&&(t&&l.length==1&&l.push(r=new jo(e.isInline?"span":"div")),f=="class"?r.class=(r.class?r.class+" ":"")+d:f=="style"?r.style=(r.style?r.style+";":"")+d:f!="nodeName"&&(r[f]=d))}}}return l}function Ax(n,e,t,r){if(t==Xi&&r==Xi)return e;let l=e;for(let o=0;o<r.length;o++){let u=r[o],f=t[o];if(o){let d;f&&f.nodeName==u.nodeName&&l!=n&&(d=l.parentNode)&&d.nodeName.toLowerCase()==u.nodeName||(d=document.createElement(u.nodeName),d.pmIsDeco=!0,d.appendChild(l),f=Xi[0]),l=d}VN(l,f||Xi[0],u)}return l}function VN(n,e,t){for(let r in e)r!="class"&&r!="style"&&r!="nodeName"&&!(r in t)&&n.removeAttribute(r);for(let r in t)r!="class"&&r!="style"&&r!="nodeName"&&t[r]!=e[r]&&n.setAttribute(r,t[r]);if(e.class!=t.class){let r=e.class?e.class.split(" ").filter(Boolean):[],l=t.class?t.class.split(" ").filter(Boolean):[];for(let o=0;o<r.length;o++)l.indexOf(r[o])==-1&&n.classList.remove(r[o]);for(let o=0;o<l.length;o++)r.indexOf(l[o])==-1&&n.classList.add(l[o]);n.classList.length==0&&n.removeAttribute("class")}if(e.style!=t.style){if(e.style){let r=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g,l;for(;l=r.exec(e.style);)n.style.removeProperty(l[1])}t.style&&(n.style.cssText+=t.style)}}function wx(n,e,t){return Ax(n,n,Xi,jp(e,t,n.nodeType!=1))}function ic(n,e){if(n.length!=e.length)return!1;for(let t=0;t<n.length;t++)if(!n[t].type.eq(e[t].type))return!1;return!0}function J1(n){let e=n.nextSibling;return n.parentNode.removeChild(n),e}class qN{constructor(e,t,r){this.lock=t,this.view=r,this.index=0,this.stack=[],this.changed=!1,this.top=e,this.preMatch=IN(e.node.content,e)}destroyBetween(e,t){if(e!=t){for(let r=e;r<t;r++)this.top.children[r].destroy();this.top.children.splice(e,t-e),this.changed=!0}}destroyRest(){this.destroyBetween(this.index,this.top.children.length)}syncToMarks(e,t,r){let l=0,o=this.stack.length>>1,u=Math.min(o,e.length);for(;l<u&&(l==o-1?this.top:this.stack[l+1<<1]).matchesMark(e[l])&&e[l].type.spec.spanning!==!1;)l++;for(;l<o;)this.destroyRest(),this.top.dirty=Dn,this.index=this.stack.pop(),this.top=this.stack.pop(),o--;for(;o<e.length;){this.stack.push(this.top,this.index+1);let f=-1;for(let d=this.index;d<Math.min(this.index+3,this.top.children.length);d++){let h=this.top.children[d];if(h.matchesMark(e[o])&&!this.isLocked(h.dom)){f=d;break}}if(f>-1)f>this.index&&(this.changed=!0,this.destroyBetween(this.index,f)),this.top=this.top.children[this.index];else{let d=ul.create(this.top,e[o],t,r);this.top.children.splice(this.index,0,d),this.top=d,this.changed=!0}this.index=0,o++}}findNodeMatch(e,t,r,l){let o=-1,u;if(l>=this.preMatch.index&&(u=this.preMatch.matches[l-this.preMatch.index]).parent==this.top&&u.matchesNode(e,t,r))o=this.top.children.indexOf(u,this.index);else for(let f=this.index,d=Math.min(this.top.children.length,f+5);f<d;f++){let h=this.top.children[f];if(h.matchesNode(e,t,r)&&!this.preMatch.matched.has(h)){o=f;break}}return o<0?!1:(this.destroyBetween(this.index,o),this.index++,!0)}updateNodeAt(e,t,r,l,o){let u=this.top.children[l];return u.dirty==tr&&u.dom==u.contentDOM&&(u.dirty=Ji),u.update(e,t,r,o)?(this.destroyBetween(this.index,l),this.index++,!0):!1}findIndexWithChild(e){for(;;){let t=e.parentNode;if(!t)return-1;if(t==this.top.contentDOM){let r=e.pmViewDesc;if(r){for(let l=this.index;l<this.top.children.length;l++)if(this.top.children[l]==r)return l}return-1}e=t}}updateNextNode(e,t,r,l,o,u){for(let f=this.index;f<this.top.children.length;f++){let d=this.top.children[f];if(d instanceof yi){let h=this.preMatch.matched.get(d);if(h!=null&&h!=o)return!1;let m=d.dom,y,b=this.isLocked(m)&&!(e.isText&&d.node&&d.node.isText&&d.nodeDOM.nodeValue==e.text&&d.dirty!=tr&&ic(t,d.outerDeco));if(!b&&d.update(e,t,r,l))return this.destroyBetween(this.index,f),d.dom!=m&&(this.changed=!0),this.index++,!0;if(!b&&(y=this.recreateWrapper(d,e,t,r,l,u)))return this.destroyBetween(this.index,f),this.top.children[this.index]=y,y.contentDOM&&(y.dirty=Ji,y.updateChildren(l,u+1),y.dirty=Dn),this.changed=!0,this.index++,!0;break}}return!1}recreateWrapper(e,t,r,l,o,u){if(e.dirty||t.isAtom||!e.children.length||!e.node.content.eq(t.content)||!ic(r,e.outerDeco)||!l.eq(e.innerDeco))return null;let f=yi.create(this.top,t,r,l,o,u);if(f.contentDOM){f.children=e.children,e.children=[];for(let d of f.children)d.parent=f}return e.destroy(),f}addNode(e,t,r,l,o){let u=yi.create(this.top,e,t,r,l,o);u.contentDOM&&u.updateChildren(l,o+1),this.top.children.splice(this.index++,0,u),this.changed=!0}placeWidget(e,t,r){let l=this.index<this.top.children.length?this.top.children[this.index]:null;if(l&&l.matchesWidget(e)&&(e==l.widget||!l.widget.type.toDOM.parentNode))this.index++;else{let o=new Ex(this.top,e,t,r);this.top.children.splice(this.index++,0,o),this.changed=!0}}addTextblockHacks(){let e=this.top.children[this.index-1],t=this.top;for(;e instanceof ul;)t=e,e=t.children[t.children.length-1];(!e||!(e instanceof tf)||/\n$/.test(e.node.text)||this.view.requiresGeckoHackNode&&/\s$/.test(e.node.text))&&((It||Rt)&&e&&e.dom.contentEditable=="false"&&this.addHackNode("IMG",t),this.addHackNode("BR",this.top))}addHackNode(e,t){if(t==this.top&&this.index<t.children.length&&t.children[this.index].matchesHack(e))this.index++;else{let r=document.createElement(e);e=="IMG"&&(r.className="ProseMirror-separator",r.alt=""),e=="BR"&&(r.className="ProseMirror-trailingBreak");let l=new Tx(this.top,[],r,null);t!=this.top?t.children.push(l):t.children.splice(this.index++,0,l),this.changed=!0}}isLocked(e){return this.lock&&(e==this.lock||e.nodeType==1&&e.contains(this.lock.parentNode))}}function IN(n,e){let t=e,r=t.children.length,l=n.childCount,o=new Map,u=[];e:for(;l>0;){let f;for(;;)if(r){let h=t.children[r-1];if(h instanceof ul)t=h,r=h.children.length;else{f=h,r--;break}}else{if(t==e)break e;r=t.parent.children.indexOf(t),t=t.parent}let d=f.node;if(d){if(d!=n.child(l-1))break;--l,o.set(f,l),u.push(f)}}return{index:l,matched:o,matches:u.reverse()}}function FN(n,e){return n.type.side-e.type.side}function $N(n,e,t,r){let l=e.locals(n),o=0;if(l.length==0){for(let h=0;h<n.childCount;h++){let m=n.child(h);r(m,l,e.forChild(o,m),h),o+=m.nodeSize}return}let u=0,f=[],d=null;for(let h=0;;){let m,y;for(;u<l.length&&l[u].to==o;){let C=l[u++];C.widget&&(m?(y||(y=[m])).push(C):m=C)}if(m)if(y){y.sort(FN);for(let C=0;C<y.length;C++)t(y[C],h,!!d)}else t(m,h,!!d);let b,v;if(d)v=-1,b=d,d=null;else if(h<n.childCount)v=h,b=n.child(h++);else break;for(let C=0;C<f.length;C++)f[C].to<=o&&f.splice(C--,1);for(;u<l.length&&l[u].from<=o&&l[u].to>o;)f.push(l[u++]);let S=o+b.nodeSize;if(b.isText){let C=S;u<l.length&&l[u].from<C&&(C=l[u].from);for(let A=0;A<f.length;A++)f[A].to<C&&(C=f[A].to);C<S&&(d=b.cut(C-o),b=b.cut(0,C-o),S=C,v=-1)}else for(;u<l.length&&l[u].to<S;)u++;let T=b.isInline&&!b.isLeaf?f.filter(C=>!C.inline):f.slice();r(b,T,e.forChild(o,b),v),o=S}}function KN(n){if(n.nodeName=="UL"||n.nodeName=="OL"){let e=n.style.cssText;n.style.cssText=e+"; list-style: square !important",window.getComputedStyle(n).listStyle,n.style.cssText=e}}function GN(n,e,t,r){for(let l=0,o=0;l<n.childCount&&o<=r;){let u=n.child(l++),f=o;if(o+=u.nodeSize,!u.isText)continue;let d=u.text;for(;l<n.childCount;){let h=n.child(l++);if(o+=h.nodeSize,!h.isText)break;d+=h.text}if(o>=t){if(o>=r&&d.slice(r-e.length-f,r-f)==e)return r-e.length;let h=f<r?d.lastIndexOf(e,r-f-1):-1;if(h>=0&&h+e.length+f>=t)return f+h;if(t==r&&d.length>=r+e.length-f&&d.slice(r-f,r-f+e.length)==e)return r}}return-1}function _p(n,e,t,r,l){let o=[];for(let u=0,f=0;u<n.length;u++){let d=n[u],h=f,m=f+=d.size;h>=t||m<=e?o.push(d):(h<e&&o.push(d.slice(0,e-h,r)),l&&(o.push(l),l=void 0),m>t&&o.push(d.slice(t-h,d.size,r)))}return o}function xm(n,e=null){let t=n.domSelectionRange(),r=n.state.doc;if(!t.focusNode)return null;let l=n.docView.nearestDesc(t.focusNode),o=l&&l.size==0,u=n.docView.posFromDOM(t.focusNode,t.focusOffset,1);if(u<0)return null;let f=r.resolve(u),d,h;if(ef(t)){for(d=u;l&&!l.node;)l=l.parent;let y=l.node;if(l&&y.isAtom&&se.isSelectable(y)&&l.parent&&!(y.isInline&&SN(t.focusNode,t.focusOffset,l.dom))){let b=l.posBefore;h=new se(u==b?f:r.resolve(b))}}else{if(t instanceof n.dom.ownerDocument.defaultView.Selection&&t.rangeCount>1){let y=u,b=u;for(let v=0;v<t.rangeCount;v++){let S=t.getRangeAt(v);y=Math.min(y,n.docView.posFromDOM(S.startContainer,S.startOffset,1)),b=Math.max(b,n.docView.posFromDOM(S.endContainer,S.endOffset,-1))}if(y<0)return null;[d,u]=b==n.state.selection.anchor?[b,y]:[y,b],f=r.resolve(u)}else d=n.docView.posFromDOM(t.anchorNode,t.anchorOffset,1);if(d<0)return null}let m=r.resolve(d);if(!h){let y=e=="pointer"||n.state.selection.head<f.pos&&!o?1:-1;h=Cm(n,m,f,y)}return h}function Ox(n){return n.editable?n.hasFocus():Nx(n)&&document.activeElement&&document.activeElement.contains(n.dom)}function Mr(n,e=!1){let t=n.state.selection;if(Mx(n,t),!!Ox(n)){if(!e&&n.input.mouseDown&&n.input.mouseDown.allowDefault&&Rt){let r=n.domSelectionRange(),l=n.domObserver.currentSelection;if(r.anchorNode&&l.anchorNode&&al(r.anchorNode,r.anchorOffset,l.anchorNode,l.anchorOffset)){n.input.mouseDown.delayedSelectionSync=!0,n.domObserver.setCurSelection();return}}if(n.domObserver.disconnectSelection(),n.cursorWrapper)JN(n);else{let{anchor:r,head:l}=t,o,u;X1&&!(t instanceof he)&&(t.$from.parent.inlineContent||(o=Q1(n,t.from)),!t.empty&&!t.$from.parent.inlineContent&&(u=Q1(n,t.to))),n.docView.setSelection(r,l,n,e),X1&&(o&&Z1(o),u&&Z1(u)),t.visible?n.dom.classList.remove("ProseMirror-hideselection"):(n.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&YN(n))}n.domObserver.setCurSelection(),n.domObserver.connectSelection()}}const X1=It||Rt&&gx<63;function Q1(n,e){let{node:t,offset:r}=n.docView.domFromPos(e,0),l=r<t.childNodes.length?t.childNodes[r]:null,o=r?t.childNodes[r-1]:null;if(It&&l&&l.contentEditable=="false")return Jh(l);if((!l||l.contentEditable=="false")&&(!o||o.contentEditable=="false")){if(l)return Jh(l);if(o)return Jh(o)}}function Jh(n){return n.contentEditable="true",It&&n.draggable&&(n.draggable=!1,n.wasDraggable=!0),n}function Z1(n){n.contentEditable="false",n.wasDraggable&&(n.draggable=!0,n.wasDraggable=null)}function YN(n){let e=n.dom.ownerDocument;e.removeEventListener("selectionchange",n.input.hideSelectionGuard);let t=n.domSelectionRange(),r=t.anchorNode,l=t.anchorOffset;e.addEventListener("selectionchange",n.input.hideSelectionGuard=()=>{(t.anchorNode!=r||t.anchorOffset!=l)&&(e.removeEventListener("selectionchange",n.input.hideSelectionGuard),setTimeout(()=>{(!Ox(n)||n.state.selection.visible)&&n.dom.classList.remove("ProseMirror-hideselection")},20))})}function JN(n){let e=n.domSelection(),t=document.createRange();if(!e)return;let r=n.cursorWrapper.dom,l=r.nodeName=="IMG";l?t.setStart(r.parentNode,xt(r)+1):t.setStart(r,0),t.collapse(!0),e.removeAllRanges(),e.addRange(t),!l&&!n.state.selection.visible&&en&&gi<=11&&(r.disabled=!0,r.disabled=!1)}function Mx(n,e){if(e instanceof se){let t=n.docView.descAt(e.from);t!=n.lastSelectedViewDesc&&(W1(n),t&&t.selectNode(),n.lastSelectedViewDesc=t)}else W1(n)}function W1(n){n.lastSelectedViewDesc&&(n.lastSelectedViewDesc.parent&&n.lastSelectedViewDesc.deselectNode(),n.lastSelectedViewDesc=void 0)}function Cm(n,e,t,r){return n.someProp("createSelectionBetween",l=>l(n,e,t))||he.between(e,t,r)}function eS(n){return n.editable&&!n.hasFocus()?!1:Nx(n)}function Nx(n){let e=n.domSelectionRange();if(!e.anchorNode)return!1;try{return n.dom.contains(e.anchorNode.nodeType==3?e.anchorNode.parentNode:e.anchorNode)&&(n.editable||n.dom.contains(e.focusNode.nodeType==3?e.focusNode.parentNode:e.focusNode))}catch{return!1}}function XN(n){let e=n.docView.domFromPos(n.state.selection.anchor,0),t=n.domSelectionRange();return al(e.node,e.offset,t.anchorNode,t.anchorOffset)}function Pp(n,e){let{$anchor:t,$head:r}=n.selection,l=e>0?t.max(r):t.min(r),o=l.parent.inlineContent?l.depth?n.doc.resolve(e>0?l.after():l.before()):null:l;return o&&ge.findFrom(o,e)}function li(n,e){return n.dispatch(n.state.tr.setSelection(e).scrollIntoView()),!0}function tS(n,e,t){let r=n.state.selection;if(r instanceof he)if(t.indexOf("s")>-1){let{$head:l}=r,o=l.textOffset?null:e<0?l.nodeBefore:l.nodeAfter;if(!o||o.isText||!o.isLeaf)return!1;let u=n.state.doc.resolve(l.pos+o.nodeSize*(e<0?-1:1));return li(n,new he(r.$anchor,u))}else if(r.empty){if(n.endOfTextblock(e>0?"forward":"backward")){let l=Pp(n.state,e);return l&&l instanceof se?li(n,l):!1}else if(!(Mn&&t.indexOf("m")>-1)){let l=r.$head,o=l.textOffset?null:e<0?l.nodeBefore:l.nodeAfter,u;if(!o||o.isText)return!1;let f=e<0?l.pos-o.nodeSize:l.pos;return o.isAtom||(u=n.docView.descAt(f))&&!u.contentDOM?se.isSelectable(o)?li(n,new se(e<0?n.state.doc.resolve(l.pos-o.nodeSize):l)):ua?li(n,new he(n.state.doc.resolve(e<0?f:f+o.nodeSize))):!1:!1}}else return!1;else{if(r instanceof se&&r.node.isInline)return li(n,new he(e>0?r.$to:r.$from));{let l=Pp(n.state,e);return l?li(n,l):!1}}}function lc(n){return n.nodeType==3?n.nodeValue.length:n.childNodes.length}function _o(n,e){let t=n.pmViewDesc;return t&&t.size==0&&(e<0||n.nextSibling||n.nodeName!="BR")}function ts(n,e){return e<0?QN(n):ZN(n)}function QN(n){let e=n.domSelectionRange(),t=e.focusNode,r=e.focusOffset;if(!t)return;let l,o,u=!1;for(Hn&&t.nodeType==1&&r<lc(t)&&_o(t.childNodes[r],-1)&&(u=!0);;)if(r>0){if(t.nodeType!=1)break;{let f=t.childNodes[r-1];if(_o(f,-1))l=t,o=--r;else if(f.nodeType==3)t=f,r=t.nodeValue.length;else break}}else{if(Rx(t))break;{let f=t.previousSibling;for(;f&&_o(f,-1);)l=t.parentNode,o=xt(f),f=f.previousSibling;if(f)t=f,r=lc(t);else{if(t=t.parentNode,t==n.dom)break;r=0}}}u?Hp(n,t,r):l&&Hp(n,l,o)}function ZN(n){let e=n.domSelectionRange(),t=e.focusNode,r=e.focusOffset;if(!t)return;let l=lc(t),o,u;for(;;)if(r<l){if(t.nodeType!=1)break;let f=t.childNodes[r];if(_o(f,1))o=t,u=++r;else break}else{if(Rx(t))break;{let f=t.nextSibling;for(;f&&_o(f,1);)o=f.parentNode,u=xt(f)+1,f=f.nextSibling;if(f)t=f,r=0,l=lc(t);else{if(t=t.parentNode,t==n.dom)break;r=l=0}}}o&&Hp(n,o,u)}function Rx(n){let e=n.pmViewDesc;return e&&e.node&&e.node.isBlock}function WN(n,e){for(;n&&e==n.childNodes.length&&!aa(n);)e=xt(n)+1,n=n.parentNode;for(;n&&e<n.childNodes.length;){let t=n.childNodes[e];if(t.nodeType==3)return t;if(t.nodeType==1&&t.contentEditable=="false")break;n=t,e=0}}function e2(n,e){for(;n&&!e&&!aa(n);)e=xt(n),n=n.parentNode;for(;n&&e;){let t=n.childNodes[e-1];if(t.nodeType==3)return t;if(t.nodeType==1&&t.contentEditable=="false")break;n=t,e=n.childNodes.length}}function Hp(n,e,t){if(e.nodeType!=3){let o,u;(u=WN(e,t))?(e=u,t=0):(o=e2(e,t))&&(e=o,t=o.nodeValue.length)}let r=n.domSelection();if(!r)return;if(ef(r)){let o=document.createRange();o.setEnd(e,t),o.setStart(e,t),r.removeAllRanges(),r.addRange(o)}else r.extend&&r.extend(e,t);n.domObserver.setCurSelection();let{state:l}=n;setTimeout(()=>{n.state==l&&Mr(n)},50)}function nS(n,e){let t=n.state.doc.resolve(e);if(!(Rt||CN)&&t.parent.inlineContent){let l=n.coordsAtPos(e);if(e>t.start()){let o=n.coordsAtPos(e-1),u=(o.top+o.bottom)/2;if(u>l.top&&u<l.bottom&&Math.abs(o.left-l.left)>1)return o.left<l.left?"ltr":"rtl"}if(e<t.end()){let o=n.coordsAtPos(e+1),u=(o.top+o.bottom)/2;if(u>l.top&&u<l.bottom&&Math.abs(o.left-l.left)>1)return o.left>l.left?"ltr":"rtl"}}return getComputedStyle(n.dom).direction=="rtl"?"rtl":"ltr"}function rS(n,e,t){let r=n.state.selection;if(r instanceof he&&!r.empty||t.indexOf("s")>-1||Mn&&t.indexOf("m")>-1)return!1;let{$from:l,$to:o}=r;if(!l.parent.inlineContent||n.endOfTextblock(e<0?"up":"down")){let u=Pp(n.state,e);if(u&&u instanceof se)return li(n,u)}if(!l.parent.inlineContent){let u=e<0?l:o,f=r instanceof mn?ge.near(u,e):ge.findFrom(u,e);return f?li(n,f):!1}return!1}function iS(n,e){if(!(n.state.selection instanceof he))return!0;let{$head:t,$anchor:r,empty:l}=n.state.selection;if(!t.sameParent(r))return!0;if(!l)return!1;if(n.endOfTextblock(e>0?"forward":"backward"))return!0;let o=!t.textOffset&&(e<0?t.nodeBefore:t.nodeAfter);if(o&&!o.isText){let u=n.state.tr;return e<0?u.delete(t.pos-o.nodeSize,t.pos):u.delete(t.pos,t.pos+o.nodeSize),n.dispatch(u),!0}return!1}function lS(n,e,t){n.domObserver.stop(),e.contentEditable=t,n.domObserver.start()}function t2(n){if(!It||n.state.selection.$head.parentOffset>0)return!1;let{focusNode:e,focusOffset:t}=n.domSelectionRange();if(e&&e.nodeType==1&&t==0&&e.firstChild&&e.firstChild.contentEditable=="false"){let r=e.firstChild;lS(n,r,"true"),setTimeout(()=>lS(n,r,"false"),20)}return!1}function n2(n){let e="";return n.ctrlKey&&(e+="c"),n.metaKey&&(e+="m"),n.altKey&&(e+="a"),n.shiftKey&&(e+="s"),e}function r2(n,e){let t=e.keyCode,r=n2(e);if(t==8||Mn&&t==72&&r=="c")return iS(n,-1)||ts(n,-1);if(t==46&&!e.shiftKey||Mn&&t==68&&r=="c")return iS(n,1)||ts(n,1);if(t==13||t==27)return!0;if(t==37||Mn&&t==66&&r=="c"){let l=t==37?nS(n,n.state.selection.from)=="ltr"?-1:1:-1;return tS(n,l,r)||ts(n,l)}else if(t==39||Mn&&t==70&&r=="c"){let l=t==39?nS(n,n.state.selection.from)=="ltr"?1:-1:1;return tS(n,l,r)||ts(n,l)}else{if(t==38||Mn&&t==80&&r=="c")return rS(n,-1,r)||ts(n,-1);if(t==40||Mn&&t==78&&r=="c")return t2(n)||rS(n,1,r)||ts(n,1);if(r==(Mn?"m":"c")&&(t==66||t==73||t==89||t==90))return!0}return!1}function Em(n,e){n.someProp("transformCopied",v=>{e=v(e,n)});let t=[],{content:r,openStart:l,openEnd:o}=e;for(;l>1&&o>1&&r.childCount==1&&r.firstChild.childCount==1;){l--,o--;let v=r.firstChild;t.push(v.type.name,v.attrs!=v.type.defaultAttrs?v.attrs:null),r=v.content}let u=n.someProp("clipboardSerializer")||dl.fromSchema(n.state.schema),f=_x(),d=f.createElement("div");d.appendChild(u.serializeFragment(r,{document:f}));let h=d.firstChild,m,y=0;for(;h&&h.nodeType==1&&(m=jx[h.nodeName.toLowerCase()]);){for(let v=m.length-1;v>=0;v--){let S=f.createElement(m[v]);for(;d.firstChild;)S.appendChild(d.firstChild);d.appendChild(S),y++}h=d.firstChild}h&&h.nodeType==1&&h.setAttribute("data-pm-slice",`${l} ${o}${y?` -${y}`:""} ${JSON.stringify(t)}`);let b=n.someProp("clipboardTextSerializer",v=>v(e,n))||e.content.textBetween(0,e.content.size,`

`);return{dom:d,text:b,slice:e}}function Dx(n,e,t,r,l){let o=l.parent.type.spec.code,u,f;if(!t&&!e)return null;let d=e&&(r||o||!t);if(d){if(n.someProp("transformPastedText",b=>{e=b(e,o||r,n)}),o)return e?new Q($.from(n.state.schema.text(e.replace(/\r\n?/g,`
`))),0,0):Q.empty;let y=n.someProp("clipboardTextParser",b=>b(e,l,r,n));if(y)f=y;else{let b=l.marks(),{schema:v}=n.state,S=dl.fromSchema(v);u=document.createElement("div"),e.split(/(?:\r\n?|\n)+/).forEach(T=>{let C=u.appendChild(document.createElement("p"));T&&C.appendChild(S.serializeNode(v.text(T,b)))})}}else n.someProp("transformPastedHTML",y=>{t=y(t,n)}),u=o2(t),ua&&a2(u);let h=u&&u.querySelector("[data-pm-slice]"),m=h&&/^(\d+) (\d+)(?: -(\d+))? (.*)/.exec(h.getAttribute("data-pm-slice")||"");if(m&&m[3])for(let y=+m[3];y>0;y--){let b=u.firstChild;for(;b&&b.nodeType!=1;)b=b.nextSibling;if(!b)break;u=b}if(f||(f=(n.someProp("clipboardParser")||n.someProp("domParser")||mi.fromSchema(n.state.schema)).parseSlice(u,{preserveWhitespace:!!(d||m),context:l,ruleFromNode(b){return b.nodeName=="BR"&&!b.nextSibling&&b.parentNode&&!i2.test(b.parentNode.nodeName)?{ignore:!0}:null}})),m)f=u2(sS(f,+m[1],+m[2]),m[4]);else if(f=Q.maxOpen(l2(f.content,l),!0),f.openStart||f.openEnd){let y=0,b=0;for(let v=f.content.firstChild;y<f.openStart&&!v.type.spec.isolating;y++,v=v.firstChild);for(let v=f.content.lastChild;b<f.openEnd&&!v.type.spec.isolating;b++,v=v.lastChild);f=sS(f,y,b)}return n.someProp("transformPasted",y=>{f=y(f,n)}),f}const i2=/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/i;function l2(n,e){if(n.childCount<2)return n;for(let t=e.depth;t>=0;t--){let l=e.node(t).contentMatchAt(e.index(t)),o,u=[];if(n.forEach(f=>{if(!u)return;let d=l.findWrapping(f.type),h;if(!d)return u=null;if(h=u.length&&o.length&&Bx(d,o,f,u[u.length-1],0))u[u.length-1]=h;else{u.length&&(u[u.length-1]=Lx(u[u.length-1],o.length));let m=zx(f,d);u.push(m),l=l.matchType(m.type),o=d}}),u)return $.from(u)}return n}function zx(n,e,t=0){for(let r=e.length-1;r>=t;r--)n=e[r].create(null,$.from(n));return n}function Bx(n,e,t,r,l){if(l<n.length&&l<e.length&&n[l]==e[l]){let o=Bx(n,e,t,r.lastChild,l+1);if(o)return r.copy(r.content.replaceChild(r.childCount-1,o));if(r.contentMatchAt(r.childCount).matchType(l==n.length-1?t.type:n[l+1]))return r.copy(r.content.append($.from(zx(t,n,l+1))))}}function Lx(n,e){if(e==0)return n;let t=n.content.replaceChild(n.childCount-1,Lx(n.lastChild,e-1)),r=n.contentMatchAt(n.childCount).fillBefore($.empty,!0);return n.copy(t.append(r))}function Up(n,e,t,r,l,o){let u=e<0?n.firstChild:n.lastChild,f=u.content;return n.childCount>1&&(o=0),l<r-1&&(f=Up(f,e,t,r,l+1,o)),l>=t&&(f=e<0?u.contentMatchAt(0).fillBefore(f,o<=l).append(f):f.append(u.contentMatchAt(u.childCount).fillBefore($.empty,!0))),n.replaceChild(e<0?0:n.childCount-1,u.copy(f))}function sS(n,e,t){return e<n.openStart&&(n=new Q(Up(n.content,-1,e,n.openStart,0,n.openEnd),e,n.openEnd)),t<n.openEnd&&(n=new Q(Up(n.content,1,t,n.openEnd,0,0),n.openStart,t)),n}const jx={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]};let oS=null;function _x(){return oS||(oS=document.implementation.createHTMLDocument("title"))}let Xh=null;function s2(n){let e=window.trustedTypes;return e?(Xh||(Xh=e.defaultPolicy||e.createPolicy("ProseMirrorClipboard",{createHTML:t=>t})),Xh.createHTML(n)):n}function o2(n){let e=/^(\s*<meta [^>]*>)*/.exec(n);e&&(n=n.slice(e[0].length));let t=_x().createElement("div"),r=/<([a-z][^>\s]+)/i.exec(n),l;if((l=r&&jx[r[1].toLowerCase()])&&(n=l.map(o=>"<"+o+">").join("")+n+l.map(o=>"</"+o+">").reverse().join("")),t.innerHTML=s2(n),l)for(let o=0;o<l.length;o++)t=t.querySelector(l[o])||t;return t}function a2(n){let e=n.querySelectorAll(Rt?"span:not([class]):not([style])":"span.Apple-converted-space");for(let t=0;t<e.length;t++){let r=e[t];r.childNodes.length==1&&r.textContent==""&&r.parentNode&&r.parentNode.replaceChild(n.ownerDocument.createTextNode(" "),r)}}function u2(n,e){if(!n.size)return n;let t=n.content.firstChild.type.schema,r;try{r=JSON.parse(e)}catch{return n}let{content:l,openStart:o,openEnd:u}=n;for(let f=r.length-2;f>=0;f-=2){let d=t.nodes[r[f]];if(!d||d.hasRequiredAttrs())break;l=$.from(d.create(r[f+1],l)),o++,u++}return new Q(l,o,u)}const Ft={},$t={},c2={touchstart:!0,touchmove:!0};class f2{constructor(){this.shiftKey=!1,this.mouseDown=null,this.lastKeyCode=null,this.lastKeyCodeTime=0,this.lastClick={time:0,x:0,y:0,type:"",button:0},this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastIOSEnter=0,this.lastIOSEnterFallbackTimeout=-1,this.lastFocus=0,this.lastTouch=0,this.lastChromeDelete=0,this.composing=!1,this.compositionNode=null,this.composingTimeout=-1,this.compositionNodes=[],this.compositionEndedAt=-2e8,this.compositionID=1,this.compositionPendingChanges=0,this.domChangeCount=0,this.eventHandlers=Object.create(null),this.hideSelectionGuard=null}}function d2(n){for(let e in Ft){let t=Ft[e];n.dom.addEventListener(e,n.input.eventHandlers[e]=r=>{p2(n,r)&&!Tm(n,r)&&(n.editable||!(r.type in $t))&&t(n,r)},c2[e]?{passive:!0}:void 0)}It&&n.dom.addEventListener("input",()=>null),Vp(n)}function hi(n,e){n.input.lastSelectionOrigin=e,n.input.lastSelectionTime=Date.now()}function h2(n){n.domObserver.stop();for(let e in n.input.eventHandlers)n.dom.removeEventListener(e,n.input.eventHandlers[e]);clearTimeout(n.input.composingTimeout),clearTimeout(n.input.lastIOSEnterFallbackTimeout)}function Vp(n){n.someProp("handleDOMEvents",e=>{for(let t in e)n.input.eventHandlers[t]||n.dom.addEventListener(t,n.input.eventHandlers[t]=r=>Tm(n,r))})}function Tm(n,e){return n.someProp("handleDOMEvents",t=>{let r=t[e.type];return r?r(n,e)||e.defaultPrevented:!1})}function p2(n,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(let t=e.target;t!=n.dom;t=t.parentNode)if(!t||t.nodeType==11||t.pmViewDesc&&t.pmViewDesc.stopEvent(e))return!1;return!0}function m2(n,e){!Tm(n,e)&&Ft[e.type]&&(n.editable||!(e.type in $t))&&Ft[e.type](n,e)}$t.keydown=(n,e)=>{let t=e;if(n.input.shiftKey=t.keyCode==16||t.shiftKey,!Hx(n,t)&&(n.input.lastKeyCode=t.keyCode,n.input.lastKeyCodeTime=Date.now(),!(Ar&&Rt&&t.keyCode==13)))if(t.keyCode!=229&&n.domObserver.forceFlush(),ds&&t.keyCode==13&&!t.ctrlKey&&!t.altKey&&!t.metaKey){let r=Date.now();n.input.lastIOSEnter=r,n.input.lastIOSEnterFallbackTimeout=setTimeout(()=>{n.input.lastIOSEnter==r&&(n.someProp("handleKeyDown",l=>l(n,$i(13,"Enter"))),n.input.lastIOSEnter=0)},200)}else n.someProp("handleKeyDown",r=>r(n,t))||r2(n,t)?t.preventDefault():hi(n,"key")};$t.keyup=(n,e)=>{e.keyCode==16&&(n.input.shiftKey=!1)};$t.keypress=(n,e)=>{let t=e;if(Hx(n,t)||!t.charCode||t.ctrlKey&&!t.altKey||Mn&&t.metaKey)return;if(n.someProp("handleKeyPress",l=>l(n,t))){t.preventDefault();return}let r=n.state.selection;if(!(r instanceof he)||!r.$from.sameParent(r.$to)){let l=String.fromCharCode(t.charCode);!/[\r\n]/.test(l)&&!n.someProp("handleTextInput",o=>o(n,r.$from.pos,r.$to.pos,l))&&n.dispatch(n.state.tr.insertText(l).scrollIntoView()),t.preventDefault()}};function nf(n){return{left:n.clientX,top:n.clientY}}function g2(n,e){let t=e.x-n.clientX,r=e.y-n.clientY;return t*t+r*r<100}function km(n,e,t,r,l){if(r==-1)return!1;let o=n.state.doc.resolve(r);for(let u=o.depth+1;u>0;u--)if(n.someProp(e,f=>u>o.depth?f(n,t,o.nodeAfter,o.before(u),l,!0):f(n,t,o.node(u),o.before(u),l,!1)))return!0;return!1}function us(n,e,t){if(n.focused||n.focus(),n.state.selection.eq(e))return;let r=n.state.tr.setSelection(e);r.setMeta("pointer",!0),n.dispatch(r)}function y2(n,e){if(e==-1)return!1;let t=n.state.doc.resolve(e),r=t.nodeAfter;return r&&r.isAtom&&se.isSelectable(r)?(us(n,new se(t)),!0):!1}function b2(n,e){if(e==-1)return!1;let t=n.state.selection,r,l;t instanceof se&&(r=t.node);let o=n.state.doc.resolve(e);for(let u=o.depth+1;u>0;u--){let f=u>o.depth?o.nodeAfter:o.node(u);if(se.isSelectable(f)){r&&t.$from.depth>0&&u>=t.$from.depth&&o.before(t.$from.depth+1)==t.$from.pos?l=o.before(t.$from.depth):l=o.before(u);break}}return l!=null?(us(n,se.create(n.state.doc,l)),!0):!1}function S2(n,e,t,r,l){return km(n,"handleClickOn",e,t,r)||n.someProp("handleClick",o=>o(n,e,r))||(l?b2(n,t):y2(n,t))}function v2(n,e,t,r){return km(n,"handleDoubleClickOn",e,t,r)||n.someProp("handleDoubleClick",l=>l(n,e,r))}function x2(n,e,t,r){return km(n,"handleTripleClickOn",e,t,r)||n.someProp("handleTripleClick",l=>l(n,e,r))||C2(n,t,r)}function C2(n,e,t){if(t.button!=0)return!1;let r=n.state.doc;if(e==-1)return r.inlineContent?(us(n,he.create(r,0,r.content.size)),!0):!1;let l=r.resolve(e);for(let o=l.depth+1;o>0;o--){let u=o>l.depth?l.nodeAfter:l.node(o),f=l.before(o);if(u.inlineContent)us(n,he.create(r,f+1,f+1+u.content.size));else if(se.isSelectable(u))us(n,se.create(r,f));else continue;return!0}}function Am(n){return sc(n)}const Px=Mn?"metaKey":"ctrlKey";Ft.mousedown=(n,e)=>{let t=e;n.input.shiftKey=t.shiftKey;let r=Am(n),l=Date.now(),o="singleClick";l-n.input.lastClick.time<500&&g2(t,n.input.lastClick)&&!t[Px]&&n.input.lastClick.button==t.button&&(n.input.lastClick.type=="singleClick"?o="doubleClick":n.input.lastClick.type=="doubleClick"&&(o="tripleClick")),n.input.lastClick={time:l,x:t.clientX,y:t.clientY,type:o,button:t.button};let u=n.posAtCoords(nf(t));u&&(o=="singleClick"?(n.input.mouseDown&&n.input.mouseDown.done(),n.input.mouseDown=new E2(n,u,t,!!r)):(o=="doubleClick"?v2:x2)(n,u.pos,u.inside,t)?t.preventDefault():hi(n,"pointer"))};class E2{constructor(e,t,r,l){this.view=e,this.pos=t,this.event=r,this.flushed=l,this.delayedSelectionSync=!1,this.mightDrag=null,this.startDoc=e.state.doc,this.selectNode=!!r[Px],this.allowDefault=r.shiftKey;let o,u;if(t.inside>-1)o=e.state.doc.nodeAt(t.inside),u=t.inside;else{let m=e.state.doc.resolve(t.pos);o=m.parent,u=m.depth?m.before():0}const f=l?null:r.target,d=f?e.docView.nearestDesc(f,!0):null;this.target=d&&d.dom.nodeType==1?d.dom:null;let{selection:h}=e.state;(r.button==0&&o.type.spec.draggable&&o.type.spec.selectable!==!1||h instanceof se&&h.from<=u&&h.to>u)&&(this.mightDrag={node:o,pos:u,addAttr:!!(this.target&&!this.target.draggable),setUneditable:!!(this.target&&Hn&&!this.target.hasAttribute("contentEditable"))}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout(()=>{this.view.input.mouseDown==this&&this.target.setAttribute("contentEditable","false")},20),this.view.domObserver.start()),e.root.addEventListener("mouseup",this.up=this.up.bind(this)),e.root.addEventListener("mousemove",this.move=this.move.bind(this)),hi(e,"pointer")}done(){this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout(()=>Mr(this.view)),this.view.input.mouseDown=null}up(e){if(this.done(),!this.view.dom.contains(e.target))return;let t=this.pos;this.view.state.doc!=this.startDoc&&(t=this.view.posAtCoords(nf(e))),this.updateAllowDefault(e),this.allowDefault||!t?hi(this.view,"pointer"):S2(this.view,t.pos,t.inside,e,this.selectNode)?e.preventDefault():e.button==0&&(this.flushed||It&&this.mightDrag&&!this.mightDrag.node.isAtom||Rt&&!this.view.state.selection.visible&&Math.min(Math.abs(t.pos-this.view.state.selection.from),Math.abs(t.pos-this.view.state.selection.to))<=2)?(us(this.view,ge.near(this.view.state.doc.resolve(t.pos))),e.preventDefault()):hi(this.view,"pointer")}move(e){this.updateAllowDefault(e),hi(this.view,"pointer"),e.buttons==0&&this.done()}updateAllowDefault(e){!this.allowDefault&&(Math.abs(this.event.x-e.clientX)>4||Math.abs(this.event.y-e.clientY)>4)&&(this.allowDefault=!0)}}Ft.touchstart=n=>{n.input.lastTouch=Date.now(),Am(n),hi(n,"pointer")};Ft.touchmove=n=>{n.input.lastTouch=Date.now(),hi(n,"pointer")};Ft.contextmenu=n=>Am(n);function Hx(n,e){return n.composing?!0:It&&Math.abs(e.timeStamp-n.input.compositionEndedAt)<500?(n.input.compositionEndedAt=-2e8,!0):!1}const T2=Ar?5e3:-1;$t.compositionstart=$t.compositionupdate=n=>{if(!n.composing){n.domObserver.flush();let{state:e}=n,t=e.selection.$to;if(e.selection instanceof he&&(e.storedMarks||!t.textOffset&&t.parentOffset&&t.nodeBefore.marks.some(r=>r.type.spec.inclusive===!1)))n.markCursor=n.state.storedMarks||t.marks(),sc(n,!0),n.markCursor=null;else if(sc(n,!e.selection.empty),Hn&&e.selection.empty&&t.parentOffset&&!t.textOffset&&t.nodeBefore.marks.length){let r=n.domSelectionRange();for(let l=r.focusNode,o=r.focusOffset;l&&l.nodeType==1&&o!=0;){let u=o<0?l.lastChild:l.childNodes[o-1];if(!u)break;if(u.nodeType==3){let f=n.domSelection();f&&f.collapse(u,u.nodeValue.length);break}else l=u,o=-1}}n.input.composing=!0}Ux(n,T2)};$t.compositionend=(n,e)=>{n.composing&&(n.input.composing=!1,n.input.compositionEndedAt=e.timeStamp,n.input.compositionPendingChanges=n.domObserver.pendingRecords().length?n.input.compositionID:0,n.input.compositionNode=null,n.input.compositionPendingChanges&&Promise.resolve().then(()=>n.domObserver.flush()),n.input.compositionID++,Ux(n,20))};function Ux(n,e){clearTimeout(n.input.composingTimeout),e>-1&&(n.input.composingTimeout=setTimeout(()=>sc(n),e))}function Vx(n){for(n.composing&&(n.input.composing=!1,n.input.compositionEndedAt=A2());n.input.compositionNodes.length>0;)n.input.compositionNodes.pop().markParentsDirty()}function k2(n){let e=n.domSelectionRange();if(!e.focusNode)return null;let t=yN(e.focusNode,e.focusOffset),r=bN(e.focusNode,e.focusOffset);if(t&&r&&t!=r){let l=r.pmViewDesc,o=n.domObserver.lastChangedTextNode;if(t==o||r==o)return o;if(!l||!l.isText(r.nodeValue))return r;if(n.input.compositionNode==r){let u=t.pmViewDesc;if(!(!u||!u.isText(t.nodeValue)))return r}}return t||r}function A2(){let n=document.createEvent("Event");return n.initEvent("event",!0,!0),n.timeStamp}function sc(n,e=!1){if(!(Ar&&n.domObserver.flushingSoon>=0)){if(n.domObserver.forceFlush(),Vx(n),e||n.docView&&n.docView.dirty){let t=xm(n),r=n.state.selection;return t&&!t.eq(r)?n.dispatch(n.state.tr.setSelection(t)):(n.markCursor||e)&&!r.$from.node(r.$from.sharedDepth(r.to)).inlineContent?n.dispatch(n.state.tr.deleteSelection()):n.updateState(n.state),!0}return!1}}function w2(n,e){if(!n.dom.parentNode)return;let t=n.dom.parentNode.appendChild(document.createElement("div"));t.appendChild(e),t.style.cssText="position: fixed; left: -10000px; top: 10px";let r=getSelection(),l=document.createRange();l.selectNodeContents(e),n.dom.blur(),r.removeAllRanges(),r.addRange(l),setTimeout(()=>{t.parentNode&&t.parentNode.removeChild(t),n.focus()},50)}const Xo=en&&gi<15||ds&&EN<604;Ft.copy=$t.cut=(n,e)=>{let t=e,r=n.state.selection,l=t.type=="cut";if(r.empty)return;let o=Xo?null:t.clipboardData,u=r.content(),{dom:f,text:d}=Em(n,u);o?(t.preventDefault(),o.clearData(),o.setData("text/html",f.innerHTML),o.setData("text/plain",d)):w2(n,f),l&&n.dispatch(n.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))};function O2(n){return n.openStart==0&&n.openEnd==0&&n.content.childCount==1?n.content.firstChild:null}function M2(n,e){if(!n.dom.parentNode)return;let t=n.input.shiftKey||n.state.selection.$from.parent.type.spec.code,r=n.dom.parentNode.appendChild(document.createElement(t?"textarea":"div"));t||(r.contentEditable="true"),r.style.cssText="position: fixed; left: -10000px; top: 10px",r.focus();let l=n.input.shiftKey&&n.input.lastKeyCode!=45;setTimeout(()=>{n.focus(),r.parentNode&&r.parentNode.removeChild(r),t?Qo(n,r.value,null,l,e):Qo(n,r.textContent,r.innerHTML,l,e)},50)}function Qo(n,e,t,r,l){let o=Dx(n,e,t,r,n.state.selection.$from);if(n.someProp("handlePaste",d=>d(n,l,o||Q.empty)))return!0;if(!o)return!1;let u=O2(o),f=u?n.state.tr.replaceSelectionWith(u,r):n.state.tr.replaceSelection(o);return n.dispatch(f.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}function qx(n){let e=n.getData("text/plain")||n.getData("Text");if(e)return e;let t=n.getData("text/uri-list");return t?t.replace(/\r?\n/g," "):""}$t.paste=(n,e)=>{let t=e;if(n.composing&&!Ar)return;let r=Xo?null:t.clipboardData,l=n.input.shiftKey&&n.input.lastKeyCode!=45;r&&Qo(n,qx(r),r.getData("text/html"),l,t)?t.preventDefault():M2(n,t)};class Ix{constructor(e,t,r){this.slice=e,this.move=t,this.node=r}}const N2=Mn?"altKey":"ctrlKey";function Fx(n,e){let t=n.someProp("dragCopies",r=>!r(e));return t??!e[N2]}Ft.dragstart=(n,e)=>{let t=e,r=n.input.mouseDown;if(r&&r.done(),!t.dataTransfer)return;let l=n.state.selection,o=l.empty?null:n.posAtCoords(nf(t)),u;if(!(o&&o.pos>=l.from&&o.pos<=(l instanceof se?l.to-1:l.to))){if(r&&r.mightDrag)u=se.create(n.state.doc,r.mightDrag.pos);else if(t.target&&t.target.nodeType==1){let y=n.docView.nearestDesc(t.target,!0);y&&y.node.type.spec.draggable&&y!=n.docView&&(u=se.create(n.state.doc,y.posBefore))}}let f=(u||n.state.selection).content(),{dom:d,text:h,slice:m}=Em(n,f);(!t.dataTransfer.files.length||!Rt||gx>120)&&t.dataTransfer.clearData(),t.dataTransfer.setData(Xo?"Text":"text/html",d.innerHTML),t.dataTransfer.effectAllowed="copyMove",Xo||t.dataTransfer.setData("text/plain",h),n.dragging=new Ix(m,Fx(n,t),u)};Ft.dragend=n=>{let e=n.dragging;window.setTimeout(()=>{n.dragging==e&&(n.dragging=null)},50)};$t.dragover=$t.dragenter=(n,e)=>e.preventDefault();$t.drop=(n,e)=>{let t=e,r=n.dragging;if(n.dragging=null,!t.dataTransfer)return;let l=n.posAtCoords(nf(t));if(!l)return;let o=n.state.doc.resolve(l.pos),u=r&&r.slice;u?n.someProp("transformPasted",S=>{u=S(u,n)}):u=Dx(n,qx(t.dataTransfer),Xo?null:t.dataTransfer.getData("text/html"),!1,o);let f=!!(r&&Fx(n,t));if(n.someProp("handleDrop",S=>S(n,t,u||Q.empty,f))){t.preventDefault();return}if(!u)return;t.preventDefault();let d=u?ox(n.state.doc,o.pos,u):o.pos;d==null&&(d=o.pos);let h=n.state.tr;if(f){let{node:S}=r;S?S.replace(h):h.deleteSelection()}let m=h.mapping.map(d),y=u.openStart==0&&u.openEnd==0&&u.content.childCount==1,b=h.doc;if(y?h.replaceRangeWith(m,m,u.content.firstChild):h.replaceRange(m,m,u),h.doc.eq(b))return;let v=h.doc.resolve(m);if(y&&se.isSelectable(u.content.firstChild)&&v.nodeAfter&&v.nodeAfter.sameMarkup(u.content.firstChild))h.setSelection(new se(v));else{let S=h.mapping.map(d);h.mapping.maps[h.mapping.maps.length-1].forEach((T,C,A,O)=>S=O),h.setSelection(Cm(n,v,h.doc.resolve(S)))}n.focus(),n.dispatch(h.setMeta("uiEvent","drop"))};Ft.focus=n=>{n.input.lastFocus=Date.now(),n.focused||(n.domObserver.stop(),n.dom.classList.add("ProseMirror-focused"),n.domObserver.start(),n.focused=!0,setTimeout(()=>{n.docView&&n.hasFocus()&&!n.domObserver.currentSelection.eq(n.domSelectionRange())&&Mr(n)},20))};Ft.blur=(n,e)=>{let t=e;n.focused&&(n.domObserver.stop(),n.dom.classList.remove("ProseMirror-focused"),n.domObserver.start(),t.relatedTarget&&n.dom.contains(t.relatedTarget)&&n.domObserver.currentSelection.clear(),n.focused=!1)};Ft.beforeinput=(n,e)=>{if(Rt&&Ar&&e.inputType=="deleteContentBackward"){n.domObserver.flushSoon();let{domChangeCount:r}=n.input;setTimeout(()=>{if(n.input.domChangeCount!=r||(n.dom.blur(),n.focus(),n.someProp("handleKeyDown",o=>o(n,$i(8,"Backspace")))))return;let{$cursor:l}=n.state.selection;l&&l.pos>0&&n.dispatch(n.state.tr.delete(l.pos-1,l.pos).scrollIntoView())},50)}};for(let n in $t)Ft[n]=$t[n];function Zo(n,e){if(n==e)return!0;for(let t in n)if(n[t]!==e[t])return!1;for(let t in e)if(!(t in n))return!1;return!0}class oc{constructor(e,t){this.toDOM=e,this.spec=t||nl,this.side=this.spec.side||0}map(e,t,r,l){let{pos:o,deleted:u}=e.mapResult(t.from+l,this.side<0?-1:1);return u?null:new Rn(o-r,o-r,this)}valid(){return!0}eq(e){return this==e||e instanceof oc&&(this.spec.key&&this.spec.key==e.spec.key||this.toDOM==e.toDOM&&Zo(this.spec,e.spec))}destroy(e){this.spec.destroy&&this.spec.destroy(e)}}class bi{constructor(e,t){this.attrs=e,this.spec=t||nl}map(e,t,r,l){let o=e.map(t.from+l,this.spec.inclusiveStart?-1:1)-r,u=e.map(t.to+l,this.spec.inclusiveEnd?1:-1)-r;return o>=u?null:new Rn(o,u,this)}valid(e,t){return t.from<t.to}eq(e){return this==e||e instanceof bi&&Zo(this.attrs,e.attrs)&&Zo(this.spec,e.spec)}static is(e){return e.type instanceof bi}destroy(){}}class wm{constructor(e,t){this.attrs=e,this.spec=t||nl}map(e,t,r,l){let o=e.mapResult(t.from+l,1);if(o.deleted)return null;let u=e.mapResult(t.to+l,-1);return u.deleted||u.pos<=o.pos?null:new Rn(o.pos-r,u.pos-r,this)}valid(e,t){let{index:r,offset:l}=e.content.findIndex(t.from),o;return l==t.from&&!(o=e.child(r)).isText&&l+o.nodeSize==t.to}eq(e){return this==e||e instanceof wm&&Zo(this.attrs,e.attrs)&&Zo(this.spec,e.spec)}destroy(){}}class Rn{constructor(e,t,r){this.from=e,this.to=t,this.type=r}copy(e,t){return new Rn(e,t,this.type)}eq(e,t=0){return this.type.eq(e.type)&&this.from+t==e.from&&this.to+t==e.to}map(e,t,r){return this.type.map(e,this,t,r)}static widget(e,t,r){return new Rn(e,e,new oc(t,r))}static inline(e,t,r,l){return new Rn(e,t,new bi(r,l))}static node(e,t,r,l){return new Rn(e,t,new wm(r,l))}get spec(){return this.type.spec}get inline(){return this.type instanceof bi}get widget(){return this.type instanceof oc}}const rs=[],nl={};class at{constructor(e,t){this.local=e.length?e:rs,this.children=t.length?t:rs}static create(e,t){return t.length?ac(t,e,0,nl):Mt}find(e,t,r){let l=[];return this.findInner(e??0,t??1e9,l,0,r),l}findInner(e,t,r,l,o){for(let u=0;u<this.local.length;u++){let f=this.local[u];f.from<=t&&f.to>=e&&(!o||o(f.spec))&&r.push(f.copy(f.from+l,f.to+l))}for(let u=0;u<this.children.length;u+=3)if(this.children[u]<t&&this.children[u+1]>e){let f=this.children[u]+1;this.children[u+2].findInner(e-f,t-f,r,l+f,o)}}map(e,t,r){return this==Mt||e.maps.length==0?this:this.mapInner(e,t,0,0,r||nl)}mapInner(e,t,r,l,o){let u;for(let f=0;f<this.local.length;f++){let d=this.local[f].map(e,r,l);d&&d.type.valid(t,d)?(u||(u=[])).push(d):o.onRemove&&o.onRemove(this.local[f].spec)}return this.children.length?R2(this.children,u||[],e,t,r,l,o):u?new at(u.sort(rl),rs):Mt}add(e,t){return t.length?this==Mt?at.create(e,t):this.addInner(e,t,0):this}addInner(e,t,r){let l,o=0;e.forEach((f,d)=>{let h=d+r,m;if(m=Kx(t,f,h)){for(l||(l=this.children.slice());o<l.length&&l[o]<d;)o+=3;l[o]==d?l[o+2]=l[o+2].addInner(f,m,h+1):l.splice(o,0,d,d+f.nodeSize,ac(m,f,h+1,nl)),o+=3}});let u=$x(o?Gx(t):t,-r);for(let f=0;f<u.length;f++)u[f].type.valid(e,u[f])||u.splice(f--,1);return new at(u.length?this.local.concat(u).sort(rl):this.local,l||this.children)}remove(e){return e.length==0||this==Mt?this:this.removeInner(e,0)}removeInner(e,t){let r=this.children,l=this.local;for(let o=0;o<r.length;o+=3){let u,f=r[o]+t,d=r[o+1]+t;for(let m=0,y;m<e.length;m++)(y=e[m])&&y.from>f&&y.to<d&&(e[m]=null,(u||(u=[])).push(y));if(!u)continue;r==this.children&&(r=this.children.slice());let h=r[o+2].removeInner(u,f+1);h!=Mt?r[o+2]=h:(r.splice(o,3),o-=3)}if(l.length){for(let o=0,u;o<e.length;o++)if(u=e[o])for(let f=0;f<l.length;f++)l[f].eq(u,t)&&(l==this.local&&(l=this.local.slice()),l.splice(f--,1))}return r==this.children&&l==this.local?this:l.length||r.length?new at(l,r):Mt}forChild(e,t){if(this==Mt)return this;if(t.isLeaf)return at.empty;let r,l;for(let f=0;f<this.children.length;f+=3)if(this.children[f]>=e){this.children[f]==e&&(r=this.children[f+2]);break}let o=e+1,u=o+t.content.size;for(let f=0;f<this.local.length;f++){let d=this.local[f];if(d.from<u&&d.to>o&&d.type instanceof bi){let h=Math.max(o,d.from)-o,m=Math.min(u,d.to)-o;h<m&&(l||(l=[])).push(d.copy(h,m))}}if(l){let f=new at(l.sort(rl),rs);return r?new ui([f,r]):f}return r||Mt}eq(e){if(this==e)return!0;if(!(e instanceof at)||this.local.length!=e.local.length||this.children.length!=e.children.length)return!1;for(let t=0;t<this.local.length;t++)if(!this.local[t].eq(e.local[t]))return!1;for(let t=0;t<this.children.length;t+=3)if(this.children[t]!=e.children[t]||this.children[t+1]!=e.children[t+1]||!this.children[t+2].eq(e.children[t+2]))return!1;return!0}locals(e){return Om(this.localsInner(e))}localsInner(e){if(this==Mt)return rs;if(e.inlineContent||!this.local.some(bi.is))return this.local;let t=[];for(let r=0;r<this.local.length;r++)this.local[r].type instanceof bi||t.push(this.local[r]);return t}forEachSet(e){e(this)}}at.empty=new at([],[]);at.removeOverlap=Om;const Mt=at.empty;class ui{constructor(e){this.members=e}map(e,t){const r=this.members.map(l=>l.map(e,t,nl));return ui.from(r)}forChild(e,t){if(t.isLeaf)return at.empty;let r=[];for(let l=0;l<this.members.length;l++){let o=this.members[l].forChild(e,t);o!=Mt&&(o instanceof ui?r=r.concat(o.members):r.push(o))}return ui.from(r)}eq(e){if(!(e instanceof ui)||e.members.length!=this.members.length)return!1;for(let t=0;t<this.members.length;t++)if(!this.members[t].eq(e.members[t]))return!1;return!0}locals(e){let t,r=!0;for(let l=0;l<this.members.length;l++){let o=this.members[l].localsInner(e);if(o.length)if(!t)t=o;else{r&&(t=t.slice(),r=!1);for(let u=0;u<o.length;u++)t.push(o[u])}}return t?Om(r?t:t.sort(rl)):rs}static from(e){switch(e.length){case 0:return Mt;case 1:return e[0];default:return new ui(e.every(t=>t instanceof at)?e:e.reduce((t,r)=>t.concat(r instanceof at?r:r.members),[]))}}forEachSet(e){for(let t=0;t<this.members.length;t++)this.members[t].forEachSet(e)}}function R2(n,e,t,r,l,o,u){let f=n.slice();for(let h=0,m=o;h<t.maps.length;h++){let y=0;t.maps[h].forEach((b,v,S,T)=>{let C=T-S-(v-b);for(let A=0;A<f.length;A+=3){let O=f[A+1];if(O<0||b>O+m-y)continue;let _=f[A]+m-y;v>=_?f[A+1]=b<=_?-2:-1:b>=m&&C&&(f[A]+=C,f[A+1]+=C)}y+=C}),m=t.maps[h].map(m,-1)}let d=!1;for(let h=0;h<f.length;h+=3)if(f[h+1]<0){if(f[h+1]==-2){d=!0,f[h+1]=-1;continue}let m=t.map(n[h]+o),y=m-l;if(y<0||y>=r.content.size){d=!0;continue}let b=t.map(n[h+1]+o,-1),v=b-l,{index:S,offset:T}=r.content.findIndex(y),C=r.maybeChild(S);if(C&&T==y&&T+C.nodeSize==v){let A=f[h+2].mapInner(t,C,m+1,n[h]+o+1,u);A!=Mt?(f[h]=y,f[h+1]=v,f[h+2]=A):(f[h+1]=-2,d=!0)}else d=!0}if(d){let h=D2(f,n,e,t,l,o,u),m=ac(h,r,0,u);e=m.local;for(let y=0;y<f.length;y+=3)f[y+1]<0&&(f.splice(y,3),y-=3);for(let y=0,b=0;y<m.children.length;y+=3){let v=m.children[y];for(;b<f.length&&f[b]<v;)b+=3;f.splice(b,0,m.children[y],m.children[y+1],m.children[y+2])}}return new at(e.sort(rl),f)}function $x(n,e){if(!e||!n.length)return n;let t=[];for(let r=0;r<n.length;r++){let l=n[r];t.push(new Rn(l.from+e,l.to+e,l.type))}return t}function D2(n,e,t,r,l,o,u){function f(d,h){for(let m=0;m<d.local.length;m++){let y=d.local[m].map(r,l,h);y?t.push(y):u.onRemove&&u.onRemove(d.local[m].spec)}for(let m=0;m<d.children.length;m+=3)f(d.children[m+2],d.children[m]+h+1)}for(let d=0;d<n.length;d+=3)n[d+1]==-1&&f(n[d+2],e[d]+o+1);return t}function Kx(n,e,t){if(e.isLeaf)return null;let r=t+e.nodeSize,l=null;for(let o=0,u;o<n.length;o++)(u=n[o])&&u.from>t&&u.to<r&&((l||(l=[])).push(u),n[o]=null);return l}function Gx(n){let e=[];for(let t=0;t<n.length;t++)n[t]!=null&&e.push(n[t]);return e}function ac(n,e,t,r){let l=[],o=!1;e.forEach((f,d)=>{let h=Kx(n,f,d+t);if(h){o=!0;let m=ac(h,f,t+d+1,r);m!=Mt&&l.push(d,d+f.nodeSize,m)}});let u=$x(o?Gx(n):n,-t).sort(rl);for(let f=0;f<u.length;f++)u[f].type.valid(e,u[f])||(r.onRemove&&r.onRemove(u[f].spec),u.splice(f--,1));return u.length||l.length?new at(u,l):Mt}function rl(n,e){return n.from-e.from||n.to-e.to}function Om(n){let e=n;for(let t=0;t<e.length-1;t++){let r=e[t];if(r.from!=r.to)for(let l=t+1;l<e.length;l++){let o=e[l];if(o.from==r.from){o.to!=r.to&&(e==n&&(e=n.slice()),e[l]=o.copy(o.from,r.to),aS(e,l+1,o.copy(r.to,o.to)));continue}else{o.from<r.to&&(e==n&&(e=n.slice()),e[t]=r.copy(r.from,o.from),aS(e,l,r.copy(o.from,r.to)));break}}}return e}function aS(n,e,t){for(;e<n.length&&rl(t,n[e])>0;)e++;n.splice(e,0,t)}function Qh(n){let e=[];return n.someProp("decorations",t=>{let r=t(n.state);r&&r!=Mt&&e.push(r)}),n.cursorWrapper&&e.push(at.create(n.state.doc,[n.cursorWrapper.deco])),ui.from(e)}const z2={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},B2=en&&gi<=11;class L2{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}set(e){this.anchorNode=e.anchorNode,this.anchorOffset=e.anchorOffset,this.focusNode=e.focusNode,this.focusOffset=e.focusOffset}clear(){this.anchorNode=this.focusNode=null}eq(e){return e.anchorNode==this.anchorNode&&e.anchorOffset==this.anchorOffset&&e.focusNode==this.focusNode&&e.focusOffset==this.focusOffset}}class j2{constructor(e,t){this.view=e,this.handleDOMChange=t,this.queue=[],this.flushingSoon=-1,this.observer=null,this.currentSelection=new L2,this.onCharData=null,this.suppressingSelectionUpdates=!1,this.lastChangedTextNode=null,this.observer=window.MutationObserver&&new window.MutationObserver(r=>{for(let l=0;l<r.length;l++)this.queue.push(r[l]);en&&gi<=11&&r.some(l=>l.type=="childList"&&l.removedNodes.length||l.type=="characterData"&&l.oldValue.length>l.target.nodeValue.length)?this.flushSoon():this.flush()}),B2&&(this.onCharData=r=>{this.queue.push({target:r.target,type:"characterData",oldValue:r.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this)}flushSoon(){this.flushingSoon<0&&(this.flushingSoon=window.setTimeout(()=>{this.flushingSoon=-1,this.flush()},20))}forceFlush(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())}start(){this.observer&&(this.observer.takeRecords(),this.observer.observe(this.view.dom,z2)),this.onCharData&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()}stop(){if(this.observer){let e=this.observer.takeRecords();if(e.length){for(let t=0;t<e.length;t++)this.queue.push(e[t]);window.setTimeout(()=>this.flush(),20)}this.observer.disconnect()}this.onCharData&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()}connectSelection(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)}disconnectSelection(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)}suppressSelectionUpdates(){this.suppressingSelectionUpdates=!0,setTimeout(()=>this.suppressingSelectionUpdates=!1,50)}onSelectionChange(){if(eS(this.view)){if(this.suppressingSelectionUpdates)return Mr(this.view);if(en&&gi<=11&&!this.view.state.selection.empty){let e=this.view.domSelectionRange();if(e.focusNode&&al(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset))return this.flushSoon()}this.flush()}}setCurSelection(){this.currentSelection.set(this.view.domSelectionRange())}ignoreSelectionChange(e){if(!e.focusNode)return!0;let t=new Set,r;for(let o=e.focusNode;o;o=fs(o))t.add(o);for(let o=e.anchorNode;o;o=fs(o))if(t.has(o)){r=o;break}let l=r&&this.view.docView.nearestDesc(r);if(l&&l.ignoreMutation({type:"selection",target:r.nodeType==3?r.parentNode:r}))return this.setCurSelection(),!0}pendingRecords(){if(this.observer)for(let e of this.observer.takeRecords())this.queue.push(e);return this.queue}flush(){let{view:e}=this;if(!e.docView||this.flushingSoon>-1)return;let t=this.pendingRecords();t.length&&(this.queue=[]);let r=e.domSelectionRange(),l=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(r)&&eS(e)&&!this.ignoreSelectionChange(r),o=-1,u=-1,f=!1,d=[];if(e.editable)for(let m=0;m<t.length;m++){let y=this.registerMutation(t[m],d);y&&(o=o<0?y.from:Math.min(y.from,o),u=u<0?y.to:Math.max(y.to,u),y.typeOver&&(f=!0))}if(Hn&&d.length){let m=d.filter(y=>y.nodeName=="BR");if(m.length==2){let[y,b]=m;y.parentNode&&y.parentNode.parentNode==b.parentNode?b.remove():y.remove()}else{let{focusNode:y}=this.currentSelection;for(let b of m){let v=b.parentNode;v&&v.nodeName=="LI"&&(!y||H2(e,y)!=v)&&b.remove()}}}let h=null;o<0&&l&&e.input.lastFocus>Date.now()-200&&Math.max(e.input.lastTouch,e.input.lastClick.time)<Date.now()-300&&ef(r)&&(h=xm(e))&&h.eq(ge.near(e.state.doc.resolve(0),1))?(e.input.lastFocus=0,Mr(e),this.currentSelection.set(r),e.scrollToSelection()):(o>-1||l)&&(o>-1&&(e.docView.markDirty(o,u),_2(e)),this.handleDOMChange(o,u,f,d),e.docView&&e.docView.dirty?e.updateState(e.state):this.currentSelection.eq(r)||Mr(e),this.currentSelection.set(r))}registerMutation(e,t){if(t.indexOf(e.target)>-1)return null;let r=this.view.docView.nearestDesc(e.target);if(e.type=="attributes"&&(r==this.view.docView||e.attributeName=="contenteditable"||e.attributeName=="style"&&!e.oldValue&&!e.target.getAttribute("style"))||!r||r.ignoreMutation(e))return null;if(e.type=="childList"){for(let m=0;m<e.addedNodes.length;m++){let y=e.addedNodes[m];t.push(y),y.nodeType==3&&(this.lastChangedTextNode=y)}if(r.contentDOM&&r.contentDOM!=r.dom&&!r.contentDOM.contains(e.target))return{from:r.posBefore,to:r.posAfter};let l=e.previousSibling,o=e.nextSibling;if(en&&gi<=11&&e.addedNodes.length)for(let m=0;m<e.addedNodes.length;m++){let{previousSibling:y,nextSibling:b}=e.addedNodes[m];(!y||Array.prototype.indexOf.call(e.addedNodes,y)<0)&&(l=y),(!b||Array.prototype.indexOf.call(e.addedNodes,b)<0)&&(o=b)}let u=l&&l.parentNode==e.target?xt(l)+1:0,f=r.localPosFromDOM(e.target,u,-1),d=o&&o.parentNode==e.target?xt(o):e.target.childNodes.length,h=r.localPosFromDOM(e.target,d,1);return{from:f,to:h}}else return e.type=="attributes"?{from:r.posAtStart-r.border,to:r.posAtEnd+r.border}:(this.lastChangedTextNode=e.target,{from:r.posAtStart,to:r.posAtEnd,typeOver:e.target.nodeValue==e.oldValue})}}let uS=new WeakMap,cS=!1;function _2(n){if(!uS.has(n)&&(uS.set(n,null),["normal","nowrap","pre-line"].indexOf(getComputedStyle(n.dom).whiteSpace)!==-1)){if(n.requiresGeckoHackNode=Hn,cS)return;console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package."),cS=!0}}function fS(n,e){let t=e.startContainer,r=e.startOffset,l=e.endContainer,o=e.endOffset,u=n.domAtPos(n.state.selection.anchor);return al(u.node,u.offset,l,o)&&([t,r,l,o]=[l,o,t,r]),{anchorNode:t,anchorOffset:r,focusNode:l,focusOffset:o}}function P2(n,e){if(e.getComposedRanges){let l=e.getComposedRanges(n.root)[0];if(l)return fS(n,l)}let t;function r(l){l.preventDefault(),l.stopImmediatePropagation(),t=l.getTargetRanges()[0]}return n.dom.addEventListener("beforeinput",r,!0),document.execCommand("indent"),n.dom.removeEventListener("beforeinput",r,!0),t?fS(n,t):null}function H2(n,e){for(let t=e.parentNode;t&&t!=n.dom;t=t.parentNode){let r=n.docView.nearestDesc(t,!0);if(r&&r.node.isBlock)return t}return null}function U2(n,e,t){let{node:r,fromOffset:l,toOffset:o,from:u,to:f}=n.docView.parseRange(e,t),d=n.domSelectionRange(),h,m=d.anchorNode;if(m&&n.dom.contains(m.nodeType==1?m:m.parentNode)&&(h=[{node:m,offset:d.anchorOffset}],ef(d)||h.push({node:d.focusNode,offset:d.focusOffset})),Rt&&n.input.lastKeyCode===8)for(let C=o;C>l;C--){let A=r.childNodes[C-1],O=A.pmViewDesc;if(A.nodeName=="BR"&&!O){o=C;break}if(!O||O.size)break}let y=n.state.doc,b=n.someProp("domParser")||mi.fromSchema(n.state.schema),v=y.resolve(u),S=null,T=b.parse(r,{topNode:v.parent,topMatch:v.parent.contentMatchAt(v.index()),topOpen:!0,from:l,to:o,preserveWhitespace:v.parent.type.whitespace=="pre"?"full":!0,findPositions:h,ruleFromNode:V2,context:v});if(h&&h[0].pos!=null){let C=h[0].pos,A=h[1]&&h[1].pos;A==null&&(A=C),S={anchor:C+u,head:A+u}}return{doc:T,sel:S,from:u,to:f}}function V2(n){let e=n.pmViewDesc;if(e)return e.parseRule();if(n.nodeName=="BR"&&n.parentNode){if(It&&/^(ul|ol)$/i.test(n.parentNode.nodeName)){let t=document.createElement("div");return t.appendChild(document.createElement("li")),{skip:t}}else if(n.parentNode.lastChild==n||It&&/^(tr|table)$/i.test(n.parentNode.nodeName))return{ignore:!0}}else if(n.nodeName=="IMG"&&n.getAttribute("mark-placeholder"))return{ignore:!0};return null}const q2=/^(a|abbr|acronym|b|bd[io]|big|br|button|cite|code|data(list)?|del|dfn|em|i|ins|kbd|label|map|mark|meter|output|q|ruby|s|samp|small|span|strong|su[bp]|time|u|tt|var)$/i;function I2(n,e,t,r,l){let o=n.input.compositionPendingChanges||(n.composing?n.input.compositionID:0);if(n.input.compositionPendingChanges=0,e<0){let W=n.input.lastSelectionTime>Date.now()-50?n.input.lastSelectionOrigin:null,Me=xm(n,W);if(Me&&!n.state.selection.eq(Me)){if(Rt&&Ar&&n.input.lastKeyCode===13&&Date.now()-100<n.input.lastKeyCodeTime&&n.someProp("handleKeyDown",Fe=>Fe(n,$i(13,"Enter"))))return;let Je=n.state.tr.setSelection(Me);W=="pointer"?Je.setMeta("pointer",!0):W=="key"&&Je.scrollIntoView(),o&&Je.setMeta("composition",o),n.dispatch(Je)}return}let u=n.state.doc.resolve(e),f=u.sharedDepth(t);e=u.before(f+1),t=n.state.doc.resolve(t).after(f+1);let d=n.state.selection,h=U2(n,e,t),m=n.state.doc,y=m.slice(h.from,h.to),b,v;n.input.lastKeyCode===8&&Date.now()-100<n.input.lastKeyCodeTime?(b=n.state.selection.to,v="end"):(b=n.state.selection.from,v="start"),n.input.lastKeyCode=null;let S=K2(y.content,h.doc.content,h.from,b,v);if(S&&n.input.domChangeCount++,(ds&&n.input.lastIOSEnter>Date.now()-225||Ar)&&l.some(W=>W.nodeType==1&&!q2.test(W.nodeName))&&(!S||S.endA>=S.endB)&&n.someProp("handleKeyDown",W=>W(n,$i(13,"Enter")))){n.input.lastIOSEnter=0;return}if(!S)if(r&&d instanceof he&&!d.empty&&d.$head.sameParent(d.$anchor)&&!n.composing&&!(h.sel&&h.sel.anchor!=h.sel.head))S={start:d.from,endA:d.to,endB:d.to};else{if(h.sel){let W=dS(n,n.state.doc,h.sel);if(W&&!W.eq(n.state.selection)){let Me=n.state.tr.setSelection(W);o&&Me.setMeta("composition",o),n.dispatch(Me)}}return}n.state.selection.from<n.state.selection.to&&S.start==S.endB&&n.state.selection instanceof he&&(S.start>n.state.selection.from&&S.start<=n.state.selection.from+2&&n.state.selection.from>=h.from?S.start=n.state.selection.from:S.endA<n.state.selection.to&&S.endA>=n.state.selection.to-2&&n.state.selection.to<=h.to&&(S.endB+=n.state.selection.to-S.endA,S.endA=n.state.selection.to)),en&&gi<=11&&S.endB==S.start+1&&S.endA==S.start&&S.start>h.from&&h.doc.textBetween(S.start-h.from-1,S.start-h.from+1)==" "&&(S.start--,S.endA--,S.endB--);let T=h.doc.resolveNoCache(S.start-h.from),C=h.doc.resolveNoCache(S.endB-h.from),A=m.resolve(S.start),O=T.sameParent(C)&&T.parent.inlineContent&&A.end()>=S.endA,_;if((ds&&n.input.lastIOSEnter>Date.now()-225&&(!O||l.some(W=>W.nodeName=="DIV"||W.nodeName=="P"))||!O&&T.pos<h.doc.content.size&&(!T.sameParent(C)||!T.parent.inlineContent)&&!/\S/.test(h.doc.textBetween(T.pos,C.pos,"",""))&&(_=ge.findFrom(h.doc.resolve(T.pos+1),1,!0))&&_.head>T.pos)&&n.someProp("handleKeyDown",W=>W(n,$i(13,"Enter")))){n.input.lastIOSEnter=0;return}if(n.state.selection.anchor>S.start&&$2(m,S.start,S.endA,T,C)&&n.someProp("handleKeyDown",W=>W(n,$i(8,"Backspace")))){Ar&&Rt&&n.domObserver.suppressSelectionUpdates();return}Rt&&S.endB==S.start&&(n.input.lastChromeDelete=Date.now()),Ar&&!O&&T.start()!=C.start()&&C.parentOffset==0&&T.depth==C.depth&&h.sel&&h.sel.anchor==h.sel.head&&h.sel.head==S.endA&&(S.endB-=2,C=h.doc.resolveNoCache(S.endB-h.from),setTimeout(()=>{n.someProp("handleKeyDown",function(W){return W(n,$i(13,"Enter"))})},20));let G=S.start,q=S.endA,J,re,ce;if(O){if(T.pos==C.pos)en&&gi<=11&&T.parentOffset==0&&(n.domObserver.suppressSelectionUpdates(),setTimeout(()=>Mr(n),20)),J=n.state.tr.delete(G,q),re=m.resolve(S.start).marksAcross(m.resolve(S.endA));else if(S.endA==S.endB&&(ce=F2(T.parent.content.cut(T.parentOffset,C.parentOffset),A.parent.content.cut(A.parentOffset,S.endA-A.start()))))J=n.state.tr,ce.type=="add"?J.addMark(G,q,ce.mark):J.removeMark(G,q,ce.mark);else if(T.parent.child(T.index()).isText&&T.index()==C.index()-(C.textOffset?0:1)){let W=T.parent.textBetween(T.parentOffset,C.parentOffset);if(n.someProp("handleTextInput",Me=>Me(n,G,q,W)))return;J=n.state.tr.insertText(W,G,q)}}if(J||(J=n.state.tr.replace(G,q,h.doc.slice(S.start-h.from,S.endB-h.from))),h.sel){let W=dS(n,J.doc,h.sel);W&&!(Rt&&n.composing&&W.empty&&(S.start!=S.endB||n.input.lastChromeDelete<Date.now()-100)&&(W.head==G||W.head==J.mapping.map(q)-1)||en&&W.empty&&W.head==G)&&J.setSelection(W)}re&&J.ensureMarks(re),o&&J.setMeta("composition",o),n.dispatch(J.scrollIntoView())}function dS(n,e,t){return Math.max(t.anchor,t.head)>e.content.size?null:Cm(n,e.resolve(t.anchor),e.resolve(t.head))}function F2(n,e){let t=n.firstChild.marks,r=e.firstChild.marks,l=t,o=r,u,f,d;for(let m=0;m<r.length;m++)l=r[m].removeFromSet(l);for(let m=0;m<t.length;m++)o=t[m].removeFromSet(o);if(l.length==1&&o.length==0)f=l[0],u="add",d=m=>m.mark(f.addToSet(m.marks));else if(l.length==0&&o.length==1)f=o[0],u="remove",d=m=>m.mark(f.removeFromSet(m.marks));else return null;let h=[];for(let m=0;m<e.childCount;m++)h.push(d(e.child(m)));if($.from(h).eq(n))return{mark:f,type:u}}function $2(n,e,t,r,l){if(t-e<=l.pos-r.pos||Zh(r,!0,!1)<l.pos)return!1;let o=n.resolve(e);if(!r.parent.isTextblock){let f=o.nodeAfter;return f!=null&&t==e+f.nodeSize}if(o.parentOffset<o.parent.content.size||!o.parent.isTextblock)return!1;let u=n.resolve(Zh(o,!0,!0));return!u.parent.isTextblock||u.pos>t||Zh(u,!0,!1)<t?!1:r.parent.content.cut(r.parentOffset).eq(u.parent.content)}function Zh(n,e,t){let r=n.depth,l=e?n.end():n.pos;for(;r>0&&(e||n.indexAfter(r)==n.node(r).childCount);)r--,l++,e=!1;if(t){let o=n.node(r).maybeChild(n.indexAfter(r));for(;o&&!o.isLeaf;)o=o.firstChild,l++}return l}function K2(n,e,t,r,l){let o=n.findDiffStart(e,t);if(o==null)return null;let{a:u,b:f}=n.findDiffEnd(e,t+n.size,t+e.size);if(l=="end"){let d=Math.max(0,o-Math.min(u,f));r-=u+d-o}if(u<o&&n.size<e.size){let d=r<=o&&r>=u?o-r:0;o-=d,o&&o<e.size&&hS(e.textBetween(o-1,o+1))&&(o+=d?1:-1),f=o+(f-u),u=o}else if(f<o){let d=r<=o&&r>=f?o-r:0;o-=d,o&&o<n.size&&hS(n.textBetween(o-1,o+1))&&(o+=d?1:-1),u=o+(u-f),f=o}return{start:o,endA:u,endB:f}}function hS(n){if(n.length!=2)return!1;let e=n.charCodeAt(0),t=n.charCodeAt(1);return e>=56320&&e<=57343&&t>=55296&&t<=56319}class G2{constructor(e,t){this._root=null,this.focused=!1,this.trackWrites=null,this.mounted=!1,this.markCursor=null,this.cursorWrapper=null,this.lastSelectedViewDesc=void 0,this.input=new f2,this.prevDirectPlugins=[],this.pluginViews=[],this.requiresGeckoHackNode=!1,this.dragging=null,this._props=t,this.state=t.state,this.directPlugins=t.plugins||[],this.directPlugins.forEach(bS),this.dispatch=this.dispatch.bind(this),this.dom=e&&e.mount||document.createElement("div"),e&&(e.appendChild?e.appendChild(this.dom):typeof e=="function"?e(this.dom):e.mount&&(this.mounted=!0)),this.editable=gS(this),mS(this),this.nodeViews=yS(this),this.docView=Y1(this.state.doc,pS(this),Qh(this),this.dom,this),this.domObserver=new j2(this,(r,l,o,u)=>I2(this,r,l,o,u)),this.domObserver.start(),d2(this),this.updatePluginViews()}get composing(){return this.input.composing}get props(){if(this._props.state!=this.state){let e=this._props;this._props={};for(let t in e)this._props[t]=e[t];this._props.state=this.state}return this._props}update(e){e.handleDOMEvents!=this._props.handleDOMEvents&&Vp(this);let t=this._props;this._props=e,e.plugins&&(e.plugins.forEach(bS),this.directPlugins=e.plugins),this.updateStateInner(e.state,t)}setProps(e){let t={};for(let r in this._props)t[r]=this._props[r];t.state=this.state;for(let r in e)t[r]=e[r];this.update(t)}updateState(e){this.updateStateInner(e,this._props)}updateStateInner(e,t){var r;let l=this.state,o=!1,u=!1;e.storedMarks&&this.composing&&(Vx(this),u=!0),this.state=e;let f=l.plugins!=e.plugins||this._props.plugins!=t.plugins;if(f||this._props.plugins!=t.plugins||this._props.nodeViews!=t.nodeViews){let v=yS(this);J2(v,this.nodeViews)&&(this.nodeViews=v,o=!0)}(f||t.handleDOMEvents!=this._props.handleDOMEvents)&&Vp(this),this.editable=gS(this),mS(this);let d=Qh(this),h=pS(this),m=l.plugins!=e.plugins&&!l.doc.eq(e.doc)?"reset":e.scrollToSelection>l.scrollToSelection?"to selection":"preserve",y=o||!this.docView.matchesNode(e.doc,h,d);(y||!e.selection.eq(l.selection))&&(u=!0);let b=m=="preserve"&&u&&this.dom.style.overflowAnchor==null&&AN(this);if(u){this.domObserver.stop();let v=y&&(en||Rt)&&!this.composing&&!l.selection.empty&&!e.selection.empty&&Y2(l.selection,e.selection);if(y){let S=Rt?this.trackWrites=this.domSelectionRange().focusNode:null;this.composing&&(this.input.compositionNode=k2(this)),(o||!this.docView.update(e.doc,h,d,this))&&(this.docView.updateOuterDeco(h),this.docView.destroy(),this.docView=Y1(e.doc,h,d,this.dom,this)),S&&!this.trackWrites&&(v=!0)}v||!(this.input.mouseDown&&this.domObserver.currentSelection.eq(this.domSelectionRange())&&XN(this))?Mr(this,v):(Mx(this,e.selection),this.domObserver.setCurSelection()),this.domObserver.start()}this.updatePluginViews(l),!((r=this.dragging)===null||r===void 0)&&r.node&&!l.doc.eq(e.doc)&&this.updateDraggedNode(this.dragging,l),m=="reset"?this.dom.scrollTop=0:m=="to selection"?this.scrollToSelection():b&&wN(b)}scrollToSelection(){let e=this.domSelectionRange().focusNode;if(!(!e||!this.dom.contains(e.nodeType==1?e:e.parentNode))){if(!this.someProp("handleScrollToSelection",t=>t(this)))if(this.state.selection instanceof se){let t=this.docView.domAfterPos(this.state.selection.from);t.nodeType==1&&q1(this,t.getBoundingClientRect(),e)}else q1(this,this.coordsAtPos(this.state.selection.head,1),e)}}destroyPluginViews(){let e;for(;e=this.pluginViews.pop();)e.destroy&&e.destroy()}updatePluginViews(e){if(!e||e.plugins!=this.state.plugins||this.directPlugins!=this.prevDirectPlugins){this.prevDirectPlugins=this.directPlugins,this.destroyPluginViews();for(let t=0;t<this.directPlugins.length;t++){let r=this.directPlugins[t];r.spec.view&&this.pluginViews.push(r.spec.view(this))}for(let t=0;t<this.state.plugins.length;t++){let r=this.state.plugins[t];r.spec.view&&this.pluginViews.push(r.spec.view(this))}}else for(let t=0;t<this.pluginViews.length;t++){let r=this.pluginViews[t];r.update&&r.update(this,e)}}updateDraggedNode(e,t){let r=e.node,l=-1;if(this.state.doc.nodeAt(r.from)==r.node)l=r.from;else{let o=r.from+(this.state.doc.content.size-t.doc.content.size);(o>0&&this.state.doc.nodeAt(o))==r.node&&(l=o)}this.dragging=new Ix(e.slice,e.move,l<0?void 0:se.create(this.state.doc,l))}someProp(e,t){let r=this._props&&this._props[e],l;if(r!=null&&(l=t?t(r):r))return l;for(let u=0;u<this.directPlugins.length;u++){let f=this.directPlugins[u].props[e];if(f!=null&&(l=t?t(f):f))return l}let o=this.state.plugins;if(o)for(let u=0;u<o.length;u++){let f=o[u].props[e];if(f!=null&&(l=t?t(f):f))return l}}hasFocus(){if(en){let e=this.root.activeElement;if(e==this.dom)return!0;if(!e||!this.dom.contains(e))return!1;for(;e&&this.dom!=e&&this.dom.contains(e);){if(e.contentEditable=="false")return!1;e=e.parentElement}return!0}return this.root.activeElement==this.dom}focus(){this.domObserver.stop(),this.editable&&ON(this.dom),Mr(this),this.domObserver.start()}get root(){let e=this._root;if(e==null){for(let t=this.dom.parentNode;t;t=t.parentNode)if(t.nodeType==9||t.nodeType==11&&t.host)return t.getSelection||(Object.getPrototypeOf(t).getSelection=()=>t.ownerDocument.getSelection()),this._root=t}return e||document}updateRoot(){this._root=null}posAtCoords(e){return zN(this,e)}coordsAtPos(e,t=1){return xx(this,e,t)}domAtPos(e,t=0){return this.docView.domFromPos(e,t)}nodeDOM(e){let t=this.docView.descAt(e);return t?t.nodeDOM:null}posAtDOM(e,t,r=-1){let l=this.docView.posFromDOM(e,t,r);if(l==null)throw new RangeError("DOM position not inside the editor");return l}endOfTextblock(e,t){return PN(this,t||this.state,e)}pasteHTML(e,t){return Qo(this,"",e,!1,t||new ClipboardEvent("paste"))}pasteText(e,t){return Qo(this,e,null,!0,t||new ClipboardEvent("paste"))}serializeForClipboard(e){return Em(this,e)}destroy(){this.docView&&(h2(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],Qh(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null,mN())}get isDestroyed(){return this.docView==null}dispatchEvent(e){return m2(this,e)}dispatch(e){let t=this._props.dispatchTransaction;t?t.call(this,e):this.updateState(this.state.apply(e))}domSelectionRange(){let e=this.domSelection();return e?It&&this.root.nodeType===11&&vN(this.dom.ownerDocument)==this.dom&&P2(this,e)||e:{focusNode:null,focusOffset:0,anchorNode:null,anchorOffset:0}}domSelection(){return this.root.getSelection()}}function pS(n){let e=Object.create(null);return e.class="ProseMirror",e.contenteditable=String(n.editable),n.someProp("attributes",t=>{if(typeof t=="function"&&(t=t(n.state)),t)for(let r in t)r=="class"?e.class+=" "+t[r]:r=="style"?e.style=(e.style?e.style+";":"")+t[r]:!e[r]&&r!="contenteditable"&&r!="nodeName"&&(e[r]=String(t[r]))}),e.translate||(e.translate="no"),[Rn.node(0,n.state.doc.content.size,e)]}function mS(n){if(n.markCursor){let e=document.createElement("img");e.className="ProseMirror-separator",e.setAttribute("mark-placeholder","true"),e.setAttribute("alt",""),n.cursorWrapper={dom:e,deco:Rn.widget(n.state.selection.from,e,{raw:!0,marks:n.markCursor})}}else n.cursorWrapper=null}function gS(n){return!n.someProp("editable",e=>e(n.state)===!1)}function Y2(n,e){let t=Math.min(n.$anchor.sharedDepth(n.head),e.$anchor.sharedDepth(e.head));return n.$anchor.start(t)!=e.$anchor.start(t)}function yS(n){let e=Object.create(null);function t(r){for(let l in r)Object.prototype.hasOwnProperty.call(e,l)||(e[l]=r[l])}return n.someProp("nodeViews",t),n.someProp("markViews",t),e}function J2(n,e){let t=0,r=0;for(let l in n){if(n[l]!=e[l])return!0;t++}for(let l in e)r++;return t!=r}function bS(n){if(n.spec.state||n.spec.filterTransaction||n.spec.appendTransaction)throw new RangeError("Plugins passed directly to the view must not have a state component")}var Si={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},uc={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},X2=typeof navigator<"u"&&/Mac/.test(navigator.platform),Q2=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(var Ct=0;Ct<10;Ct++)Si[48+Ct]=Si[96+Ct]=String(Ct);for(var Ct=1;Ct<=24;Ct++)Si[Ct+111]="F"+Ct;for(var Ct=65;Ct<=90;Ct++)Si[Ct]=String.fromCharCode(Ct+32),uc[Ct]=String.fromCharCode(Ct);for(var Wh in Si)uc.hasOwnProperty(Wh)||(uc[Wh]=Si[Wh]);function Z2(n){var e=X2&&n.metaKey&&n.shiftKey&&!n.ctrlKey&&!n.altKey||Q2&&n.shiftKey&&n.key&&n.key.length==1||n.key=="Unidentified",t=!e&&n.key||(n.shiftKey?uc:Si)[n.keyCode]||n.key||"Unidentified";return t=="Esc"&&(t="Escape"),t=="Del"&&(t="Delete"),t=="Left"&&(t="ArrowLeft"),t=="Up"&&(t="ArrowUp"),t=="Right"&&(t="ArrowRight"),t=="Down"&&(t="ArrowDown"),t}const W2=typeof navigator<"u"&&/Mac|iP(hone|[oa]d)/.test(navigator.platform),eR=typeof navigator<"u"&&/Win/.test(navigator.platform);function tR(n){let e=n.split(/-(?!$)/),t=e[e.length-1];t=="Space"&&(t=" ");let r,l,o,u;for(let f=0;f<e.length-1;f++){let d=e[f];if(/^(cmd|meta|m)$/i.test(d))u=!0;else if(/^a(lt)?$/i.test(d))r=!0;else if(/^(c|ctrl|control)$/i.test(d))l=!0;else if(/^s(hift)?$/i.test(d))o=!0;else if(/^mod$/i.test(d))W2?u=!0:l=!0;else throw new Error("Unrecognized modifier name: "+d)}return r&&(t="Alt-"+t),l&&(t="Ctrl-"+t),u&&(t="Meta-"+t),o&&(t="Shift-"+t),t}function nR(n){let e=Object.create(null);for(let t in n)e[tR(t)]=n[t];return e}function ep(n,e,t=!0){return e.altKey&&(n="Alt-"+n),e.ctrlKey&&(n="Ctrl-"+n),e.metaKey&&(n="Meta-"+n),t&&e.shiftKey&&(n="Shift-"+n),n}function rR(n){return new Tt({props:{handleKeyDown:Yx(n)}})}function Yx(n){let e=nR(n);return function(t,r){let l=Z2(r),o,u=e[ep(l,r)];if(u&&u(t.state,t.dispatch,t))return!0;if(l.length==1&&l!=" "){if(r.shiftKey){let f=e[ep(l,r,!1)];if(f&&f(t.state,t.dispatch,t))return!0}if((r.altKey||r.metaKey||r.ctrlKey)&&!(eR&&r.ctrlKey&&r.altKey)&&(o=Si[r.keyCode])&&o!=l){let f=e[ep(o,r)];if(f&&f(t.state,t.dispatch,t))return!0}}return!1}}const Mm=(n,e)=>n.selection.empty?!1:(e&&e(n.tr.deleteSelection().scrollIntoView()),!0);function Jx(n,e){let{$cursor:t}=n.selection;return!t||(e?!e.endOfTextblock("backward",n):t.parentOffset>0)?null:t}const Xx=(n,e,t)=>{let r=Jx(n,t);if(!r)return!1;let l=Nm(r);if(!l){let u=r.blockRange(),f=u&&xs(u);return f==null?!1:(e&&e(n.tr.lift(u,f).scrollIntoView()),!0)}let o=l.nodeBefore;if(lC(n,l,e,-1))return!0;if(r.parent.content.size==0&&(hs(o,"end")||se.isSelectable(o)))for(let u=r.depth;;u--){let f=Zc(n.doc,r.before(u),r.after(u),Q.empty);if(f&&f.slice.size<f.to-f.from){if(e){let d=n.tr.step(f);d.setSelection(hs(o,"end")?ge.findFrom(d.doc.resolve(d.mapping.map(l.pos,-1)),-1):se.create(d.doc,l.pos-o.nodeSize)),e(d.scrollIntoView())}return!0}if(u==1||r.node(u-1).childCount>1)break}return o.isAtom&&l.depth==r.depth-1?(e&&e(n.tr.delete(l.pos-o.nodeSize,l.pos).scrollIntoView()),!0):!1},iR=(n,e,t)=>{let r=Jx(n,t);if(!r)return!1;let l=Nm(r);return l?Qx(n,l,e):!1},lR=(n,e,t)=>{let r=Wx(n,t);if(!r)return!1;let l=Rm(r);return l?Qx(n,l,e):!1};function Qx(n,e,t){let r=e.nodeBefore,l=r,o=e.pos-1;for(;!l.isTextblock;o--){if(l.type.spec.isolating)return!1;let m=l.lastChild;if(!m)return!1;l=m}let u=e.nodeAfter,f=u,d=e.pos+1;for(;!f.isTextblock;d++){if(f.type.spec.isolating)return!1;let m=f.firstChild;if(!m)return!1;f=m}let h=Zc(n.doc,o,d,Q.empty);if(!h||h.from!=o||h instanceof ht&&h.slice.size>=d-o)return!1;if(t){let m=n.tr.step(h);m.setSelection(he.create(m.doc,o)),t(m.scrollIntoView())}return!0}function hs(n,e,t=!1){for(let r=n;r;r=e=="start"?r.firstChild:r.lastChild){if(r.isTextblock)return!0;if(t&&r.childCount!=1)return!1}return!1}const Zx=(n,e,t)=>{let{$head:r,empty:l}=n.selection,o=r;if(!l)return!1;if(r.parent.isTextblock){if(t?!t.endOfTextblock("backward",n):r.parentOffset>0)return!1;o=Nm(r)}let u=o&&o.nodeBefore;return!u||!se.isSelectable(u)?!1:(e&&e(n.tr.setSelection(se.create(n.doc,o.pos-u.nodeSize)).scrollIntoView()),!0)};function Nm(n){if(!n.parent.type.spec.isolating)for(let e=n.depth-1;e>=0;e--){if(n.index(e)>0)return n.doc.resolve(n.before(e+1));if(n.node(e).type.spec.isolating)break}return null}function Wx(n,e){let{$cursor:t}=n.selection;return!t||(e?!e.endOfTextblock("forward",n):t.parentOffset<t.parent.content.size)?null:t}const eC=(n,e,t)=>{let r=Wx(n,t);if(!r)return!1;let l=Rm(r);if(!l)return!1;let o=l.nodeAfter;if(lC(n,l,e,1))return!0;if(r.parent.content.size==0&&(hs(o,"start")||se.isSelectable(o))){let u=Zc(n.doc,r.before(),r.after(),Q.empty);if(u&&u.slice.size<u.to-u.from){if(e){let f=n.tr.step(u);f.setSelection(hs(o,"start")?ge.findFrom(f.doc.resolve(f.mapping.map(l.pos)),1):se.create(f.doc,f.mapping.map(l.pos))),e(f.scrollIntoView())}return!0}}return o.isAtom&&l.depth==r.depth-1?(e&&e(n.tr.delete(l.pos,l.pos+o.nodeSize).scrollIntoView()),!0):!1},tC=(n,e,t)=>{let{$head:r,empty:l}=n.selection,o=r;if(!l)return!1;if(r.parent.isTextblock){if(t?!t.endOfTextblock("forward",n):r.parentOffset<r.parent.content.size)return!1;o=Rm(r)}let u=o&&o.nodeAfter;return!u||!se.isSelectable(u)?!1:(e&&e(n.tr.setSelection(se.create(n.doc,o.pos)).scrollIntoView()),!0)};function Rm(n){if(!n.parent.type.spec.isolating)for(let e=n.depth-1;e>=0;e--){let t=n.node(e);if(n.index(e)+1<t.childCount)return n.doc.resolve(n.after(e+1));if(t.type.spec.isolating)break}return null}const sR=(n,e)=>{let t=n.selection,r=t instanceof se,l;if(r){if(t.node.isTextblock||!Ci(n.doc,t.from))return!1;l=t.from}else if(l=Qc(n.doc,t.from,-1),l==null)return!1;if(e){let o=n.tr.join(l);r&&o.setSelection(se.create(o.doc,l-n.doc.resolve(l).nodeBefore.nodeSize)),e(o.scrollIntoView())}return!0},oR=(n,e)=>{let t=n.selection,r;if(t instanceof se){if(t.node.isTextblock||!Ci(n.doc,t.to))return!1;r=t.to}else if(r=Qc(n.doc,t.to,1),r==null)return!1;return e&&e(n.tr.join(r).scrollIntoView()),!0},aR=(n,e)=>{let{$from:t,$to:r}=n.selection,l=t.blockRange(r),o=l&&xs(l);return o==null?!1:(e&&e(n.tr.lift(l,o).scrollIntoView()),!0)},nC=(n,e)=>{let{$head:t,$anchor:r}=n.selection;return!t.parent.type.spec.code||!t.sameParent(r)?!1:(e&&e(n.tr.insertText(`
`).scrollIntoView()),!0)};function Dm(n){for(let e=0;e<n.edgeCount;e++){let{type:t}=n.edge(e);if(t.isTextblock&&!t.hasRequiredAttrs())return t}return null}const uR=(n,e)=>{let{$head:t,$anchor:r}=n.selection;if(!t.parent.type.spec.code||!t.sameParent(r))return!1;let l=t.node(-1),o=t.indexAfter(-1),u=Dm(l.contentMatchAt(o));if(!u||!l.canReplaceWith(o,o,u))return!1;if(e){let f=t.after(),d=n.tr.replaceWith(f,f,u.createAndFill());d.setSelection(ge.near(d.doc.resolve(f),1)),e(d.scrollIntoView())}return!0},rC=(n,e)=>{let t=n.selection,{$from:r,$to:l}=t;if(t instanceof mn||r.parent.inlineContent||l.parent.inlineContent)return!1;let o=Dm(l.parent.contentMatchAt(l.indexAfter()));if(!o||!o.isTextblock)return!1;if(e){let u=(!r.parentOffset&&l.index()<l.parent.childCount?r:l).pos,f=n.tr.insert(u,o.createAndFill());f.setSelection(he.create(f.doc,u+1)),e(f.scrollIntoView())}return!0},iC=(n,e)=>{let{$cursor:t}=n.selection;if(!t||t.parent.content.size)return!1;if(t.depth>1&&t.after()!=t.end(-1)){let o=t.before();if(Or(n.doc,o))return e&&e(n.tr.split(o).scrollIntoView()),!0}let r=t.blockRange(),l=r&&xs(r);return l==null?!1:(e&&e(n.tr.lift(r,l).scrollIntoView()),!0)};function cR(n){return(e,t)=>{let{$from:r,$to:l}=e.selection;if(e.selection instanceof se&&e.selection.node.isBlock)return!r.parentOffset||!Or(e.doc,r.pos)?!1:(t&&t(e.tr.split(r.pos).scrollIntoView()),!0);if(!r.depth)return!1;let o=[],u,f,d=!1,h=!1;for(let v=r.depth;;v--)if(r.node(v).isBlock){d=r.end(v)==r.pos+(r.depth-v),h=r.start(v)==r.pos-(r.depth-v),f=Dm(r.node(v-1).contentMatchAt(r.indexAfter(v-1))),o.unshift(d&&f?{type:f}:null),u=v;break}else{if(v==1)return!1;o.unshift(null)}let m=e.tr;(e.selection instanceof he||e.selection instanceof mn)&&m.deleteSelection();let y=m.mapping.map(r.pos),b=Or(m.doc,y,o.length,o);if(b||(o[0]=f?{type:f}:null,b=Or(m.doc,y,o.length,o)),!b)return!1;if(m.split(y,o.length,o),!d&&h&&r.node(u).type!=f){let v=m.mapping.map(r.before(u)),S=m.doc.resolve(v);f&&r.node(u-1).canReplaceWith(S.index(),S.index()+1,f)&&m.setNodeMarkup(m.mapping.map(r.before(u)),f)}return t&&t(m.scrollIntoView()),!0}}const fR=cR(),dR=(n,e)=>{let{$from:t,to:r}=n.selection,l,o=t.sharedDepth(r);return o==0?!1:(l=t.before(o),e&&e(n.tr.setSelection(se.create(n.doc,l))),!0)};function hR(n,e,t){let r=e.nodeBefore,l=e.nodeAfter,o=e.index();return!r||!l||!r.type.compatibleContent(l.type)?!1:!r.content.size&&e.parent.canReplace(o-1,o)?(t&&t(n.tr.delete(e.pos-r.nodeSize,e.pos).scrollIntoView()),!0):!e.parent.canReplace(o,o+1)||!(l.isTextblock||Ci(n.doc,e.pos))?!1:(t&&t(n.tr.join(e.pos).scrollIntoView()),!0)}function lC(n,e,t,r){let l=e.nodeBefore,o=e.nodeAfter,u,f,d=l.type.spec.isolating||o.type.spec.isolating;if(!d&&hR(n,e,t))return!0;let h=!d&&e.parent.canReplace(e.index(),e.index()+1);if(h&&(u=(f=l.contentMatchAt(l.childCount)).findWrapping(o.type))&&f.matchType(u[0]||o.type).validEnd){if(t){let v=e.pos+o.nodeSize,S=$.empty;for(let A=u.length-1;A>=0;A--)S=$.from(u[A].create(null,S));S=$.from(l.copy(S));let T=n.tr.step(new pt(e.pos-1,v,e.pos,v,new Q(S,1,0),u.length,!0)),C=T.doc.resolve(v+2*u.length);C.nodeAfter&&C.nodeAfter.type==l.type&&Ci(T.doc,C.pos)&&T.join(C.pos),t(T.scrollIntoView())}return!0}let m=o.type.spec.isolating||r>0&&d?null:ge.findFrom(e,1),y=m&&m.$from.blockRange(m.$to),b=y&&xs(y);if(b!=null&&b>=e.depth)return t&&t(n.tr.lift(y,b).scrollIntoView()),!0;if(h&&hs(o,"start",!0)&&hs(l,"end")){let v=l,S=[];for(;S.push(v),!v.isTextblock;)v=v.lastChild;let T=o,C=1;for(;!T.isTextblock;T=T.firstChild)C++;if(v.canReplace(v.childCount,v.childCount,T.content)){if(t){let A=$.empty;for(let _=S.length-1;_>=0;_--)A=$.from(S[_].copy(A));let O=n.tr.step(new pt(e.pos-S.length,e.pos+o.nodeSize,e.pos+C,e.pos+o.nodeSize-C,new Q(A,S.length,0),0,!0));t(O.scrollIntoView())}return!0}}return!1}function sC(n){return function(e,t){let r=e.selection,l=n<0?r.$from:r.$to,o=l.depth;for(;l.node(o).isInline;){if(!o)return!1;o--}return l.node(o).isTextblock?(t&&t(e.tr.setSelection(he.create(e.doc,n<0?l.start(o):l.end(o)))),!0):!1}}const pR=sC(-1),mR=sC(1);function gR(n,e=null){return function(t,r){let{$from:l,$to:o}=t.selection,u=l.blockRange(o),f=u&&bm(u,n,e);return f?(r&&r(t.tr.wrap(u,f).scrollIntoView()),!0):!1}}function SS(n,e=null){return function(t,r){let l=!1;for(let o=0;o<t.selection.ranges.length&&!l;o++){let{$from:{pos:u},$to:{pos:f}}=t.selection.ranges[o];t.doc.nodesBetween(u,f,(d,h)=>{if(l)return!1;if(!(!d.isTextblock||d.hasMarkup(n,e)))if(d.type==n)l=!0;else{let m=t.doc.resolve(h),y=m.index();l=m.parent.canReplaceWith(y,y+1,n)}})}if(!l)return!1;if(r){let o=t.tr;for(let u=0;u<t.selection.ranges.length;u++){let{$from:{pos:f},$to:{pos:d}}=t.selection.ranges[u];o.setBlockType(f,d,n,e)}r(o.scrollIntoView())}return!0}}function zm(...n){return function(e,t,r){for(let l=0;l<n.length;l++)if(n[l](e,t,r))return!0;return!1}}zm(Mm,Xx,Zx);zm(Mm,eC,tC);zm(nC,rC,iC,fR);typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):typeof os<"u"&&os.platform&&os.platform()=="darwin";function yR(n,e=null){return function(t,r){let{$from:l,$to:o}=t.selection,u=l.blockRange(o);if(!u)return!1;let f=r?t.tr:null;return bR(f,u,n,e)?(r&&r(f.scrollIntoView()),!0):!1}}function bR(n,e,t,r=null){let l=!1,o=e,u=e.$from.doc;if(e.depth>=2&&e.$from.node(e.depth-1).type.compatibleContent(t)&&e.startIndex==0){if(e.$from.index(e.depth-1)==0)return!1;let d=u.resolve(e.start-2);o=new nc(d,d,e.depth),e.endIndex<e.parent.childCount&&(e=new nc(e.$from,u.resolve(e.$to.end(e.depth)),e.depth)),l=!0}let f=bm(o,t,r,e);return f?(n&&SR(n,e,f,l,t),!0):!1}function SR(n,e,t,r,l){let o=$.empty;for(let m=t.length-1;m>=0;m--)o=$.from(t[m].type.create(t[m].attrs,o));n.step(new pt(e.start-(r?2:0),e.end,e.start,e.end,new Q(o,0,0),t.length,!0));let u=0;for(let m=0;m<t.length;m++)t[m].type==l&&(u=m+1);let f=t.length-u,d=e.start+t.length-(r?2:0),h=e.parent;for(let m=e.startIndex,y=e.endIndex,b=!0;m<y;m++,b=!1)!b&&Or(n.doc,d,f)&&(n.split(d,f),d+=2*f),d+=h.child(m).nodeSize;return n}function vR(n){return function(e,t){let{$from:r,$to:l}=e.selection,o=r.blockRange(l,u=>u.childCount>0&&u.firstChild.type==n);return o?t?r.node(o.depth-1).type==n?xR(e,t,n,o):CR(e,t,o):!0:!1}}function xR(n,e,t,r){let l=n.tr,o=r.end,u=r.$to.end(r.depth);o<u&&(l.step(new pt(o-1,u,o,u,new Q($.from(t.create(null,r.parent.copy())),1,0),1,!0)),r=new nc(l.doc.resolve(r.$from.pos),l.doc.resolve(u),r.depth));const f=xs(r);if(f==null)return!1;l.lift(r,f);let d=l.doc.resolve(l.mapping.map(o,-1)-1);return Ci(l.doc,d.pos)&&d.nodeBefore.type==d.nodeAfter.type&&l.join(d.pos),e(l.scrollIntoView()),!0}function CR(n,e,t){let r=n.tr,l=t.parent;for(let v=t.end,S=t.endIndex-1,T=t.startIndex;S>T;S--)v-=l.child(S).nodeSize,r.delete(v-1,v+1);let o=r.doc.resolve(t.start),u=o.nodeAfter;if(r.mapping.map(t.end)!=t.start+o.nodeAfter.nodeSize)return!1;let f=t.startIndex==0,d=t.endIndex==l.childCount,h=o.node(-1),m=o.index(-1);if(!h.canReplace(m+(f?0:1),m+1,u.content.append(d?$.empty:$.from(l))))return!1;let y=o.pos,b=y+u.nodeSize;return r.step(new pt(y-(f?1:0),b+(d?1:0),y+1,b-1,new Q((f?$.empty:$.from(l.copy($.empty))).append(d?$.empty:$.from(l.copy($.empty))),f?0:1,d?0:1),f?0:1)),e(r.scrollIntoView()),!0}function ER(n){return function(e,t){let{$from:r,$to:l}=e.selection,o=r.blockRange(l,h=>h.childCount>0&&h.firstChild.type==n);if(!o)return!1;let u=o.startIndex;if(u==0)return!1;let f=o.parent,d=f.child(u-1);if(d.type!=n)return!1;if(t){let h=d.lastChild&&d.lastChild.type==f.type,m=$.from(h?n.create():null),y=new Q($.from(n.create(null,$.from(f.type.create(null,m)))),h?3:1,0),b=o.start,v=o.end;t(e.tr.step(new pt(b-(h?3:1),v,b,v,y,1,!0)).scrollIntoView())}return!0}}function rf(n){const{state:e,transaction:t}=n;let{selection:r}=t,{doc:l}=t,{storedMarks:o}=t;return{...e,apply:e.apply.bind(e),applyTransaction:e.applyTransaction.bind(e),plugins:e.plugins,schema:e.schema,reconfigure:e.reconfigure.bind(e),toJSON:e.toJSON.bind(e),get storedMarks(){return o},get selection(){return r},get doc(){return l},get tr(){return r=t.selection,l=t.doc,o=t.storedMarks,t}}}class lf{constructor(e){this.editor=e.editor,this.rawCommands=this.editor.extensionManager.commands,this.customState=e.state}get hasCustomState(){return!!this.customState}get state(){return this.customState||this.editor.state}get commands(){const{rawCommands:e,editor:t,state:r}=this,{view:l}=t,{tr:o}=r,u=this.buildProps(o);return Object.fromEntries(Object.entries(e).map(([f,d])=>[f,(...m)=>{const y=d(...m)(u);return!o.getMeta("preventDispatch")&&!this.hasCustomState&&l.dispatch(o),y}]))}get chain(){return()=>this.createChain()}get can(){return()=>this.createCan()}createChain(e,t=!0){const{rawCommands:r,editor:l,state:o}=this,{view:u}=l,f=[],d=!!e,h=e||o.tr,m=()=>(!d&&t&&!h.getMeta("preventDispatch")&&!this.hasCustomState&&u.dispatch(h),f.every(b=>b===!0)),y={...Object.fromEntries(Object.entries(r).map(([b,v])=>[b,(...T)=>{const C=this.buildProps(h,t),A=v(...T)(C);return f.push(A),y}])),run:m};return y}createCan(e){const{rawCommands:t,state:r}=this,l=!1,o=e||r.tr,u=this.buildProps(o,l);return{...Object.fromEntries(Object.entries(t).map(([d,h])=>[d,(...m)=>h(...m)({...u,dispatch:void 0})])),chain:()=>this.createChain(o,l)}}buildProps(e,t=!0){const{rawCommands:r,editor:l,state:o}=this,{view:u}=l,f={tr:e,editor:l,view:u,state:rf({state:o,transaction:e}),dispatch:t?()=>{}:void 0,chain:()=>this.createChain(e,t),can:()=>this.createCan(e),get commands(){return Object.fromEntries(Object.entries(r).map(([d,h])=>[d,(...m)=>h(...m)(f)]))}};return f}}class TR{constructor(){this.callbacks={}}on(e,t){return this.callbacks[e]||(this.callbacks[e]=[]),this.callbacks[e].push(t),this}emit(e,...t){const r=this.callbacks[e];return r&&r.forEach(l=>l.apply(this,t)),this}off(e,t){const r=this.callbacks[e];return r&&(t?this.callbacks[e]=r.filter(l=>l!==t):delete this.callbacks[e]),this}once(e,t){const r=(...l)=>{this.off(e,r),t.apply(this,l)};return this.on(e,r)}removeAllListeners(){this.callbacks={}}}function te(n,e,t){return n.config[e]===void 0&&n.parent?te(n.parent,e,t):typeof n.config[e]=="function"?n.config[e].bind({...t,parent:n.parent?te(n.parent,e,t):null}):n.config[e]}function sf(n){const e=n.filter(l=>l.type==="extension"),t=n.filter(l=>l.type==="node"),r=n.filter(l=>l.type==="mark");return{baseExtensions:e,nodeExtensions:t,markExtensions:r}}function oC(n){const e=[],{nodeExtensions:t,markExtensions:r}=sf(n),l=[...t,...r],o={default:null,rendered:!0,renderHTML:null,parseHTML:null,keepOnSplit:!0,isRequired:!1};return n.forEach(u=>{const f={name:u.name,options:u.options,storage:u.storage,extensions:l},d=te(u,"addGlobalAttributes",f);if(!d)return;d().forEach(m=>{m.types.forEach(y=>{Object.entries(m.attributes).forEach(([b,v])=>{e.push({type:y,name:b,attribute:{...o,...v}})})})})}),l.forEach(u=>{const f={name:u.name,options:u.options,storage:u.storage},d=te(u,"addAttributes",f);if(!d)return;const h=d();Object.entries(h).forEach(([m,y])=>{const b={...o,...y};typeof(b==null?void 0:b.default)=="function"&&(b.default=b.default()),b!=null&&b.isRequired&&(b==null?void 0:b.default)===void 0&&delete b.default,e.push({type:u.name,name:m,attribute:b})})}),e}function gt(n,e){if(typeof n=="string"){if(!e.nodes[n])throw Error(`There is no node type named '${n}'. Maybe you forgot to add the extension?`);return e.nodes[n]}return n}function Et(...n){return n.filter(e=>!!e).reduce((e,t)=>{const r={...e};return Object.entries(t).forEach(([l,o])=>{if(!r[l]){r[l]=o;return}if(l==="class"){const f=o?String(o).split(" "):[],d=r[l]?r[l].split(" "):[],h=f.filter(m=>!d.includes(m));r[l]=[...d,...h].join(" ")}else if(l==="style"){const f=o?o.split(";").map(m=>m.trim()).filter(Boolean):[],d=r[l]?r[l].split(";").map(m=>m.trim()).filter(Boolean):[],h=new Map;d.forEach(m=>{const[y,b]=m.split(":").map(v=>v.trim());h.set(y,b)}),f.forEach(m=>{const[y,b]=m.split(":").map(v=>v.trim());h.set(y,b)}),r[l]=Array.from(h.entries()).map(([m,y])=>`${m}: ${y}`).join("; ")}else r[l]=o}),r},{})}function qp(n,e){return e.filter(t=>t.type===n.type.name).filter(t=>t.attribute.rendered).map(t=>t.attribute.renderHTML?t.attribute.renderHTML(n.attrs)||{}:{[t.name]:n.attrs[t.name]}).reduce((t,r)=>Et(t,r),{})}function aC(n){return typeof n=="function"}function Se(n,e=void 0,...t){return aC(n)?e?n.bind(e)(...t):n(...t):n}function kR(n={}){return Object.keys(n).length===0&&n.constructor===Object}function AR(n){return typeof n!="string"?n:n.match(/^[+-]?(?:\d*\.)?\d+$/)?Number(n):n==="true"?!0:n==="false"?!1:n}function vS(n,e){return"style"in n?n:{...n,getAttrs:t=>{const r=n.getAttrs?n.getAttrs(t):n.attrs;if(r===!1)return!1;const l=e.reduce((o,u)=>{const f=u.attribute.parseHTML?u.attribute.parseHTML(t):AR(t.getAttribute(u.name));return f==null?o:{...o,[u.name]:f}},{});return{...r,...l}}}}function xS(n){return Object.fromEntries(Object.entries(n).filter(([e,t])=>e==="attrs"&&kR(t)?!1:t!=null))}function wR(n,e){var t;const r=oC(n),{nodeExtensions:l,markExtensions:o}=sf(n),u=(t=l.find(h=>te(h,"topNode")))===null||t===void 0?void 0:t.name,f=Object.fromEntries(l.map(h=>{const m=r.filter(A=>A.type===h.name),y={name:h.name,options:h.options,storage:h.storage,editor:e},b=n.reduce((A,O)=>{const _=te(O,"extendNodeSchema",y);return{...A,..._?_(h):{}}},{}),v=xS({...b,content:Se(te(h,"content",y)),marks:Se(te(h,"marks",y)),group:Se(te(h,"group",y)),inline:Se(te(h,"inline",y)),atom:Se(te(h,"atom",y)),selectable:Se(te(h,"selectable",y)),draggable:Se(te(h,"draggable",y)),code:Se(te(h,"code",y)),whitespace:Se(te(h,"whitespace",y)),linebreakReplacement:Se(te(h,"linebreakReplacement",y)),defining:Se(te(h,"defining",y)),isolating:Se(te(h,"isolating",y)),attrs:Object.fromEntries(m.map(A=>{var O;return[A.name,{default:(O=A==null?void 0:A.attribute)===null||O===void 0?void 0:O.default}]}))}),S=Se(te(h,"parseHTML",y));S&&(v.parseDOM=S.map(A=>vS(A,m)));const T=te(h,"renderHTML",y);T&&(v.toDOM=A=>T({node:A,HTMLAttributes:qp(A,m)}));const C=te(h,"renderText",y);return C&&(v.toText=C),[h.name,v]})),d=Object.fromEntries(o.map(h=>{const m=r.filter(C=>C.type===h.name),y={name:h.name,options:h.options,storage:h.storage,editor:e},b=n.reduce((C,A)=>{const O=te(A,"extendMarkSchema",y);return{...C,...O?O(h):{}}},{}),v=xS({...b,inclusive:Se(te(h,"inclusive",y)),excludes:Se(te(h,"excludes",y)),group:Se(te(h,"group",y)),spanning:Se(te(h,"spanning",y)),code:Se(te(h,"code",y)),attrs:Object.fromEntries(m.map(C=>{var A;return[C.name,{default:(A=C==null?void 0:C.attribute)===null||A===void 0?void 0:A.default}]}))}),S=Se(te(h,"parseHTML",y));S&&(v.parseDOM=S.map(C=>vS(C,m)));const T=te(h,"renderHTML",y);return T&&(v.toDOM=C=>T({mark:C,HTMLAttributes:qp(C,m)})),[h.name,v]}));return new Xv({topNode:u,nodes:f,marks:d})}function tp(n,e){return e.nodes[n]||e.marks[n]||null}function CS(n,e){return Array.isArray(e)?e.some(t=>(typeof t=="string"?t:t.name)===n.name):e}function Bm(n,e){const t=dl.fromSchema(e).serializeFragment(n),l=document.implementation.createHTMLDocument().createElement("div");return l.appendChild(t),l.innerHTML}const OR=(n,e=500)=>{let t="";const r=n.parentOffset;return n.parent.nodesBetween(Math.max(0,r-e),r,(l,o,u,f)=>{var d,h;const m=((h=(d=l.type.spec).toText)===null||h===void 0?void 0:h.call(d,{node:l,pos:o,parent:u,index:f}))||l.textContent||"%leaf%";t+=l.isAtom&&!l.isText?m:m.slice(0,Math.max(0,r-o))}),t};function Lm(n){return Object.prototype.toString.call(n)==="[object RegExp]"}class of{constructor(e){this.find=e.find,this.handler=e.handler}}const MR=(n,e)=>{if(Lm(e))return e.exec(n);const t=e(n);if(!t)return null;const r=[t.text];return r.index=t.index,r.input=n,r.data=t.data,t.replaceWith&&(t.text.includes(t.replaceWith)||console.warn('[tiptap warn]: "inputRuleMatch.replaceWith" must be part of "inputRuleMatch.text".'),r.push(t.replaceWith)),r};function Mu(n){var e;const{editor:t,from:r,to:l,text:o,rules:u,plugin:f}=n,{view:d}=t;if(d.composing)return!1;const h=d.state.doc.resolve(r);if(h.parent.type.spec.code||!((e=h.nodeBefore||h.nodeAfter)===null||e===void 0)&&e.marks.find(b=>b.type.spec.code))return!1;let m=!1;const y=OR(h)+o;return u.forEach(b=>{if(m)return;const v=MR(y,b.find);if(!v)return;const S=d.state.tr,T=rf({state:d.state,transaction:S}),C={from:r-(v[0].length-o.length),to:l},{commands:A,chain:O,can:_}=new lf({editor:t,state:T});b.handler({state:T,range:C,match:v,commands:A,chain:O,can:_})===null||!S.steps.length||(S.setMeta(f,{transform:S,from:r,to:l,text:o}),d.dispatch(S),m=!0)}),m}function NR(n){const{editor:e,rules:t}=n,r=new Tt({state:{init(){return null},apply(l,o,u){const f=l.getMeta(r);if(f)return f;const d=l.getMeta("applyInputRules");return!!d&&setTimeout(()=>{let{text:m}=d;typeof m=="string"?m=m:m=Bm($.from(m),u.schema);const{from:y}=d,b=y+m.length;Mu({editor:e,from:y,to:b,text:m,rules:t,plugin:r})}),l.selectionSet||l.docChanged?null:o}},props:{handleTextInput(l,o,u,f){return Mu({editor:e,from:o,to:u,text:f,rules:t,plugin:r})},handleDOMEvents:{compositionend:l=>(setTimeout(()=>{const{$cursor:o}=l.state.selection;o&&Mu({editor:e,from:o.pos,to:o.pos,text:"",rules:t,plugin:r})}),!1)},handleKeyDown(l,o){if(o.key!=="Enter")return!1;const{$cursor:u}=l.state.selection;return u?Mu({editor:e,from:u.pos,to:u.pos,text:`
`,rules:t,plugin:r}):!1}},isInputRules:!0});return r}function RR(n){return Object.prototype.toString.call(n).slice(8,-1)}function Nu(n){return RR(n)!=="Object"?!1:n.constructor===Object&&Object.getPrototypeOf(n)===Object.prototype}function af(n,e){const t={...n};return Nu(n)&&Nu(e)&&Object.keys(e).forEach(r=>{Nu(e[r])&&Nu(n[r])?t[r]=af(n[r],e[r]):t[r]=e[r]}),t}class Dr{constructor(e={}){this.type="mark",this.name="mark",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...e},this.name=this.config.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=Se(te(this,"addOptions",{name:this.name}))),this.storage=Se(te(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(e={}){return new Dr(e)}configure(e={}){const t=this.extend({...this.config,addOptions:()=>af(this.options,e)});return t.name=this.name,t.parent=this.parent,t}extend(e={}){const t=new Dr(e);return t.parent=this,this.child=t,t.name=e.name?e.name:t.parent.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${t.name}".`),t.options=Se(te(t,"addOptions",{name:t.name})),t.storage=Se(te(t,"addStorage",{name:t.name,options:t.options})),t}static handleExit({editor:e,mark:t}){const{tr:r}=e.state,l=e.state.selection.$from;if(l.pos===l.end()){const u=l.marks();if(!!!u.find(h=>(h==null?void 0:h.type.name)===t.name))return!1;const d=u.find(h=>(h==null?void 0:h.type.name)===t.name);return d&&r.removeStoredMark(d),r.insertText(" ",l.pos),e.view.dispatch(r),!0}return!1}}function DR(n){return typeof n=="number"}class zR{constructor(e){this.find=e.find,this.handler=e.handler}}const BR=(n,e,t)=>{if(Lm(e))return[...n.matchAll(e)];const r=e(n,t);return r?r.map(l=>{const o=[l.text];return o.index=l.index,o.input=n,o.data=l.data,l.replaceWith&&(l.text.includes(l.replaceWith)||console.warn('[tiptap warn]: "pasteRuleMatch.replaceWith" must be part of "pasteRuleMatch.text".'),o.push(l.replaceWith)),o}):[]};function LR(n){const{editor:e,state:t,from:r,to:l,rule:o,pasteEvent:u,dropEvent:f}=n,{commands:d,chain:h,can:m}=new lf({editor:e,state:t}),y=[];return t.doc.nodesBetween(r,l,(v,S)=>{if(!v.isTextblock||v.type.spec.code)return;const T=Math.max(r,S),C=Math.min(l,S+v.content.size),A=v.textBetween(T-S,C-S,void 0,"");BR(A,o.find,u).forEach(_=>{if(_.index===void 0)return;const G=T+_.index+1,q=G+_[0].length,J={from:t.tr.mapping.map(G),to:t.tr.mapping.map(q)},re=o.handler({state:t,range:J,match:_,commands:d,chain:h,can:m,pasteEvent:u,dropEvent:f});y.push(re)})}),y.every(v=>v!==null)}let Ru=null;const jR=n=>{var e;const t=new ClipboardEvent("paste",{clipboardData:new DataTransfer});return(e=t.clipboardData)===null||e===void 0||e.setData("text/html",n),t};function _R(n){const{editor:e,rules:t}=n;let r=null,l=!1,o=!1,u=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,f;try{f=typeof DragEvent<"u"?new DragEvent("drop"):null}catch{f=null}const d=({state:m,from:y,to:b,rule:v,pasteEvt:S})=>{const T=m.tr,C=rf({state:m,transaction:T});if(!(!LR({editor:e,state:C,from:Math.max(y-1,0),to:b.b-1,rule:v,pasteEvent:S,dropEvent:f})||!T.steps.length)){try{f=typeof DragEvent<"u"?new DragEvent("drop"):null}catch{f=null}return u=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,T}};return t.map(m=>new Tt({view(y){const b=S=>{var T;r=!((T=y.dom.parentElement)===null||T===void 0)&&T.contains(S.target)?y.dom.parentElement:null,r&&(Ru=e)},v=()=>{Ru&&(Ru=null)};return window.addEventListener("dragstart",b),window.addEventListener("dragend",v),{destroy(){window.removeEventListener("dragstart",b),window.removeEventListener("dragend",v)}}},props:{handleDOMEvents:{drop:(y,b)=>{if(o=r===y.dom.parentElement,f=b,!o){const v=Ru;v&&setTimeout(()=>{const S=v.state.selection;S&&v.commands.deleteRange({from:S.from,to:S.to})},10)}return!1},paste:(y,b)=>{var v;const S=(v=b.clipboardData)===null||v===void 0?void 0:v.getData("text/html");return u=b,l=!!(S!=null&&S.includes("data-pm-slice")),!1}}},appendTransaction:(y,b,v)=>{const S=y[0],T=S.getMeta("uiEvent")==="paste"&&!l,C=S.getMeta("uiEvent")==="drop"&&!o,A=S.getMeta("applyPasteRules"),O=!!A;if(!T&&!C&&!O)return;if(O){let{text:q}=A;typeof q=="string"?q=q:q=Bm($.from(q),v.schema);const{from:J}=A,re=J+q.length,ce=jR(q);return d({rule:m,state:v,from:J,to:{b:re},pasteEvt:ce})}const _=b.doc.content.findDiffStart(v.doc.content),G=b.doc.content.findDiffEnd(v.doc.content);if(!(!DR(_)||!G||_===G.b))return d({rule:m,state:v,from:_,to:G,pasteEvt:u})}}))}function PR(n){const e=n.filter((t,r)=>n.indexOf(t)!==r);return Array.from(new Set(e))}class ss{constructor(e,t){this.splittableMarks=[],this.editor=t,this.extensions=ss.resolve(e),this.schema=wR(this.extensions,t),this.setupExtensions()}static resolve(e){const t=ss.sort(ss.flatten(e)),r=PR(t.map(l=>l.name));return r.length&&console.warn(`[tiptap warn]: Duplicate extension names found: [${r.map(l=>`'${l}'`).join(", ")}]. This can lead to issues.`),t}static flatten(e){return e.map(t=>{const r={name:t.name,options:t.options,storage:t.storage},l=te(t,"addExtensions",r);return l?[t,...this.flatten(l())]:t}).flat(10)}static sort(e){return e.sort((r,l)=>{const o=te(r,"priority")||100,u=te(l,"priority")||100;return o>u?-1:o<u?1:0})}get commands(){return this.extensions.reduce((e,t)=>{const r={name:t.name,options:t.options,storage:t.storage,editor:this.editor,type:tp(t.name,this.schema)},l=te(t,"addCommands",r);return l?{...e,...l()}:e},{})}get plugins(){const{editor:e}=this,t=ss.sort([...this.extensions].reverse()),r=[],l=[],o=t.map(u=>{const f={name:u.name,options:u.options,storage:u.storage,editor:e,type:tp(u.name,this.schema)},d=[],h=te(u,"addKeyboardShortcuts",f);let m={};if(u.type==="mark"&&te(u,"exitable",f)&&(m.ArrowRight=()=>Dr.handleExit({editor:e,mark:u})),h){const T=Object.fromEntries(Object.entries(h()).map(([C,A])=>[C,()=>A({editor:e})]));m={...m,...T}}const y=rR(m);d.push(y);const b=te(u,"addInputRules",f);CS(u,e.options.enableInputRules)&&b&&r.push(...b());const v=te(u,"addPasteRules",f);CS(u,e.options.enablePasteRules)&&v&&l.push(...v());const S=te(u,"addProseMirrorPlugins",f);if(S){const T=S();d.push(...T)}return d}).flat();return[NR({editor:e,rules:r}),..._R({editor:e,rules:l}),...o]}get attributes(){return oC(this.extensions)}get nodeViews(){const{editor:e}=this,{nodeExtensions:t}=sf(this.extensions);return Object.fromEntries(t.filter(r=>!!te(r,"addNodeView")).map(r=>{const l=this.attributes.filter(d=>d.type===r.name),o={name:r.name,options:r.options,storage:r.storage,editor:e,type:gt(r.name,this.schema)},u=te(r,"addNodeView",o);if(!u)return[];const f=(d,h,m,y,b)=>{const v=qp(d,l);return u()({node:d,view:h,getPos:m,decorations:y,innerDecorations:b,editor:e,extension:r,HTMLAttributes:v})};return[r.name,f]}))}setupExtensions(){this.extensions.forEach(e=>{var t;this.editor.extensionStorage[e.name]=e.storage;const r={name:e.name,options:e.options,storage:e.storage,editor:this.editor,type:tp(e.name,this.schema)};e.type==="mark"&&(!((t=Se(te(e,"keepOnSplit",r)))!==null&&t!==void 0)||t)&&this.splittableMarks.push(e.name);const l=te(e,"onBeforeCreate",r),o=te(e,"onCreate",r),u=te(e,"onUpdate",r),f=te(e,"onSelectionUpdate",r),d=te(e,"onTransaction",r),h=te(e,"onFocus",r),m=te(e,"onBlur",r),y=te(e,"onDestroy",r);l&&this.editor.on("beforeCreate",l),o&&this.editor.on("create",o),u&&this.editor.on("update",u),f&&this.editor.on("selectionUpdate",f),d&&this.editor.on("transaction",d),h&&this.editor.on("focus",h),m&&this.editor.on("blur",m),y&&this.editor.on("destroy",y)})}}class Kt{constructor(e={}){this.type="extension",this.name="extension",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...e},this.name=this.config.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=Se(te(this,"addOptions",{name:this.name}))),this.storage=Se(te(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(e={}){return new Kt(e)}configure(e={}){const t=this.extend({...this.config,addOptions:()=>af(this.options,e)});return t.name=this.name,t.parent=this.parent,t}extend(e={}){const t=new Kt({...this.config,...e});return t.parent=this,this.child=t,t.name=e.name?e.name:t.parent.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${t.name}".`),t.options=Se(te(t,"addOptions",{name:t.name})),t.storage=Se(te(t,"addStorage",{name:t.name,options:t.options})),t}}function uC(n,e,t){const{from:r,to:l}=e,{blockSeparator:o=`

`,textSerializers:u={}}=t||{};let f="";return n.nodesBetween(r,l,(d,h,m,y)=>{var b;d.isBlock&&h>r&&(f+=o);const v=u==null?void 0:u[d.type.name];if(v)return m&&(f+=v({node:d,pos:h,parent:m,index:y,range:e})),!1;d.isText&&(f+=(b=d==null?void 0:d.text)===null||b===void 0?void 0:b.slice(Math.max(r,h)-h,l-h))}),f}function cC(n){return Object.fromEntries(Object.entries(n.nodes).filter(([,e])=>e.spec.toText).map(([e,t])=>[e,t.spec.toText]))}const HR=Kt.create({name:"clipboardTextSerializer",addOptions(){return{blockSeparator:void 0}},addProseMirrorPlugins(){return[new Tt({key:new gn("clipboardTextSerializer"),props:{clipboardTextSerializer:()=>{const{editor:n}=this,{state:e,schema:t}=n,{doc:r,selection:l}=e,{ranges:o}=l,u=Math.min(...o.map(m=>m.$from.pos)),f=Math.max(...o.map(m=>m.$to.pos)),d=cC(t);return uC(r,{from:u,to:f},{...this.options.blockSeparator!==void 0?{blockSeparator:this.options.blockSeparator}:{},textSerializers:d})}}})]}}),UR=()=>({editor:n,view:e})=>(requestAnimationFrame(()=>{var t;n.isDestroyed||(e.dom.blur(),(t=window==null?void 0:window.getSelection())===null||t===void 0||t.removeAllRanges())}),!0),VR=(n=!1)=>({commands:e})=>e.setContent("",n),qR=()=>({state:n,tr:e,dispatch:t})=>{const{selection:r}=e,{ranges:l}=r;return t&&l.forEach(({$from:o,$to:u})=>{n.doc.nodesBetween(o.pos,u.pos,(f,d)=>{if(f.type.isText)return;const{doc:h,mapping:m}=e,y=h.resolve(m.map(d)),b=h.resolve(m.map(d+f.nodeSize)),v=y.blockRange(b);if(!v)return;const S=xs(v);if(f.type.isTextblock){const{defaultType:T}=y.parent.contentMatchAt(y.index());e.setNodeMarkup(v.start,T)}(S||S===0)&&e.lift(v,S)})}),!0},IR=n=>e=>n(e),FR=()=>({state:n,dispatch:e})=>rC(n,e),$R=(n,e)=>({editor:t,tr:r})=>{const{state:l}=t,o=l.doc.slice(n.from,n.to);r.deleteRange(n.from,n.to);const u=r.mapping.map(e);return r.insert(u,o.content),r.setSelection(new he(r.doc.resolve(u-1))),!0},KR=()=>({tr:n,dispatch:e})=>{const{selection:t}=n,r=t.$anchor.node();if(r.content.size>0)return!1;const l=n.selection.$anchor;for(let o=l.depth;o>0;o-=1)if(l.node(o).type===r.type){if(e){const f=l.before(o),d=l.after(o);n.delete(f,d).scrollIntoView()}return!0}return!1},GR=n=>({tr:e,state:t,dispatch:r})=>{const l=gt(n,t.schema),o=e.selection.$anchor;for(let u=o.depth;u>0;u-=1)if(o.node(u).type===l){if(r){const d=o.before(u),h=o.after(u);e.delete(d,h).scrollIntoView()}return!0}return!1},YR=n=>({tr:e,dispatch:t})=>{const{from:r,to:l}=n;return t&&e.delete(r,l),!0},JR=()=>({state:n,dispatch:e})=>Mm(n,e),XR=()=>({commands:n})=>n.keyboardShortcut("Enter"),QR=()=>({state:n,dispatch:e})=>uR(n,e);function cc(n,e,t={strict:!0}){const r=Object.keys(e);return r.length?r.every(l=>t.strict?e[l]===n[l]:Lm(e[l])?e[l].test(n[l]):e[l]===n[l]):!0}function fC(n,e,t={}){return n.find(r=>r.type===e&&cc(Object.fromEntries(Object.keys(t).map(l=>[l,r.attrs[l]])),t))}function ES(n,e,t={}){return!!fC(n,e,t)}function jm(n,e,t){var r;if(!n||!e)return;let l=n.parent.childAfter(n.parentOffset);if((!l.node||!l.node.marks.some(m=>m.type===e))&&(l=n.parent.childBefore(n.parentOffset)),!l.node||!l.node.marks.some(m=>m.type===e)||(t=t||((r=l.node.marks[0])===null||r===void 0?void 0:r.attrs),!fC([...l.node.marks],e,t)))return;let u=l.index,f=n.start()+l.offset,d=u+1,h=f+l.node.nodeSize;for(;u>0&&ES([...n.parent.child(u-1).marks],e,t);)u-=1,f-=n.parent.child(u).nodeSize;for(;d<n.parent.childCount&&ES([...n.parent.child(d).marks],e,t);)h+=n.parent.child(d).nodeSize,d+=1;return{from:f,to:h}}function Ti(n,e){if(typeof n=="string"){if(!e.marks[n])throw Error(`There is no mark type named '${n}'. Maybe you forgot to add the extension?`);return e.marks[n]}return n}const ZR=(n,e={})=>({tr:t,state:r,dispatch:l})=>{const o=Ti(n,r.schema),{doc:u,selection:f}=t,{$from:d,from:h,to:m}=f;if(l){const y=jm(d,o,e);if(y&&y.from<=h&&y.to>=m){const b=he.create(u,y.from,y.to);t.setSelection(b)}}return!0},WR=n=>e=>{const t=typeof n=="function"?n(e):n;for(let r=0;r<t.length;r+=1)if(t[r](e))return!0;return!1};function dC(n){return n instanceof he}function Qi(n=0,e=0,t=0){return Math.min(Math.max(n,e),t)}function hC(n,e=null){if(!e)return null;const t=ge.atStart(n),r=ge.atEnd(n);if(e==="start"||e===!0)return t;if(e==="end")return r;const l=t.from,o=r.to;return e==="all"?he.create(n,Qi(0,l,o),Qi(n.content.size,l,o)):he.create(n,Qi(e,l,o),Qi(e,l,o))}function eD(){return navigator.platform==="Android"||/android/i.test(navigator.userAgent)}function _m(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}const tD=(n=null,e={})=>({editor:t,view:r,tr:l,dispatch:o})=>{e={scrollIntoView:!0,...e};const u=()=>{(_m()||eD())&&r.dom.focus(),requestAnimationFrame(()=>{t.isDestroyed||(r.focus(),e!=null&&e.scrollIntoView&&t.commands.scrollIntoView())})};if(r.hasFocus()&&n===null||n===!1)return!0;if(o&&n===null&&!dC(t.state.selection))return u(),!0;const f=hC(l.doc,n)||t.state.selection,d=t.state.selection.eq(f);return o&&(d||l.setSelection(f),d&&l.storedMarks&&l.setStoredMarks(l.storedMarks),u()),!0},nD=(n,e)=>t=>n.every((r,l)=>e(r,{...t,index:l})),rD=(n,e)=>({tr:t,commands:r})=>r.insertContentAt({from:t.selection.from,to:t.selection.to},n,e),pC=n=>{const e=n.childNodes;for(let t=e.length-1;t>=0;t-=1){const r=e[t];r.nodeType===3&&r.nodeValue&&/^(\n\s\s|\n)$/.test(r.nodeValue)?n.removeChild(r):r.nodeType===1&&pC(r)}return n};function Du(n){const e=`<body>${n}</body>`,t=new window.DOMParser().parseFromString(e,"text/html").body;return pC(t)}function fc(n,e,t){if(n instanceof pi||n instanceof $)return n;t={slice:!0,parseOptions:{},...t};const r=typeof n=="object"&&n!==null,l=typeof n=="string";if(r)try{if(Array.isArray(n)&&n.length>0)return $.fromArray(n.map(f=>e.nodeFromJSON(f)));const u=e.nodeFromJSON(n);return t.errorOnInvalidContent&&u.check(),u}catch(o){if(t.errorOnInvalidContent)throw new Error("[tiptap error]: Invalid JSON content",{cause:o});return console.warn("[tiptap warn]: Invalid content.","Passed value:",n,"Error:",o),fc("",e,t)}if(l){if(t.errorOnInvalidContent){let u=!1,f="";const d=new Xv({topNode:e.spec.topNode,marks:e.spec.marks,nodes:e.spec.nodes.append({__tiptap__private__unknown__catch__all__node:{content:"inline*",group:"block",parseDOM:[{tag:"*",getAttrs:h=>(u=!0,f=typeof h=="string"?h:h.outerHTML,null)}]}})});if(t.slice?mi.fromSchema(d).parseSlice(Du(n),t.parseOptions):mi.fromSchema(d).parse(Du(n),t.parseOptions),t.errorOnInvalidContent&&u)throw new Error("[tiptap error]: Invalid HTML content",{cause:new Error(`Invalid element found: ${f}`)})}const o=mi.fromSchema(e);return t.slice?o.parseSlice(Du(n),t.parseOptions).content:o.parse(Du(n),t.parseOptions)}return fc("",e,t)}function iD(n,e,t){const r=n.steps.length-1;if(r<e)return;const l=n.steps[r];if(!(l instanceof ht||l instanceof pt))return;const o=n.mapping.maps[r];let u=0;o.forEach((f,d,h,m)=>{u===0&&(u=m)}),n.setSelection(ge.near(n.doc.resolve(u),t))}const lD=n=>!("type"in n),sD=(n,e,t)=>({tr:r,dispatch:l,editor:o})=>{var u;if(l){t={parseOptions:o.options.parseOptions,updateSelection:!0,applyInputRules:!1,applyPasteRules:!1,...t};let f;try{f=fc(e,o.schema,{parseOptions:{preserveWhitespace:"full",...t.parseOptions},errorOnInvalidContent:(u=t.errorOnInvalidContent)!==null&&u!==void 0?u:o.options.enableContentCheck})}catch(S){return o.emit("contentError",{editor:o,error:S,disableCollaboration:()=>{o.storage.collaboration&&(o.storage.collaboration.isDisabled=!0)}}),!1}let{from:d,to:h}=typeof n=="number"?{from:n,to:n}:{from:n.from,to:n.to},m=!0,y=!0;if((lD(f)?f:[f]).forEach(S=>{S.check(),m=m?S.isText&&S.marks.length===0:!1,y=y?S.isBlock:!1}),d===h&&y){const{parent:S}=r.doc.resolve(d);S.isTextblock&&!S.type.spec.code&&!S.childCount&&(d-=1,h+=1)}let v;if(m){if(Array.isArray(e))v=e.map(S=>S.text||"").join("");else if(e instanceof $){let S="";e.forEach(T=>{T.text&&(S+=T.text)}),v=S}else typeof e=="object"&&e&&e.text?v=e.text:v=e;r.insertText(v,d,h)}else v=f,r.replaceWith(d,h,v);t.updateSelection&&iD(r,r.steps.length-1,-1),t.applyInputRules&&r.setMeta("applyInputRules",{from:d,text:v}),t.applyPasteRules&&r.setMeta("applyPasteRules",{from:d,text:v})}return!0},oD=()=>({state:n,dispatch:e})=>sR(n,e),aD=()=>({state:n,dispatch:e})=>oR(n,e),uD=()=>({state:n,dispatch:e})=>Xx(n,e),cD=()=>({state:n,dispatch:e})=>eC(n,e),fD=()=>({state:n,dispatch:e,tr:t})=>{try{const r=Qc(n.doc,n.selection.$from.pos,-1);return r==null?!1:(t.join(r,2),e&&e(t),!0)}catch{return!1}},dD=()=>({state:n,dispatch:e,tr:t})=>{try{const r=Qc(n.doc,n.selection.$from.pos,1);return r==null?!1:(t.join(r,2),e&&e(t),!0)}catch{return!1}},hD=()=>({state:n,dispatch:e})=>iR(n,e),pD=()=>({state:n,dispatch:e})=>lR(n,e);function mC(){return typeof navigator<"u"?/Mac/.test(navigator.platform):!1}function mD(n){const e=n.split(/-(?!$)/);let t=e[e.length-1];t==="Space"&&(t=" ");let r,l,o,u;for(let f=0;f<e.length-1;f+=1){const d=e[f];if(/^(cmd|meta|m)$/i.test(d))u=!0;else if(/^a(lt)?$/i.test(d))r=!0;else if(/^(c|ctrl|control)$/i.test(d))l=!0;else if(/^s(hift)?$/i.test(d))o=!0;else if(/^mod$/i.test(d))_m()||mC()?u=!0:l=!0;else throw new Error(`Unrecognized modifier name: ${d}`)}return r&&(t=`Alt-${t}`),l&&(t=`Ctrl-${t}`),u&&(t=`Meta-${t}`),o&&(t=`Shift-${t}`),t}const gD=n=>({editor:e,view:t,tr:r,dispatch:l})=>{const o=mD(n).split(/-(?!$)/),u=o.find(h=>!["Alt","Ctrl","Meta","Shift"].includes(h)),f=new KeyboardEvent("keydown",{key:u==="Space"?" ":u,altKey:o.includes("Alt"),ctrlKey:o.includes("Ctrl"),metaKey:o.includes("Meta"),shiftKey:o.includes("Shift"),bubbles:!0,cancelable:!0}),d=e.captureTransaction(()=>{t.someProp("handleKeyDown",h=>h(t,f))});return d==null||d.steps.forEach(h=>{const m=h.map(r.mapping);m&&l&&r.maybeStep(m)}),!0};function Wo(n,e,t={}){const{from:r,to:l,empty:o}=n.selection,u=e?gt(e,n.schema):null,f=[];n.doc.nodesBetween(r,l,(y,b)=>{if(y.isText)return;const v=Math.max(r,b),S=Math.min(l,b+y.nodeSize);f.push({node:y,from:v,to:S})});const d=l-r,h=f.filter(y=>u?u.name===y.node.type.name:!0).filter(y=>cc(y.node.attrs,t,{strict:!1}));return o?!!h.length:h.reduce((y,b)=>y+b.to-b.from,0)>=d}const yD=(n,e={})=>({state:t,dispatch:r})=>{const l=gt(n,t.schema);return Wo(t,l,e)?aR(t,r):!1},bD=()=>({state:n,dispatch:e})=>iC(n,e),SD=n=>({state:e,dispatch:t})=>{const r=gt(n,e.schema);return vR(r)(e,t)},vD=()=>({state:n,dispatch:e})=>nC(n,e);function uf(n,e){return e.nodes[n]?"node":e.marks[n]?"mark":null}function TS(n,e){const t=typeof e=="string"?[e]:e;return Object.keys(n).reduce((r,l)=>(t.includes(l)||(r[l]=n[l]),r),{})}const xD=(n,e)=>({tr:t,state:r,dispatch:l})=>{let o=null,u=null;const f=uf(typeof n=="string"?n:n.name,r.schema);return f?(f==="node"&&(o=gt(n,r.schema)),f==="mark"&&(u=Ti(n,r.schema)),l&&t.selection.ranges.forEach(d=>{r.doc.nodesBetween(d.$from.pos,d.$to.pos,(h,m)=>{o&&o===h.type&&t.setNodeMarkup(m,void 0,TS(h.attrs,e)),u&&h.marks.length&&h.marks.forEach(y=>{u===y.type&&t.addMark(m,m+h.nodeSize,u.create(TS(y.attrs,e)))})})}),!0):!1},CD=()=>({tr:n,dispatch:e})=>(e&&n.scrollIntoView(),!0),ED=()=>({tr:n,dispatch:e})=>{if(e){const t=new mn(n.doc);n.setSelection(t)}return!0},TD=()=>({state:n,dispatch:e})=>Zx(n,e),kD=()=>({state:n,dispatch:e})=>tC(n,e),AD=()=>({state:n,dispatch:e})=>dR(n,e),wD=()=>({state:n,dispatch:e})=>mR(n,e),OD=()=>({state:n,dispatch:e})=>pR(n,e);function Ip(n,e,t={},r={}){return fc(n,e,{slice:!1,parseOptions:t,errorOnInvalidContent:r.errorOnInvalidContent})}const MD=(n,e=!1,t={},r={})=>({editor:l,tr:o,dispatch:u,commands:f})=>{var d,h;const{doc:m}=o;if(t.preserveWhitespace!=="full"){const y=Ip(n,l.schema,t,{errorOnInvalidContent:(d=r.errorOnInvalidContent)!==null&&d!==void 0?d:l.options.enableContentCheck});return u&&o.replaceWith(0,m.content.size,y).setMeta("preventUpdate",!e),!0}return u&&o.setMeta("preventUpdate",!e),f.insertContentAt({from:0,to:m.content.size},n,{parseOptions:t,errorOnInvalidContent:(h=r.errorOnInvalidContent)!==null&&h!==void 0?h:l.options.enableContentCheck})};function gC(n,e){const t=Ti(e,n.schema),{from:r,to:l,empty:o}=n.selection,u=[];o?(n.storedMarks&&u.push(...n.storedMarks),u.push(...n.selection.$head.marks())):n.doc.nodesBetween(r,l,d=>{u.push(...d.marks)});const f=u.find(d=>d.type.name===t.name);return f?{...f.attrs}:{}}function ND(n,e){const t=new dx(n);return e.forEach(r=>{r.steps.forEach(l=>{t.step(l)})}),t}function RD(n){for(let e=0;e<n.edgeCount;e+=1){const{type:t}=n.edge(e);if(t.isTextblock&&!t.hasRequiredAttrs())return t}return null}function DD(n,e,t){const r=[];return n.nodesBetween(e.from,e.to,(l,o)=>{t(l)&&r.push({node:l,pos:o})}),r}function zD(n,e){for(let t=n.depth;t>0;t-=1){const r=n.node(t);if(e(r))return{pos:t>0?n.before(t):0,start:n.start(t),depth:t,node:r}}}function Pm(n){return e=>zD(e.$from,n)}function BD(n,e){const t={from:0,to:n.content.size};return uC(n,t,e)}function LD(n,e){const t=gt(e,n.schema),{from:r,to:l}=n.selection,o=[];n.doc.nodesBetween(r,l,f=>{o.push(f)});const u=o.reverse().find(f=>f.type.name===t.name);return u?{...u.attrs}:{}}function yC(n,e){const t=uf(typeof e=="string"?e:e.name,n.schema);return t==="node"?LD(n,e):t==="mark"?gC(n,e):{}}function jD(n,e=JSON.stringify){const t={};return n.filter(r=>{const l=e(r);return Object.prototype.hasOwnProperty.call(t,l)?!1:t[l]=!0})}function _D(n){const e=jD(n);return e.length===1?e:e.filter((t,r)=>!e.filter((o,u)=>u!==r).some(o=>t.oldRange.from>=o.oldRange.from&&t.oldRange.to<=o.oldRange.to&&t.newRange.from>=o.newRange.from&&t.newRange.to<=o.newRange.to))}function PD(n){const{mapping:e,steps:t}=n,r=[];return e.maps.forEach((l,o)=>{const u=[];if(l.ranges.length)l.forEach((f,d)=>{u.push({from:f,to:d})});else{const{from:f,to:d}=t[o];if(f===void 0||d===void 0)return;u.push({from:f,to:d})}u.forEach(({from:f,to:d})=>{const h=e.slice(o).map(f,-1),m=e.slice(o).map(d),y=e.invert().map(h,-1),b=e.invert().map(m);r.push({oldRange:{from:y,to:b},newRange:{from:h,to:m}})})}),_D(r)}function Hm(n,e,t){const r=[];return n===e?t.resolve(n).marks().forEach(l=>{const o=t.resolve(n),u=jm(o,l.type);u&&r.push({mark:l,...u})}):t.nodesBetween(n,e,(l,o)=>{!l||(l==null?void 0:l.nodeSize)===void 0||r.push(...l.marks.map(u=>({from:o,to:o+l.nodeSize,mark:u})))}),r}function Ku(n,e,t){return Object.fromEntries(Object.entries(t).filter(([r])=>{const l=n.find(o=>o.type===e&&o.name===r);return l?l.attribute.keepOnSplit:!1}))}function Fp(n,e,t={}){const{empty:r,ranges:l}=n.selection,o=e?Ti(e,n.schema):null;if(r)return!!(n.storedMarks||n.selection.$from.marks()).filter(y=>o?o.name===y.type.name:!0).find(y=>cc(y.attrs,t,{strict:!1}));let u=0;const f=[];if(l.forEach(({$from:y,$to:b})=>{const v=y.pos,S=b.pos;n.doc.nodesBetween(v,S,(T,C)=>{if(!T.isText&&!T.marks.length)return;const A=Math.max(v,C),O=Math.min(S,C+T.nodeSize),_=O-A;u+=_,f.push(...T.marks.map(G=>({mark:G,from:A,to:O})))})}),u===0)return!1;const d=f.filter(y=>o?o.name===y.mark.type.name:!0).filter(y=>cc(y.mark.attrs,t,{strict:!1})).reduce((y,b)=>y+b.to-b.from,0),h=f.filter(y=>o?y.mark.type!==o&&y.mark.type.excludes(o):!0).reduce((y,b)=>y+b.to-b.from,0);return(d>0?d+h:d)>=u}function HD(n,e,t={}){if(!e)return Wo(n,null,t)||Fp(n,null,t);const r=uf(e,n.schema);return r==="node"?Wo(n,e,t):r==="mark"?Fp(n,e,t):!1}function kS(n,e){const{nodeExtensions:t}=sf(e),r=t.find(u=>u.name===n);if(!r)return!1;const l={name:r.name,options:r.options,storage:r.storage},o=Se(te(r,"group",l));return typeof o!="string"?!1:o.split(" ").includes("list")}function Um(n,{checkChildren:e=!0,ignoreWhitespace:t=!1}={}){var r;if(t){if(n.type.name==="hardBreak")return!0;if(n.isText)return/^\s*$/m.test((r=n.text)!==null&&r!==void 0?r:"")}if(n.isText)return!n.text;if(n.isAtom||n.isLeaf)return!1;if(n.content.childCount===0)return!0;if(e){let l=!0;return n.content.forEach(o=>{l!==!1&&(Um(o,{ignoreWhitespace:t,checkChildren:e})||(l=!1))}),l}return!1}function UD(n){return n instanceof se}function VD(n,e,t){var r;const{selection:l}=e;let o=null;if(dC(l)&&(o=l.$cursor),o){const f=(r=n.storedMarks)!==null&&r!==void 0?r:o.marks();return!!t.isInSet(f)||!f.some(d=>d.type.excludes(t))}const{ranges:u}=l;return u.some(({$from:f,$to:d})=>{let h=f.depth===0?n.doc.inlineContent&&n.doc.type.allowsMarkType(t):!1;return n.doc.nodesBetween(f.pos,d.pos,(m,y,b)=>{if(h)return!1;if(m.isInline){const v=!b||b.type.allowsMarkType(t),S=!!t.isInSet(m.marks)||!m.marks.some(T=>T.type.excludes(t));h=v&&S}return!h}),h})}const qD=(n,e={})=>({tr:t,state:r,dispatch:l})=>{const{selection:o}=t,{empty:u,ranges:f}=o,d=Ti(n,r.schema);if(l)if(u){const h=gC(r,d);t.addStoredMark(d.create({...h,...e}))}else f.forEach(h=>{const m=h.$from.pos,y=h.$to.pos;r.doc.nodesBetween(m,y,(b,v)=>{const S=Math.max(v,m),T=Math.min(v+b.nodeSize,y);b.marks.find(A=>A.type===d)?b.marks.forEach(A=>{d===A.type&&t.addMark(S,T,d.create({...A.attrs,...e}))}):t.addMark(S,T,d.create(e))})});return VD(r,t,d)},ID=(n,e)=>({tr:t})=>(t.setMeta(n,e),!0),FD=(n,e={})=>({state:t,dispatch:r,chain:l})=>{const o=gt(n,t.schema);let u;return t.selection.$anchor.sameParent(t.selection.$head)&&(u=t.selection.$anchor.parent.attrs),o.isTextblock?l().command(({commands:f})=>SS(o,{...u,...e})(t)?!0:f.clearNodes()).command(({state:f})=>SS(o,{...u,...e})(f,r)).run():(console.warn('[tiptap warn]: Currently "setNode()" only supports text block nodes.'),!1)},$D=n=>({tr:e,dispatch:t})=>{if(t){const{doc:r}=e,l=Qi(n,0,r.content.size),o=se.create(r,l);e.setSelection(o)}return!0},KD=n=>({tr:e,dispatch:t})=>{if(t){const{doc:r}=e,{from:l,to:o}=typeof n=="number"?{from:n,to:n}:n,u=he.atStart(r).from,f=he.atEnd(r).to,d=Qi(l,u,f),h=Qi(o,u,f),m=he.create(r,d,h);e.setSelection(m)}return!0},GD=n=>({state:e,dispatch:t})=>{const r=gt(n,e.schema);return ER(r)(e,t)};function AS(n,e){const t=n.storedMarks||n.selection.$to.parentOffset&&n.selection.$from.marks();if(t){const r=t.filter(l=>e==null?void 0:e.includes(l.type.name));n.tr.ensureMarks(r)}}const YD=({keepMarks:n=!0}={})=>({tr:e,state:t,dispatch:r,editor:l})=>{const{selection:o,doc:u}=e,{$from:f,$to:d}=o,h=l.extensionManager.attributes,m=Ku(h,f.node().type.name,f.node().attrs);if(o instanceof se&&o.node.isBlock)return!f.parentOffset||!Or(u,f.pos)?!1:(r&&(n&&AS(t,l.extensionManager.splittableMarks),e.split(f.pos).scrollIntoView()),!0);if(!f.parent.isBlock)return!1;const y=d.parentOffset===d.parent.content.size,b=f.depth===0?void 0:RD(f.node(-1).contentMatchAt(f.indexAfter(-1)));let v=y&&b?[{type:b,attrs:m}]:void 0,S=Or(e.doc,e.mapping.map(f.pos),1,v);if(!v&&!S&&Or(e.doc,e.mapping.map(f.pos),1,b?[{type:b}]:void 0)&&(S=!0,v=b?[{type:b,attrs:m}]:void 0),r){if(S&&(o instanceof he&&e.deleteSelection(),e.split(e.mapping.map(f.pos),1,v),b&&!y&&!f.parentOffset&&f.parent.type!==b)){const T=e.mapping.map(f.before()),C=e.doc.resolve(T);f.node(-1).canReplaceWith(C.index(),C.index()+1,b)&&e.setNodeMarkup(e.mapping.map(f.before()),b)}n&&AS(t,l.extensionManager.splittableMarks),e.scrollIntoView()}return S},JD=(n,e={})=>({tr:t,state:r,dispatch:l,editor:o})=>{var u;const f=gt(n,r.schema),{$from:d,$to:h}=r.selection,m=r.selection.node;if(m&&m.isBlock||d.depth<2||!d.sameParent(h))return!1;const y=d.node(-1);if(y.type!==f)return!1;const b=o.extensionManager.attributes;if(d.parent.content.size===0&&d.node(-1).childCount===d.indexAfter(-1)){if(d.depth===2||d.node(-3).type!==f||d.index(-2)!==d.node(-2).childCount-1)return!1;if(l){let A=$.empty;const O=d.index(-1)?1:d.index(-2)?2:3;for(let ce=d.depth-O;ce>=d.depth-3;ce-=1)A=$.from(d.node(ce).copy(A));const _=d.indexAfter(-1)<d.node(-2).childCount?1:d.indexAfter(-2)<d.node(-3).childCount?2:3,G={...Ku(b,d.node().type.name,d.node().attrs),...e},q=((u=f.contentMatch.defaultType)===null||u===void 0?void 0:u.createAndFill(G))||void 0;A=A.append($.from(f.createAndFill(null,q)||void 0));const J=d.before(d.depth-(O-1));t.replace(J,d.after(-_),new Q(A,4-O,0));let re=-1;t.doc.nodesBetween(J,t.doc.content.size,(ce,W)=>{if(re>-1)return!1;ce.isTextblock&&ce.content.size===0&&(re=W+1)}),re>-1&&t.setSelection(he.near(t.doc.resolve(re))),t.scrollIntoView()}return!0}const v=h.pos===d.end()?y.contentMatchAt(0).defaultType:null,S={...Ku(b,y.type.name,y.attrs),...e},T={...Ku(b,d.node().type.name,d.node().attrs),...e};t.delete(d.pos,h.pos);const C=v?[{type:f,attrs:S},{type:v,attrs:T}]:[{type:f,attrs:S}];if(!Or(t.doc,d.pos,2))return!1;if(l){const{selection:A,storedMarks:O}=r,{splittableMarks:_}=o.extensionManager,G=O||A.$to.parentOffset&&A.$from.marks();if(t.split(d.pos,2,C).scrollIntoView(),!G||!l)return!0;const q=G.filter(J=>_.includes(J.type.name));t.ensureMarks(q)}return!0},np=(n,e)=>{const t=Pm(u=>u.type===e)(n.selection);if(!t)return!0;const r=n.doc.resolve(Math.max(0,t.pos-1)).before(t.depth);if(r===void 0)return!0;const l=n.doc.nodeAt(r);return t.node.type===(l==null?void 0:l.type)&&Ci(n.doc,t.pos)&&n.join(t.pos),!0},rp=(n,e)=>{const t=Pm(u=>u.type===e)(n.selection);if(!t)return!0;const r=n.doc.resolve(t.start).after(t.depth);if(r===void 0)return!0;const l=n.doc.nodeAt(r);return t.node.type===(l==null?void 0:l.type)&&Ci(n.doc,r)&&n.join(r),!0},XD=(n,e,t,r={})=>({editor:l,tr:o,state:u,dispatch:f,chain:d,commands:h,can:m})=>{const{extensions:y,splittableMarks:b}=l.extensionManager,v=gt(n,u.schema),S=gt(e,u.schema),{selection:T,storedMarks:C}=u,{$from:A,$to:O}=T,_=A.blockRange(O),G=C||T.$to.parentOffset&&T.$from.marks();if(!_)return!1;const q=Pm(J=>kS(J.type.name,y))(T);if(_.depth>=1&&q&&_.depth-q.depth<=1){if(q.node.type===v)return h.liftListItem(S);if(kS(q.node.type.name,y)&&v.validContent(q.node.content)&&f)return d().command(()=>(o.setNodeMarkup(q.pos,v),!0)).command(()=>np(o,v)).command(()=>rp(o,v)).run()}return!t||!G||!f?d().command(()=>m().wrapInList(v,r)?!0:h.clearNodes()).wrapInList(v,r).command(()=>np(o,v)).command(()=>rp(o,v)).run():d().command(()=>{const J=m().wrapInList(v,r),re=G.filter(ce=>b.includes(ce.type.name));return o.ensureMarks(re),J?!0:h.clearNodes()}).wrapInList(v,r).command(()=>np(o,v)).command(()=>rp(o,v)).run()},QD=(n,e={},t={})=>({state:r,commands:l})=>{const{extendEmptyMarkRange:o=!1}=t,u=Ti(n,r.schema);return Fp(r,u,e)?l.unsetMark(u,{extendEmptyMarkRange:o}):l.setMark(u,e)},ZD=(n,e,t={})=>({state:r,commands:l})=>{const o=gt(n,r.schema),u=gt(e,r.schema),f=Wo(r,o,t);let d;return r.selection.$anchor.sameParent(r.selection.$head)&&(d=r.selection.$anchor.parent.attrs),f?l.setNode(u,d):l.setNode(o,{...d,...t})},WD=(n,e={})=>({state:t,commands:r})=>{const l=gt(n,t.schema);return Wo(t,l,e)?r.lift(l):r.wrapIn(l,e)},e3=()=>({state:n,dispatch:e})=>{const t=n.plugins;for(let r=0;r<t.length;r+=1){const l=t[r];let o;if(l.spec.isInputRules&&(o=l.getState(n))){if(e){const u=n.tr,f=o.transform;for(let d=f.steps.length-1;d>=0;d-=1)u.step(f.steps[d].invert(f.docs[d]));if(o.text){const d=u.doc.resolve(o.from).marks();u.replaceWith(o.from,o.to,n.schema.text(o.text,d))}else u.delete(o.from,o.to)}return!0}}return!1},t3=()=>({tr:n,dispatch:e})=>{const{selection:t}=n,{empty:r,ranges:l}=t;return r||e&&l.forEach(o=>{n.removeMark(o.$from.pos,o.$to.pos)}),!0},n3=(n,e={})=>({tr:t,state:r,dispatch:l})=>{var o;const{extendEmptyMarkRange:u=!1}=e,{selection:f}=t,d=Ti(n,r.schema),{$from:h,empty:m,ranges:y}=f;if(!l)return!0;if(m&&u){let{from:b,to:v}=f;const S=(o=h.marks().find(C=>C.type===d))===null||o===void 0?void 0:o.attrs,T=jm(h,d,S);T&&(b=T.from,v=T.to),t.removeMark(b,v,d)}else y.forEach(b=>{t.removeMark(b.$from.pos,b.$to.pos,d)});return t.removeStoredMark(d),!0},r3=(n,e={})=>({tr:t,state:r,dispatch:l})=>{let o=null,u=null;const f=uf(typeof n=="string"?n:n.name,r.schema);return f?(f==="node"&&(o=gt(n,r.schema)),f==="mark"&&(u=Ti(n,r.schema)),l&&t.selection.ranges.forEach(d=>{const h=d.$from.pos,m=d.$to.pos;let y,b,v,S;t.selection.empty?r.doc.nodesBetween(h,m,(T,C)=>{o&&o===T.type&&(v=Math.max(C,h),S=Math.min(C+T.nodeSize,m),y=C,b=T)}):r.doc.nodesBetween(h,m,(T,C)=>{C<h&&o&&o===T.type&&(v=Math.max(C,h),S=Math.min(C+T.nodeSize,m),y=C,b=T),C>=h&&C<=m&&(o&&o===T.type&&t.setNodeMarkup(C,void 0,{...T.attrs,...e}),u&&T.marks.length&&T.marks.forEach(A=>{if(u===A.type){const O=Math.max(C,h),_=Math.min(C+T.nodeSize,m);t.addMark(O,_,u.create({...A.attrs,...e}))}}))}),b&&(y!==void 0&&t.setNodeMarkup(y,void 0,{...b.attrs,...e}),u&&b.marks.length&&b.marks.forEach(T=>{u===T.type&&t.addMark(v,S,u.create({...T.attrs,...e}))}))}),!0):!1},i3=(n,e={})=>({state:t,dispatch:r})=>{const l=gt(n,t.schema);return gR(l,e)(t,r)},l3=(n,e={})=>({state:t,dispatch:r})=>{const l=gt(n,t.schema);return yR(l,e)(t,r)};var s3=Object.freeze({__proto__:null,blur:UR,clearContent:VR,clearNodes:qR,command:IR,createParagraphNear:FR,cut:$R,deleteCurrentNode:KR,deleteNode:GR,deleteRange:YR,deleteSelection:JR,enter:XR,exitCode:QR,extendMarkRange:ZR,first:WR,focus:tD,forEach:nD,insertContent:rD,insertContentAt:sD,joinBackward:uD,joinDown:aD,joinForward:cD,joinItemBackward:fD,joinItemForward:dD,joinTextblockBackward:hD,joinTextblockForward:pD,joinUp:oD,keyboardShortcut:gD,lift:yD,liftEmptyBlock:bD,liftListItem:SD,newlineInCode:vD,resetAttributes:xD,scrollIntoView:CD,selectAll:ED,selectNodeBackward:TD,selectNodeForward:kD,selectParentNode:AD,selectTextblockEnd:wD,selectTextblockStart:OD,setContent:MD,setMark:qD,setMeta:ID,setNode:FD,setNodeSelection:$D,setTextSelection:KD,sinkListItem:GD,splitBlock:YD,splitListItem:JD,toggleList:XD,toggleMark:QD,toggleNode:ZD,toggleWrap:WD,undoInputRule:e3,unsetAllMarks:t3,unsetMark:n3,updateAttributes:r3,wrapIn:i3,wrapInList:l3});const o3=Kt.create({name:"commands",addCommands(){return{...s3}}}),a3=Kt.create({name:"drop",addProseMirrorPlugins(){return[new Tt({key:new gn("tiptapDrop"),props:{handleDrop:(n,e,t,r)=>{this.editor.emit("drop",{editor:this.editor,event:e,slice:t,moved:r})}}})]}}),u3=Kt.create({name:"editable",addProseMirrorPlugins(){return[new Tt({key:new gn("editable"),props:{editable:()=>this.editor.options.editable}})]}}),c3=new gn("focusEvents"),f3=Kt.create({name:"focusEvents",addProseMirrorPlugins(){const{editor:n}=this;return[new Tt({key:c3,props:{handleDOMEvents:{focus:(e,t)=>{n.isFocused=!0;const r=n.state.tr.setMeta("focus",{event:t}).setMeta("addToHistory",!1);return e.dispatch(r),!1},blur:(e,t)=>{n.isFocused=!1;const r=n.state.tr.setMeta("blur",{event:t}).setMeta("addToHistory",!1);return e.dispatch(r),!1}}}})]}}),d3=Kt.create({name:"keymap",addKeyboardShortcuts(){const n=()=>this.editor.commands.first(({commands:u})=>[()=>u.undoInputRule(),()=>u.command(({tr:f})=>{const{selection:d,doc:h}=f,{empty:m,$anchor:y}=d,{pos:b,parent:v}=y,S=y.parent.isTextblock&&b>0?f.doc.resolve(b-1):y,T=S.parent.type.spec.isolating,C=y.pos-y.parentOffset,A=T&&S.parent.childCount===1?C===y.pos:ge.atStart(h).from===b;return!m||!v.type.isTextblock||v.textContent.length||!A||A&&y.parent.type.name==="paragraph"?!1:u.clearNodes()}),()=>u.deleteSelection(),()=>u.joinBackward(),()=>u.selectNodeBackward()]),e=()=>this.editor.commands.first(({commands:u})=>[()=>u.deleteSelection(),()=>u.deleteCurrentNode(),()=>u.joinForward(),()=>u.selectNodeForward()]),r={Enter:()=>this.editor.commands.first(({commands:u})=>[()=>u.newlineInCode(),()=>u.createParagraphNear(),()=>u.liftEmptyBlock(),()=>u.splitBlock()]),"Mod-Enter":()=>this.editor.commands.exitCode(),Backspace:n,"Mod-Backspace":n,"Shift-Backspace":n,Delete:e,"Mod-Delete":e,"Mod-a":()=>this.editor.commands.selectAll()},l={...r},o={...r,"Ctrl-h":n,"Alt-Backspace":n,"Ctrl-d":e,"Ctrl-Alt-Backspace":e,"Alt-Delete":e,"Alt-d":e,"Ctrl-a":()=>this.editor.commands.selectTextblockStart(),"Ctrl-e":()=>this.editor.commands.selectTextblockEnd()};return _m()||mC()?o:l},addProseMirrorPlugins(){return[new Tt({key:new gn("clearDocument"),appendTransaction:(n,e,t)=>{if(n.some(T=>T.getMeta("composition")))return;const r=n.some(T=>T.docChanged)&&!e.doc.eq(t.doc),l=n.some(T=>T.getMeta("preventClearDocument"));if(!r||l)return;const{empty:o,from:u,to:f}=e.selection,d=ge.atStart(e.doc).from,h=ge.atEnd(e.doc).to;if(o||!(u===d&&f===h)||!Um(t.doc))return;const b=t.tr,v=rf({state:t,transaction:b}),{commands:S}=new lf({editor:this.editor,state:v});if(S.clearNodes(),!!b.steps.length)return b}})]}}),h3=Kt.create({name:"paste",addProseMirrorPlugins(){return[new Tt({key:new gn("tiptapPaste"),props:{handlePaste:(n,e,t)=>{this.editor.emit("paste",{editor:this.editor,event:e,slice:t})}}})]}}),p3=Kt.create({name:"tabindex",addProseMirrorPlugins(){return[new Tt({key:new gn("tabindex"),props:{attributes:()=>this.editor.isEditable?{tabindex:"0"}:{}}})]}});class Ki{get name(){return this.node.type.name}constructor(e,t,r=!1,l=null){this.currentNode=null,this.actualDepth=null,this.isBlock=r,this.resolvedPos=e,this.editor=t,this.currentNode=l}get node(){return this.currentNode||this.resolvedPos.node()}get element(){return this.editor.view.domAtPos(this.pos).node}get depth(){var e;return(e=this.actualDepth)!==null&&e!==void 0?e:this.resolvedPos.depth}get pos(){return this.resolvedPos.pos}get content(){return this.node.content}set content(e){let t=this.from,r=this.to;if(this.isBlock){if(this.content.size===0){console.error(`You cant set content on a block node. Tried to set content on ${this.name} at ${this.pos}`);return}t=this.from+1,r=this.to-1}this.editor.commands.insertContentAt({from:t,to:r},e)}get attributes(){return this.node.attrs}get textContent(){return this.node.textContent}get size(){return this.node.nodeSize}get from(){return this.isBlock?this.pos:this.resolvedPos.start(this.resolvedPos.depth)}get range(){return{from:this.from,to:this.to}}get to(){return this.isBlock?this.pos+this.size:this.resolvedPos.end(this.resolvedPos.depth)+(this.node.isText?0:1)}get parent(){if(this.depth===0)return null;const e=this.resolvedPos.start(this.resolvedPos.depth-1),t=this.resolvedPos.doc.resolve(e);return new Ki(t,this.editor)}get before(){let e=this.resolvedPos.doc.resolve(this.from-(this.isBlock?1:2));return e.depth!==this.depth&&(e=this.resolvedPos.doc.resolve(this.from-3)),new Ki(e,this.editor)}get after(){let e=this.resolvedPos.doc.resolve(this.to+(this.isBlock?2:1));return e.depth!==this.depth&&(e=this.resolvedPos.doc.resolve(this.to+3)),new Ki(e,this.editor)}get children(){const e=[];return this.node.content.forEach((t,r)=>{const l=t.isBlock&&!t.isTextblock,o=t.isAtom&&!t.isText,u=this.pos+r+(o?0:1),f=this.resolvedPos.doc.resolve(u);if(!l&&f.depth<=this.depth)return;const d=new Ki(f,this.editor,l,l?t:null);l&&(d.actualDepth=this.depth+1),e.push(new Ki(f,this.editor,l,l?t:null))}),e}get firstChild(){return this.children[0]||null}get lastChild(){const e=this.children;return e[e.length-1]||null}closest(e,t={}){let r=null,l=this.parent;for(;l&&!r;){if(l.node.type.name===e)if(Object.keys(t).length>0){const o=l.node.attrs,u=Object.keys(t);for(let f=0;f<u.length;f+=1){const d=u[f];if(o[d]!==t[d])break}}else r=l;l=l.parent}return r}querySelector(e,t={}){return this.querySelectorAll(e,t,!0)[0]||null}querySelectorAll(e,t={},r=!1){let l=[];if(!this.children||this.children.length===0)return l;const o=Object.keys(t);return this.children.forEach(u=>{r&&l.length>0||(u.node.type.name===e&&o.every(d=>t[d]===u.node.attrs[d])&&l.push(u),!(r&&l.length>0)&&(l=l.concat(u.querySelectorAll(e,t,r))))}),l}setAttribute(e){const{tr:t}=this.editor.state;t.setNodeMarkup(this.from,void 0,{...this.node.attrs,...e}),this.editor.view.dispatch(t)}}const m3=`.ProseMirror {
  position: relative;
}

.ProseMirror {
  word-wrap: break-word;
  white-space: pre-wrap;
  white-space: break-spaces;
  -webkit-font-variant-ligatures: none;
  font-variant-ligatures: none;
  font-feature-settings: "liga" 0; /* the above doesn't seem to work in Edge */
}

.ProseMirror [contenteditable="false"] {
  white-space: normal;
}

.ProseMirror [contenteditable="false"] [contenteditable="true"] {
  white-space: pre-wrap;
}

.ProseMirror pre {
  white-space: pre-wrap;
}

img.ProseMirror-separator {
  display: inline !important;
  border: none !important;
  margin: 0 !important;
  width: 0 !important;
  height: 0 !important;
}

.ProseMirror-gapcursor {
  display: none;
  pointer-events: none;
  position: absolute;
  margin: 0;
}

.ProseMirror-gapcursor:after {
  content: "";
  display: block;
  position: absolute;
  top: -2px;
  width: 20px;
  border-top: 1px solid black;
  animation: ProseMirror-cursor-blink 1.1s steps(2, start) infinite;
}

@keyframes ProseMirror-cursor-blink {
  to {
    visibility: hidden;
  }
}

.ProseMirror-hideselection *::selection {
  background: transparent;
}

.ProseMirror-hideselection *::-moz-selection {
  background: transparent;
}

.ProseMirror-hideselection * {
  caret-color: transparent;
}

.ProseMirror-focused .ProseMirror-gapcursor {
  display: block;
}

.tippy-box[data-animation=fade][data-state=hidden] {
  opacity: 0
}`;function g3(n,e,t){const r=document.querySelector("style[data-tiptap-style]");if(r!==null)return r;const l=document.createElement("style");return e&&l.setAttribute("nonce",e),l.setAttribute("data-tiptap-style",""),l.innerHTML=n,document.getElementsByTagName("head")[0].appendChild(l),l}class y3 extends TR{constructor(e={}){super(),this.isFocused=!1,this.isInitialized=!1,this.extensionStorage={},this.options={element:document.createElement("div"),content:"",injectCSS:!0,injectNonce:void 0,extensions:[],autofocus:!1,editable:!0,editorProps:{},parseOptions:{},coreExtensionOptions:{},enableInputRules:!0,enablePasteRules:!0,enableCoreExtensions:!0,enableContentCheck:!1,onBeforeCreate:()=>null,onCreate:()=>null,onUpdate:()=>null,onSelectionUpdate:()=>null,onTransaction:()=>null,onFocus:()=>null,onBlur:()=>null,onDestroy:()=>null,onContentError:({error:t})=>{throw t},onPaste:()=>null,onDrop:()=>null},this.isCapturingTransaction=!1,this.capturedTransaction=null,this.setOptions(e),this.createExtensionManager(),this.createCommandManager(),this.createSchema(),this.on("beforeCreate",this.options.onBeforeCreate),this.emit("beforeCreate",{editor:this}),this.on("contentError",this.options.onContentError),this.createView(),this.injectCSS(),this.on("create",this.options.onCreate),this.on("update",this.options.onUpdate),this.on("selectionUpdate",this.options.onSelectionUpdate),this.on("transaction",this.options.onTransaction),this.on("focus",this.options.onFocus),this.on("blur",this.options.onBlur),this.on("destroy",this.options.onDestroy),this.on("drop",({event:t,slice:r,moved:l})=>this.options.onDrop(t,r,l)),this.on("paste",({event:t,slice:r})=>this.options.onPaste(t,r)),window.setTimeout(()=>{this.isDestroyed||(this.commands.focus(this.options.autofocus),this.emit("create",{editor:this}),this.isInitialized=!0)},0)}get storage(){return this.extensionStorage}get commands(){return this.commandManager.commands}chain(){return this.commandManager.chain()}can(){return this.commandManager.can()}injectCSS(){this.options.injectCSS&&document&&(this.css=g3(m3,this.options.injectNonce))}setOptions(e={}){this.options={...this.options,...e},!(!this.view||!this.state||this.isDestroyed)&&(this.options.editorProps&&this.view.setProps(this.options.editorProps),this.view.updateState(this.state))}setEditable(e,t=!0){this.setOptions({editable:e}),t&&this.emit("update",{editor:this,transaction:this.state.tr})}get isEditable(){return this.options.editable&&this.view&&this.view.editable}get state(){return this.view.state}registerPlugin(e,t){const r=aC(t)?t(e,[...this.state.plugins]):[...this.state.plugins,e],l=this.state.reconfigure({plugins:r});return this.view.updateState(l),l}unregisterPlugin(e){if(this.isDestroyed)return;const t=this.state.plugins;let r=t;if([].concat(e).forEach(o=>{const u=typeof o=="string"?`${o}$`:o.key;r=r.filter(f=>!f.key.startsWith(u))}),t.length===r.length)return;const l=this.state.reconfigure({plugins:r});return this.view.updateState(l),l}createExtensionManager(){var e,t;const l=[...this.options.enableCoreExtensions?[u3,HR.configure({blockSeparator:(t=(e=this.options.coreExtensionOptions)===null||e===void 0?void 0:e.clipboardTextSerializer)===null||t===void 0?void 0:t.blockSeparator}),o3,f3,d3,p3,a3,h3].filter(o=>typeof this.options.enableCoreExtensions=="object"?this.options.enableCoreExtensions[o.name]!==!1:!0):[],...this.options.extensions].filter(o=>["extension","node","mark"].includes(o==null?void 0:o.type));this.extensionManager=new ss(l,this)}createCommandManager(){this.commandManager=new lf({editor:this})}createSchema(){this.schema=this.extensionManager.schema}createView(){var e;let t;try{t=Ip(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:this.options.enableContentCheck})}catch(u){if(!(u instanceof Error)||!["[tiptap error]: Invalid JSON content","[tiptap error]: Invalid HTML content"].includes(u.message))throw u;this.emit("contentError",{editor:this,error:u,disableCollaboration:()=>{this.storage.collaboration&&(this.storage.collaboration.isDisabled=!0),this.options.extensions=this.options.extensions.filter(f=>f.name!=="collaboration"),this.createExtensionManager()}}),t=Ip(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:!1})}const r=hC(t,this.options.autofocus);this.view=new G2(this.options.element,{...this.options.editorProps,attributes:{role:"textbox",...(e=this.options.editorProps)===null||e===void 0?void 0:e.attributes},dispatchTransaction:this.dispatchTransaction.bind(this),state:ls.create({doc:t,selection:r||void 0})});const l=this.state.reconfigure({plugins:this.extensionManager.plugins});this.view.updateState(l),this.createNodeViews(),this.prependClass();const o=this.view.dom;o.editor=this}createNodeViews(){this.view.isDestroyed||this.view.setProps({nodeViews:this.extensionManager.nodeViews})}prependClass(){this.view.dom.className=`tiptap ${this.view.dom.className}`}captureTransaction(e){this.isCapturingTransaction=!0,e(),this.isCapturingTransaction=!1;const t=this.capturedTransaction;return this.capturedTransaction=null,t}dispatchTransaction(e){if(this.view.isDestroyed)return;if(this.isCapturingTransaction){if(!this.capturedTransaction){this.capturedTransaction=e;return}e.steps.forEach(u=>{var f;return(f=this.capturedTransaction)===null||f===void 0?void 0:f.step(u)});return}const t=this.state.apply(e),r=!this.state.selection.eq(t.selection);this.emit("beforeTransaction",{editor:this,transaction:e,nextState:t}),this.view.updateState(t),this.emit("transaction",{editor:this,transaction:e}),r&&this.emit("selectionUpdate",{editor:this,transaction:e});const l=e.getMeta("focus"),o=e.getMeta("blur");l&&this.emit("focus",{editor:this,event:l.event,transaction:e}),o&&this.emit("blur",{editor:this,event:o.event,transaction:e}),!(!e.docChanged||e.getMeta("preventUpdate"))&&this.emit("update",{editor:this,transaction:e})}getAttributes(e){return yC(this.state,e)}isActive(e,t){const r=typeof e=="string"?e:null,l=typeof e=="string"?t:e;return HD(this.state,r,l)}getJSON(){return this.state.doc.toJSON()}getHTML(){return Bm(this.state.doc.content,this.schema)}getText(e){const{blockSeparator:t=`

`,textSerializers:r={}}=e||{};return BD(this.state.doc,{blockSeparator:t,textSerializers:{...cC(this.schema),...r}})}get isEmpty(){return Um(this.state.doc)}getCharacterCount(){return console.warn('[tiptap warn]: "editor.getCharacterCount()" is deprecated. Please use "editor.storage.characterCount.characters()" instead.'),this.state.doc.content.size-2}destroy(){if(this.emit("destroy"),this.view){const e=this.view.dom;e&&e.editor&&delete e.editor,this.view.destroy()}this.removeAllListeners()}get isDestroyed(){var e;return!(!((e=this.view)===null||e===void 0)&&e.docView)}$node(e,t){var r;return((r=this.$doc)===null||r===void 0?void 0:r.querySelector(e,t))||null}$nodes(e,t){var r;return((r=this.$doc)===null||r===void 0?void 0:r.querySelectorAll(e,t))||null}$pos(e){const t=this.state.doc.resolve(e);return new Ki(t,this)}get $doc(){return this.$pos(0)}}function ps(n){return new of({find:n.find,handler:({state:e,range:t,match:r})=>{const l=Se(n.getAttributes,void 0,r);if(l===!1||l===null)return null;const{tr:o}=e,u=r[r.length-1],f=r[0];if(u){const d=f.search(/\S/),h=t.from+f.indexOf(u),m=h+u.length;if(Hm(t.from,t.to,e.doc).filter(v=>v.mark.type.excluded.find(T=>T===n.type&&T!==v.mark.type)).filter(v=>v.to>h).length)return null;m<t.to&&o.delete(m,t.to),h>t.from&&o.delete(t.from+d,h);const b=t.from+d+u.length;o.addMark(t.from+d,b,n.type.create(l||{})),o.removeStoredMark(n.type)}}})}function b3(n){return new of({find:n.find,handler:({state:e,range:t,match:r})=>{const l=Se(n.getAttributes,void 0,r)||{},{tr:o}=e,u=t.from;let f=t.to;const d=n.type.create(l);if(r[1]){const h=r[0].lastIndexOf(r[1]);let m=u+h;m>f?m=f:f=m+r[1].length;const y=r[0][r[0].length-1];o.insertText(y,u+r[0].length-1),o.replaceWith(m,f,d)}else if(r[0]){const h=n.type.isInline?u:u-1;o.insert(h,n.type.create(l)).delete(o.mapping.map(u),o.mapping.map(f))}o.scrollIntoView()}})}function $p(n){return new of({find:n.find,handler:({state:e,range:t,match:r})=>{const l=e.doc.resolve(t.from),o=Se(n.getAttributes,void 0,r)||{};if(!l.node(-1).canReplaceWith(l.index(-1),l.indexAfter(-1),n.type))return null;e.tr.delete(t.from,t.to).setBlockType(t.from,t.from,n.type,o)}})}function ea(n){return new of({find:n.find,handler:({state:e,range:t,match:r,chain:l})=>{const o=Se(n.getAttributes,void 0,r)||{},u=e.tr.delete(t.from,t.to),d=u.doc.resolve(t.from).blockRange(),h=d&&bm(d,n.type,o);if(!h)return null;if(u.wrap(d,h),n.keepMarks&&n.editor){const{selection:y,storedMarks:b}=e,{splittableMarks:v}=n.editor.extensionManager,S=b||y.$to.parentOffset&&y.$from.marks();if(S){const T=S.filter(C=>v.includes(C.type.name));u.ensureMarks(T)}}if(n.keepAttributes){const y=n.type.name==="bulletList"||n.type.name==="orderedList"?"listItem":"taskList";l().updateAttributes(y,o).run()}const m=u.doc.resolve(t.from-1).nodeBefore;m&&m.type===n.type&&Ci(u.doc,t.from-1)&&(!n.joinPredicate||n.joinPredicate(r,m))&&u.join(t.from-1)}})}class tn{constructor(e={}){this.type="node",this.name="node",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...e},this.name=this.config.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=Se(te(this,"addOptions",{name:this.name}))),this.storage=Se(te(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(e={}){return new tn(e)}configure(e={}){const t=this.extend({...this.config,addOptions:()=>af(this.options,e)});return t.name=this.name,t.parent=this.parent,t}extend(e={}){const t=new tn(e);return t.parent=this,this.child=t,t.name=e.name?e.name:t.parent.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${t.name}".`),t.options=Se(te(t,"addOptions",{name:t.name})),t.storage=Se(te(t,"addStorage",{name:t.name,options:t.options})),t}}function cl(n){return new zR({find:n.find,handler:({state:e,range:t,match:r,pasteEvent:l})=>{const o=Se(n.getAttributes,void 0,r,l);if(o===!1||o===null)return null;const{tr:u}=e,f=r[r.length-1],d=r[0];let h=t.to;if(f){const m=d.search(/\S/),y=t.from+d.indexOf(f),b=y+f.length;if(Hm(t.from,t.to,e.doc).filter(S=>S.mark.type.excluded.find(C=>C===n.type&&C!==S.mark.type)).filter(S=>S.to>y).length)return null;b<t.to&&u.delete(b,t.to),y>t.from&&u.delete(t.from+m,y),h=t.from+m+f.length,u.addMark(t.from+m,h,n.type.create(o||{})),u.removeStoredMark(n.type)}}})}var S3=IS();const v3=qS(S3);function x3(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var bC={exports:{}},ip={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wS;function C3(){if(wS)return ip;wS=1;var n=Vt;function e(y,b){return y===b&&(y!==0||1/y===1/b)||y!==y&&b!==b}var t=typeof Object.is=="function"?Object.is:e,r=n.useState,l=n.useEffect,o=n.useLayoutEffect,u=n.useDebugValue;function f(y,b){var v=b(),S=r({inst:{value:v,getSnapshot:b}}),T=S[0].inst,C=S[1];return o(function(){T.value=v,T.getSnapshot=b,d(T)&&C({inst:T})},[y,v,b]),l(function(){return d(T)&&C({inst:T}),y(function(){d(T)&&C({inst:T})})},[y]),u(v),v}function d(y){var b=y.getSnapshot;y=y.value;try{var v=b();return!t(y,v)}catch{return!0}}function h(y,b){return b()}var m=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?h:f;return ip.useSyncExternalStore=n.useSyncExternalStore!==void 0?n.useSyncExternalStore:m,ip}bC.exports=C3();var Vm=bC.exports;const E3=(...n)=>e=>{n.forEach(t=>{typeof t=="function"?t(e):t&&(t.current=e)})},T3=({contentComponent:n})=>{const e=Vm.useSyncExternalStore(n.subscribe,n.getSnapshot,n.getServerSnapshot);return Vt.createElement(Vt.Fragment,null,Object.values(e))};function k3(){const n=new Set;let e={};return{subscribe(t){return n.add(t),()=>{n.delete(t)}},getSnapshot(){return e},getServerSnapshot(){return e},setRenderer(t,r){e={...e,[t]:v3.createPortal(r.reactElement,r.element,t)},n.forEach(l=>l())},removeRenderer(t){const r={...e};delete r[t],e=r,n.forEach(l=>l())}}}class A3 extends Vt.Component{constructor(e){var t;super(e),this.editorContentRef=Vt.createRef(),this.initialized=!1,this.state={hasContentComponentInitialized:!!(!((t=e.editor)===null||t===void 0)&&t.contentComponent)}}componentDidMount(){this.init()}componentDidUpdate(){this.init()}init(){const e=this.props.editor;if(e&&!e.isDestroyed&&e.options.element){if(e.contentComponent)return;const t=this.editorContentRef.current;t.append(...e.options.element.childNodes),e.setOptions({element:t}),e.contentComponent=k3(),this.state.hasContentComponentInitialized||(this.unsubscribeToContentComponent=e.contentComponent.subscribe(()=>{this.setState(r=>r.hasContentComponentInitialized?r:{hasContentComponentInitialized:!0}),this.unsubscribeToContentComponent&&this.unsubscribeToContentComponent()})),e.createNodeViews(),this.initialized=!0}}componentWillUnmount(){const e=this.props.editor;if(!e||(this.initialized=!1,e.isDestroyed||e.view.setProps({nodeViews:{}}),this.unsubscribeToContentComponent&&this.unsubscribeToContentComponent(),e.contentComponent=null,!e.options.element.firstChild))return;const t=document.createElement("div");t.append(...e.options.element.childNodes),e.setOptions({element:t})}render(){const{editor:e,innerRef:t,...r}=this.props;return Vt.createElement(Vt.Fragment,null,Vt.createElement("div",{ref:E3(t,this.editorContentRef),...r}),(e==null?void 0:e.contentComponent)&&Vt.createElement(T3,{contentComponent:e.contentComponent}))}}const w3=R.forwardRef((n,e)=>{const t=Vt.useMemo(()=>Math.floor(Math.random()*4294967295).toString(),[n.editor]);return Vt.createElement(A3,{key:t,innerRef:e,...n})}),O3=Vt.memo(w3);var M3=function n(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){if(e.constructor!==t.constructor)return!1;var r,l,o;if(Array.isArray(e)){if(r=e.length,r!=t.length)return!1;for(l=r;l--!==0;)if(!n(e[l],t[l]))return!1;return!0}if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(l of e.entries())if(!t.has(l[0]))return!1;for(l of e.entries())if(!n(l[1],t.get(l[0])))return!1;return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(l of e.entries())if(!t.has(l[0]))return!1;return!0}if(ArrayBuffer.isView(e)&&ArrayBuffer.isView(t)){if(r=e.length,r!=t.length)return!1;for(l=r;l--!==0;)if(e[l]!==t[l])return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===t.toString();if(o=Object.keys(e),r=o.length,r!==Object.keys(t).length)return!1;for(l=r;l--!==0;)if(!Object.prototype.hasOwnProperty.call(t,o[l]))return!1;for(l=r;l--!==0;){var u=o[l];if(!(u==="_owner"&&e.$$typeof)&&!n(e[u],t[u]))return!1}return!0}return e!==e&&t!==t},N3=x3(M3),SC={exports:{}},lp={};/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var OS;function R3(){if(OS)return lp;OS=1;var n=Vt,e=Vm;function t(h,m){return h===m&&(h!==0||1/h===1/m)||h!==h&&m!==m}var r=typeof Object.is=="function"?Object.is:t,l=e.useSyncExternalStore,o=n.useRef,u=n.useEffect,f=n.useMemo,d=n.useDebugValue;return lp.useSyncExternalStoreWithSelector=function(h,m,y,b,v){var S=o(null);if(S.current===null){var T={hasValue:!1,value:null};S.current=T}else T=S.current;S=f(function(){function A(J){if(!O){if(O=!0,_=J,J=b(J),v!==void 0&&T.hasValue){var re=T.value;if(v(re,J))return G=re}return G=J}if(re=G,r(_,J))return re;var ce=b(J);return v!==void 0&&v(re,ce)?re:(_=J,G=ce)}var O=!1,_,G,q=y===void 0?null:y;return[function(){return A(m())},q===null?void 0:function(){return A(q())}]},[m,y,b,v]);var C=l(h,S[0],S[1]);return u(function(){T.hasValue=!0,T.value=C},[C]),d(C),C},lp}SC.exports=R3();var D3=SC.exports;const z3=typeof window<"u"?R.useLayoutEffect:R.useEffect;class B3{constructor(e){this.transactionNumber=0,this.lastTransactionNumber=0,this.subscribers=new Set,this.editor=e,this.lastSnapshot={editor:e,transactionNumber:0},this.getSnapshot=this.getSnapshot.bind(this),this.getServerSnapshot=this.getServerSnapshot.bind(this),this.watch=this.watch.bind(this),this.subscribe=this.subscribe.bind(this)}getSnapshot(){return this.transactionNumber===this.lastTransactionNumber?this.lastSnapshot:(this.lastTransactionNumber=this.transactionNumber,this.lastSnapshot={editor:this.editor,transactionNumber:this.transactionNumber},this.lastSnapshot)}getServerSnapshot(){return{editor:null,transactionNumber:0}}subscribe(e){return this.subscribers.add(e),()=>{this.subscribers.delete(e)}}watch(e){if(this.editor=e,this.editor){const t=()=>{this.transactionNumber+=1,this.subscribers.forEach(l=>l())},r=this.editor;return r.on("transaction",t),()=>{r.off("transaction",t)}}}}function L3(n){var e;const[t]=R.useState(()=>new B3(n.editor)),r=D3.useSyncExternalStoreWithSelector(t.subscribe,t.getSnapshot,t.getServerSnapshot,n.selector,(e=n.equalityFn)!==null&&e!==void 0?e:N3);return z3(()=>t.watch(n.editor),[n.editor,t]),R.useDebugValue(r),r}const j3=!1,Kp=typeof window>"u",_3=Kp||!!(typeof window<"u"&&window.next);class qm{constructor(e){this.editor=null,this.subscriptions=new Set,this.isComponentMounted=!1,this.previousDeps=null,this.instanceId="",this.options=e,this.subscriptions=new Set,this.setEditor(this.getInitialEditor()),this.scheduleDestroy(),this.getEditor=this.getEditor.bind(this),this.getServerSnapshot=this.getServerSnapshot.bind(this),this.subscribe=this.subscribe.bind(this),this.refreshEditorInstance=this.refreshEditorInstance.bind(this),this.scheduleDestroy=this.scheduleDestroy.bind(this),this.onRender=this.onRender.bind(this),this.createEditor=this.createEditor.bind(this)}setEditor(e){this.editor=e,this.instanceId=Math.random().toString(36).slice(2,9),this.subscriptions.forEach(t=>t())}getInitialEditor(){return this.options.current.immediatelyRender===void 0?Kp||_3?null:this.createEditor():(this.options.current.immediatelyRender,this.options.current.immediatelyRender?this.createEditor():null)}createEditor(){const e={...this.options.current,onBeforeCreate:(...r)=>{var l,o;return(o=(l=this.options.current).onBeforeCreate)===null||o===void 0?void 0:o.call(l,...r)},onBlur:(...r)=>{var l,o;return(o=(l=this.options.current).onBlur)===null||o===void 0?void 0:o.call(l,...r)},onCreate:(...r)=>{var l,o;return(o=(l=this.options.current).onCreate)===null||o===void 0?void 0:o.call(l,...r)},onDestroy:(...r)=>{var l,o;return(o=(l=this.options.current).onDestroy)===null||o===void 0?void 0:o.call(l,...r)},onFocus:(...r)=>{var l,o;return(o=(l=this.options.current).onFocus)===null||o===void 0?void 0:o.call(l,...r)},onSelectionUpdate:(...r)=>{var l,o;return(o=(l=this.options.current).onSelectionUpdate)===null||o===void 0?void 0:o.call(l,...r)},onTransaction:(...r)=>{var l,o;return(o=(l=this.options.current).onTransaction)===null||o===void 0?void 0:o.call(l,...r)},onUpdate:(...r)=>{var l,o;return(o=(l=this.options.current).onUpdate)===null||o===void 0?void 0:o.call(l,...r)},onContentError:(...r)=>{var l,o;return(o=(l=this.options.current).onContentError)===null||o===void 0?void 0:o.call(l,...r)},onDrop:(...r)=>{var l,o;return(o=(l=this.options.current).onDrop)===null||o===void 0?void 0:o.call(l,...r)},onPaste:(...r)=>{var l,o;return(o=(l=this.options.current).onPaste)===null||o===void 0?void 0:o.call(l,...r)}};return new y3(e)}getEditor(){return this.editor}getServerSnapshot(){return null}subscribe(e){return this.subscriptions.add(e),()=>{this.subscriptions.delete(e)}}static compareOptions(e,t){return Object.keys(e).every(r=>["onCreate","onBeforeCreate","onDestroy","onUpdate","onTransaction","onFocus","onBlur","onSelectionUpdate","onContentError","onDrop","onPaste"].includes(r)?!0:r==="extensions"&&e.extensions&&t.extensions?e.extensions.length!==t.extensions.length?!1:e.extensions.every((l,o)=>{var u;return l===((u=t.extensions)===null||u===void 0?void 0:u[o])}):e[r]===t[r])}onRender(e){return()=>(this.isComponentMounted=!0,clearTimeout(this.scheduledDestructionTimeout),this.editor&&!this.editor.isDestroyed&&e.length===0?qm.compareOptions(this.options.current,this.editor.options)||this.editor.setOptions({...this.options.current,editable:this.editor.isEditable}):this.refreshEditorInstance(e),()=>{this.isComponentMounted=!1,this.scheduleDestroy()})}refreshEditorInstance(e){if(this.editor&&!this.editor.isDestroyed){if(this.previousDeps===null){this.previousDeps=e;return}if(this.previousDeps.length===e.length&&this.previousDeps.every((r,l)=>r===e[l]))return}this.editor&&!this.editor.isDestroyed&&this.editor.destroy(),this.setEditor(this.createEditor()),this.previousDeps=e}scheduleDestroy(){const e=this.instanceId,t=this.editor;this.scheduledDestructionTimeout=setTimeout(()=>{if(this.isComponentMounted&&this.instanceId===e){t&&t.setOptions(this.options.current);return}t&&!t.isDestroyed&&(t.destroy(),this.instanceId===e&&this.setEditor(null))},1)}}function P3(n={},e=[]){const t=R.useRef(n);t.current=n;const[r]=R.useState(()=>new qm(t)),l=Vm.useSyncExternalStore(r.subscribe,r.getEditor,r.getServerSnapshot);return R.useDebugValue(l),R.useEffect(r.onRender(e)),L3({editor:l,selector:({transactionNumber:o})=>n.shouldRerenderOnTransaction===!1?null:n.immediatelyRender&&o===0?0:o+1}),l}const H3=R.createContext({editor:null});H3.Consumer;const U3=R.createContext({onDragStart:void 0}),V3=()=>R.useContext(U3);Vt.forwardRef((n,e)=>{const{onDragStart:t}=V3(),r=n.as||"div";return Vt.createElement(r,{...n,ref:e,"data-node-view-wrapper":"",onDragStart:t,style:{whiteSpace:"normal",...n.style}})});const q3=/^\s*>\s$/,I3=tn.create({name:"blockquote",addOptions(){return{HTMLAttributes:{}}},content:"block+",group:"block",defining:!0,parseHTML(){return[{tag:"blockquote"}]},renderHTML({HTMLAttributes:n}){return["blockquote",Et(this.options.HTMLAttributes,n),0]},addCommands(){return{setBlockquote:()=>({commands:n})=>n.wrapIn(this.name),toggleBlockquote:()=>({commands:n})=>n.toggleWrap(this.name),unsetBlockquote:()=>({commands:n})=>n.lift(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-b":()=>this.editor.commands.toggleBlockquote()}},addInputRules(){return[ea({find:q3,type:this.type})]}}),F3=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))$/,$3=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))/g,K3=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))$/,G3=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))/g,Y3=Dr.create({name:"bold",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"strong"},{tag:"b",getAttrs:n=>n.style.fontWeight!=="normal"&&null},{style:"font-weight=400",clearMark:n=>n.type.name===this.name},{style:"font-weight",getAttrs:n=>/^(bold(er)?|[5-9]\d{2,})$/.test(n)&&null}]},renderHTML({HTMLAttributes:n}){return["strong",Et(this.options.HTMLAttributes,n),0]},addCommands(){return{setBold:()=>({commands:n})=>n.setMark(this.name),toggleBold:()=>({commands:n})=>n.toggleMark(this.name),unsetBold:()=>({commands:n})=>n.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-b":()=>this.editor.commands.toggleBold(),"Mod-B":()=>this.editor.commands.toggleBold()}},addInputRules(){return[ps({find:F3,type:this.type}),ps({find:K3,type:this.type})]},addPasteRules(){return[cl({find:$3,type:this.type}),cl({find:G3,type:this.type})]}}),J3="listItem",MS="textStyle",NS=/^\s*([-+*])\s$/,X3=tn.create({name:"bulletList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:"ul"}]},renderHTML({HTMLAttributes:n}){return["ul",Et(this.options.HTMLAttributes,n),0]},addCommands(){return{toggleBulletList:()=>({commands:n,chain:e})=>this.options.keepAttributes?e().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(J3,this.editor.getAttributes(MS)).run():n.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-8":()=>this.editor.commands.toggleBulletList()}},addInputRules(){let n=ea({find:NS,type:this.type});return(this.options.keepMarks||this.options.keepAttributes)&&(n=ea({find:NS,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:()=>this.editor.getAttributes(MS),editor:this.editor})),[n]}}),Q3=/(^|[^`])`([^`]+)`(?!`)/,Z3=/(^|[^`])`([^`]+)`(?!`)/g,W3=Dr.create({name:"code",addOptions(){return{HTMLAttributes:{}}},excludes:"_",code:!0,exitable:!0,parseHTML(){return[{tag:"code"}]},renderHTML({HTMLAttributes:n}){return["code",Et(this.options.HTMLAttributes,n),0]},addCommands(){return{setCode:()=>({commands:n})=>n.setMark(this.name),toggleCode:()=>({commands:n})=>n.toggleMark(this.name),unsetCode:()=>({commands:n})=>n.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-e":()=>this.editor.commands.toggleCode()}},addInputRules(){return[ps({find:Q3,type:this.type})]},addPasteRules(){return[cl({find:Z3,type:this.type})]}}),e4=/^```([a-z]+)?[\s\n]$/,t4=/^~~~([a-z]+)?[\s\n]$/,n4=tn.create({name:"codeBlock",addOptions(){return{languageClassPrefix:"language-",exitOnTripleEnter:!0,exitOnArrowDown:!0,defaultLanguage:null,HTMLAttributes:{}}},content:"text*",marks:"",group:"block",code:!0,defining:!0,addAttributes(){return{language:{default:this.options.defaultLanguage,parseHTML:n=>{var e;const{languageClassPrefix:t}=this.options,o=[...((e=n.firstElementChild)===null||e===void 0?void 0:e.classList)||[]].filter(u=>u.startsWith(t)).map(u=>u.replace(t,""))[0];return o||null},rendered:!1}}},parseHTML(){return[{tag:"pre",preserveWhitespace:"full"}]},renderHTML({node:n,HTMLAttributes:e}){return["pre",Et(this.options.HTMLAttributes,e),["code",{class:n.attrs.language?this.options.languageClassPrefix+n.attrs.language:null},0]]},addCommands(){return{setCodeBlock:n=>({commands:e})=>e.setNode(this.name,n),toggleCodeBlock:n=>({commands:e})=>e.toggleNode(this.name,"paragraph",n)}},addKeyboardShortcuts(){return{"Mod-Alt-c":()=>this.editor.commands.toggleCodeBlock(),Backspace:()=>{const{empty:n,$anchor:e}=this.editor.state.selection,t=e.pos===1;return!n||e.parent.type.name!==this.name?!1:t||!e.parent.textContent.length?this.editor.commands.clearNodes():!1},Enter:({editor:n})=>{if(!this.options.exitOnTripleEnter)return!1;const{state:e}=n,{selection:t}=e,{$from:r,empty:l}=t;if(!l||r.parent.type!==this.type)return!1;const o=r.parentOffset===r.parent.nodeSize-2,u=r.parent.textContent.endsWith(`

`);return!o||!u?!1:n.chain().command(({tr:f})=>(f.delete(r.pos-2,r.pos),!0)).exitCode().run()},ArrowDown:({editor:n})=>{if(!this.options.exitOnArrowDown)return!1;const{state:e}=n,{selection:t,doc:r}=e,{$from:l,empty:o}=t;if(!o||l.parent.type!==this.type||!(l.parentOffset===l.parent.nodeSize-2))return!1;const f=l.after();return f===void 0?!1:r.nodeAt(f)?n.commands.command(({tr:h})=>(h.setSelection(ge.near(r.resolve(f))),!0)):n.commands.exitCode()}}},addInputRules(){return[$p({find:e4,type:this.type,getAttributes:n=>({language:n[1]})}),$p({find:t4,type:this.type,getAttributes:n=>({language:n[1]})})]},addProseMirrorPlugins(){return[new Tt({key:new gn("codeBlockVSCodeHandler"),props:{handlePaste:(n,e)=>{if(!e.clipboardData||this.editor.isActive(this.type.name))return!1;const t=e.clipboardData.getData("text/plain"),r=e.clipboardData.getData("vscode-editor-data"),l=r?JSON.parse(r):void 0,o=l==null?void 0:l.mode;if(!t||!o)return!1;const{tr:u,schema:f}=n.state,d=f.text(t.replace(/\r\n?/g,`
`));return u.replaceSelectionWith(this.type.create({language:o},d)),u.selection.$from.parent.type!==this.type&&u.setSelection(he.near(u.doc.resolve(Math.max(0,u.selection.from-2)))),u.setMeta("paste",!0),n.dispatch(u),!0}}})]}}),r4=tn.create({name:"doc",topNode:!0,content:"block+"});function i4(n={}){return new Tt({view(e){return new l4(e,n)}})}class l4{constructor(e,t){var r;this.editorView=e,this.cursorPos=null,this.element=null,this.timeout=-1,this.width=(r=t.width)!==null&&r!==void 0?r:1,this.color=t.color===!1?void 0:t.color||"black",this.class=t.class,this.handlers=["dragover","dragend","drop","dragleave"].map(l=>{let o=u=>{this[l](u)};return e.dom.addEventListener(l,o),{name:l,handler:o}})}destroy(){this.handlers.forEach(({name:e,handler:t})=>this.editorView.dom.removeEventListener(e,t))}update(e,t){this.cursorPos!=null&&t.doc!=e.state.doc&&(this.cursorPos>e.state.doc.content.size?this.setCursor(null):this.updateOverlay())}setCursor(e){e!=this.cursorPos&&(this.cursorPos=e,e==null?(this.element.parentNode.removeChild(this.element),this.element=null):this.updateOverlay())}updateOverlay(){let e=this.editorView.state.doc.resolve(this.cursorPos),t=!e.parent.inlineContent,r,l=this.editorView.dom,o=l.getBoundingClientRect(),u=o.width/l.offsetWidth,f=o.height/l.offsetHeight;if(t){let y=e.nodeBefore,b=e.nodeAfter;if(y||b){let v=this.editorView.nodeDOM(this.cursorPos-(y?y.nodeSize:0));if(v){let S=v.getBoundingClientRect(),T=y?S.bottom:S.top;y&&b&&(T=(T+this.editorView.nodeDOM(this.cursorPos).getBoundingClientRect().top)/2);let C=this.width/2*f;r={left:S.left,right:S.right,top:T-C,bottom:T+C}}}}if(!r){let y=this.editorView.coordsAtPos(this.cursorPos),b=this.width/2*u;r={left:y.left-b,right:y.left+b,top:y.top,bottom:y.bottom}}let d=this.editorView.dom.offsetParent;this.element||(this.element=d.appendChild(document.createElement("div")),this.class&&(this.element.className=this.class),this.element.style.cssText="position: absolute; z-index: 50; pointer-events: none;",this.color&&(this.element.style.backgroundColor=this.color)),this.element.classList.toggle("prosemirror-dropcursor-block",t),this.element.classList.toggle("prosemirror-dropcursor-inline",!t);let h,m;if(!d||d==document.body&&getComputedStyle(d).position=="static")h=-pageXOffset,m=-pageYOffset;else{let y=d.getBoundingClientRect(),b=y.width/d.offsetWidth,v=y.height/d.offsetHeight;h=y.left-d.scrollLeft*b,m=y.top-d.scrollTop*v}this.element.style.left=(r.left-h)/u+"px",this.element.style.top=(r.top-m)/f+"px",this.element.style.width=(r.right-r.left)/u+"px",this.element.style.height=(r.bottom-r.top)/f+"px"}scheduleRemoval(e){clearTimeout(this.timeout),this.timeout=setTimeout(()=>this.setCursor(null),e)}dragover(e){if(!this.editorView.editable)return;let t=this.editorView.posAtCoords({left:e.clientX,top:e.clientY}),r=t&&t.inside>=0&&this.editorView.state.doc.nodeAt(t.inside),l=r&&r.type.spec.disableDropCursor,o=typeof l=="function"?l(this.editorView,t,e):l;if(t&&!o){let u=t.pos;if(this.editorView.dragging&&this.editorView.dragging.slice){let f=ox(this.editorView.state.doc,u,this.editorView.dragging.slice);f!=null&&(u=f)}this.setCursor(u),this.scheduleRemoval(5e3)}}dragend(){this.scheduleRemoval(20)}drop(){this.scheduleRemoval(20)}dragleave(e){this.editorView.dom.contains(e.relatedTarget)||this.setCursor(null)}}const s4=Kt.create({name:"dropCursor",addOptions(){return{color:"currentColor",width:1,class:void 0}},addProseMirrorPlugins(){return[i4(this.options)]}});class We extends ge{constructor(e){super(e,e)}map(e,t){let r=e.resolve(t.map(this.head));return We.valid(r)?new We(r):ge.near(r)}content(){return Q.empty}eq(e){return e instanceof We&&e.head==this.head}toJSON(){return{type:"gapcursor",pos:this.head}}static fromJSON(e,t){if(typeof t.pos!="number")throw new RangeError("Invalid input for GapCursor.fromJSON");return new We(e.resolve(t.pos))}getBookmark(){return new Im(this.anchor)}static valid(e){let t=e.parent;if(t.isTextblock||!o4(e)||!a4(e))return!1;let r=t.type.spec.allowGapCursor;if(r!=null)return r;let l=t.contentMatchAt(e.index()).defaultType;return l&&l.isTextblock}static findGapCursorFrom(e,t,r=!1){e:for(;;){if(!r&&We.valid(e))return e;let l=e.pos,o=null;for(let u=e.depth;;u--){let f=e.node(u);if(t>0?e.indexAfter(u)<f.childCount:e.index(u)>0){o=f.child(t>0?e.indexAfter(u):e.index(u)-1);break}else if(u==0)return null;l+=t;let d=e.doc.resolve(l);if(We.valid(d))return d}for(;;){let u=t>0?o.firstChild:o.lastChild;if(!u){if(o.isAtom&&!o.isText&&!se.isSelectable(o)){e=e.doc.resolve(l+o.nodeSize*t),r=!1;continue e}break}o=u,l+=t;let f=e.doc.resolve(l);if(We.valid(f))return f}return null}}}We.prototype.visible=!1;We.findFrom=We.findGapCursorFrom;ge.jsonID("gapcursor",We);class Im{constructor(e){this.pos=e}map(e){return new Im(e.map(this.pos))}resolve(e){let t=e.resolve(this.pos);return We.valid(t)?new We(t):ge.near(t)}}function o4(n){for(let e=n.depth;e>=0;e--){let t=n.index(e),r=n.node(e);if(t==0){if(r.type.spec.isolating)return!0;continue}for(let l=r.child(t-1);;l=l.lastChild){if(l.childCount==0&&!l.inlineContent||l.isAtom||l.type.spec.isolating)return!0;if(l.inlineContent)return!1}}return!0}function a4(n){for(let e=n.depth;e>=0;e--){let t=n.indexAfter(e),r=n.node(e);if(t==r.childCount){if(r.type.spec.isolating)return!0;continue}for(let l=r.child(t);;l=l.firstChild){if(l.childCount==0&&!l.inlineContent||l.isAtom||l.type.spec.isolating)return!0;if(l.inlineContent)return!1}}return!0}function u4(){return new Tt({props:{decorations:h4,createSelectionBetween(n,e,t){return e.pos==t.pos&&We.valid(t)?new We(t):null},handleClick:f4,handleKeyDown:c4,handleDOMEvents:{beforeinput:d4}}})}const c4=Yx({ArrowLeft:zu("horiz",-1),ArrowRight:zu("horiz",1),ArrowUp:zu("vert",-1),ArrowDown:zu("vert",1)});function zu(n,e){const t=n=="vert"?e>0?"down":"up":e>0?"right":"left";return function(r,l,o){let u=r.selection,f=e>0?u.$to:u.$from,d=u.empty;if(u instanceof he){if(!o.endOfTextblock(t)||f.depth==0)return!1;d=!1,f=r.doc.resolve(e>0?f.after():f.before())}let h=We.findGapCursorFrom(f,e,d);return h?(l&&l(r.tr.setSelection(new We(h))),!0):!1}}function f4(n,e,t){if(!n||!n.editable)return!1;let r=n.state.doc.resolve(e);if(!We.valid(r))return!1;let l=n.posAtCoords({left:t.clientX,top:t.clientY});return l&&l.inside>-1&&se.isSelectable(n.state.doc.nodeAt(l.inside))?!1:(n.dispatch(n.state.tr.setSelection(new We(r))),!0)}function d4(n,e){if(e.inputType!="insertCompositionText"||!(n.state.selection instanceof We))return!1;let{$from:t}=n.state.selection,r=t.parent.contentMatchAt(t.index()).findWrapping(n.state.schema.nodes.text);if(!r)return!1;let l=$.empty;for(let u=r.length-1;u>=0;u--)l=$.from(r[u].createAndFill(null,l));let o=n.state.tr.replace(t.pos,t.pos,new Q(l,0,0));return o.setSelection(he.near(o.doc.resolve(t.pos+1))),n.dispatch(o),!1}function h4(n){if(!(n.selection instanceof We))return null;let e=document.createElement("div");return e.className="ProseMirror-gapcursor",at.create(n.doc,[Rn.widget(n.selection.head,e,{key:"gapcursor"})])}const p4=Kt.create({name:"gapCursor",addProseMirrorPlugins(){return[u4()]},extendNodeSchema(n){var e;const t={name:n.name,options:n.options,storage:n.storage};return{allowGapCursor:(e=Se(te(n,"allowGapCursor",t)))!==null&&e!==void 0?e:null}}}),m4=tn.create({name:"hardBreak",addOptions(){return{keepMarks:!0,HTMLAttributes:{}}},inline:!0,group:"inline",selectable:!1,linebreakReplacement:!0,parseHTML(){return[{tag:"br"}]},renderHTML({HTMLAttributes:n}){return["br",Et(this.options.HTMLAttributes,n)]},renderText(){return`
`},addCommands(){return{setHardBreak:()=>({commands:n,chain:e,state:t,editor:r})=>n.first([()=>n.exitCode(),()=>n.command(()=>{const{selection:l,storedMarks:o}=t;if(l.$from.parent.type.spec.isolating)return!1;const{keepMarks:u}=this.options,{splittableMarks:f}=r.extensionManager,d=o||l.$to.parentOffset&&l.$from.marks();return e().insertContent({type:this.name}).command(({tr:h,dispatch:m})=>{if(m&&d&&u){const y=d.filter(b=>f.includes(b.type.name));h.ensureMarks(y)}return!0}).run()})])}},addKeyboardShortcuts(){return{"Mod-Enter":()=>this.editor.commands.setHardBreak(),"Shift-Enter":()=>this.editor.commands.setHardBreak()}}}),g4=tn.create({name:"heading",addOptions(){return{levels:[1,2,3,4,5,6],HTMLAttributes:{}}},content:"inline*",group:"block",defining:!0,addAttributes(){return{level:{default:1,rendered:!1}}},parseHTML(){return this.options.levels.map(n=>({tag:`h${n}`,attrs:{level:n}}))},renderHTML({node:n,HTMLAttributes:e}){return[`h${this.options.levels.includes(n.attrs.level)?n.attrs.level:this.options.levels[0]}`,Et(this.options.HTMLAttributes,e),0]},addCommands(){return{setHeading:n=>({commands:e})=>this.options.levels.includes(n.level)?e.setNode(this.name,n):!1,toggleHeading:n=>({commands:e})=>this.options.levels.includes(n.level)?e.toggleNode(this.name,"paragraph",n):!1}},addKeyboardShortcuts(){return this.options.levels.reduce((n,e)=>({...n,[`Mod-Alt-${e}`]:()=>this.editor.commands.toggleHeading({level:e})}),{})},addInputRules(){return this.options.levels.map(n=>$p({find:new RegExp(`^(#{${Math.min(...this.options.levels)},${n}})\\s$`),type:this.type,getAttributes:{level:n}}))}});var dc=200,mt=function(){};mt.prototype.append=function(e){return e.length?(e=mt.from(e),!this.length&&e||e.length<dc&&this.leafAppend(e)||this.length<dc&&e.leafPrepend(this)||this.appendInner(e)):this};mt.prototype.prepend=function(e){return e.length?mt.from(e).append(this):this};mt.prototype.appendInner=function(e){return new y4(this,e)};mt.prototype.slice=function(e,t){return e===void 0&&(e=0),t===void 0&&(t=this.length),e>=t?mt.empty:this.sliceInner(Math.max(0,e),Math.min(this.length,t))};mt.prototype.get=function(e){if(!(e<0||e>=this.length))return this.getInner(e)};mt.prototype.forEach=function(e,t,r){t===void 0&&(t=0),r===void 0&&(r=this.length),t<=r?this.forEachInner(e,t,r,0):this.forEachInvertedInner(e,t,r,0)};mt.prototype.map=function(e,t,r){t===void 0&&(t=0),r===void 0&&(r=this.length);var l=[];return this.forEach(function(o,u){return l.push(e(o,u))},t,r),l};mt.from=function(e){return e instanceof mt?e:e&&e.length?new vC(e):mt.empty};var vC=function(n){function e(r){n.call(this),this.values=r}n&&(e.__proto__=n),e.prototype=Object.create(n&&n.prototype),e.prototype.constructor=e;var t={length:{configurable:!0},depth:{configurable:!0}};return e.prototype.flatten=function(){return this.values},e.prototype.sliceInner=function(l,o){return l==0&&o==this.length?this:new e(this.values.slice(l,o))},e.prototype.getInner=function(l){return this.values[l]},e.prototype.forEachInner=function(l,o,u,f){for(var d=o;d<u;d++)if(l(this.values[d],f+d)===!1)return!1},e.prototype.forEachInvertedInner=function(l,o,u,f){for(var d=o-1;d>=u;d--)if(l(this.values[d],f+d)===!1)return!1},e.prototype.leafAppend=function(l){if(this.length+l.length<=dc)return new e(this.values.concat(l.flatten()))},e.prototype.leafPrepend=function(l){if(this.length+l.length<=dc)return new e(l.flatten().concat(this.values))},t.length.get=function(){return this.values.length},t.depth.get=function(){return 0},Object.defineProperties(e.prototype,t),e}(mt);mt.empty=new vC([]);var y4=function(n){function e(t,r){n.call(this),this.left=t,this.right=r,this.length=t.length+r.length,this.depth=Math.max(t.depth,r.depth)+1}return n&&(e.__proto__=n),e.prototype=Object.create(n&&n.prototype),e.prototype.constructor=e,e.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},e.prototype.getInner=function(r){return r<this.left.length?this.left.get(r):this.right.get(r-this.left.length)},e.prototype.forEachInner=function(r,l,o,u){var f=this.left.length;if(l<f&&this.left.forEachInner(r,l,Math.min(o,f),u)===!1||o>f&&this.right.forEachInner(r,Math.max(l-f,0),Math.min(this.length,o)-f,u+f)===!1)return!1},e.prototype.forEachInvertedInner=function(r,l,o,u){var f=this.left.length;if(l>f&&this.right.forEachInvertedInner(r,l-f,Math.max(o,f)-f,u+f)===!1||o<f&&this.left.forEachInvertedInner(r,Math.min(l,f),o,u)===!1)return!1},e.prototype.sliceInner=function(r,l){if(r==0&&l==this.length)return this;var o=this.left.length;return l<=o?this.left.slice(r,l):r>=o?this.right.slice(r-o,l-o):this.left.slice(r,o).append(this.right.slice(0,l-o))},e.prototype.leafAppend=function(r){var l=this.right.leafAppend(r);if(l)return new e(this.left,l)},e.prototype.leafPrepend=function(r){var l=this.left.leafPrepend(r);if(l)return new e(l,this.right)},e.prototype.appendInner=function(r){return this.left.depth>=Math.max(this.right.depth,r.depth)+1?new e(this.left,new e(this.right,r)):new e(this,r)},e}(mt);const b4=500;class _n{constructor(e,t){this.items=e,this.eventCount=t}popEvent(e,t){if(this.eventCount==0)return null;let r=this.items.length;for(;;r--)if(this.items.get(r-1).selection){--r;break}let l,o;t&&(l=this.remapping(r,this.items.length),o=l.maps.length);let u=e.tr,f,d,h=[],m=[];return this.items.forEach((y,b)=>{if(!y.step){l||(l=this.remapping(r,b+1),o=l.maps.length),o--,m.push(y);return}if(l){m.push(new Xn(y.map));let v=y.step.map(l.slice(o)),S;v&&u.maybeStep(v).doc&&(S=u.mapping.maps[u.mapping.maps.length-1],h.push(new Xn(S,void 0,void 0,h.length+m.length))),o--,S&&l.appendMap(S,o)}else u.maybeStep(y.step);if(y.selection)return f=l?y.selection.map(l.slice(o)):y.selection,d=new _n(this.items.slice(0,r).append(m.reverse().concat(h)),this.eventCount-1),!1},this.items.length,0),{remaining:d,transform:u,selection:f}}addTransform(e,t,r,l){let o=[],u=this.eventCount,f=this.items,d=!l&&f.length?f.get(f.length-1):null;for(let m=0;m<e.steps.length;m++){let y=e.steps[m].invert(e.docs[m]),b=new Xn(e.mapping.maps[m],y,t),v;(v=d&&d.merge(b))&&(b=v,m?o.pop():f=f.slice(0,f.length-1)),o.push(b),t&&(u++,t=void 0),l||(d=b)}let h=u-r.depth;return h>v4&&(f=S4(f,h),u-=h),new _n(f.append(o),u)}remapping(e,t){let r=new Yo;return this.items.forEach((l,o)=>{let u=l.mirrorOffset!=null&&o-l.mirrorOffset>=e?r.maps.length-l.mirrorOffset:void 0;r.appendMap(l.map,u)},e,t),r}addMaps(e){return this.eventCount==0?this:new _n(this.items.append(e.map(t=>new Xn(t))),this.eventCount)}rebased(e,t){if(!this.eventCount)return this;let r=[],l=Math.max(0,this.items.length-t),o=e.mapping,u=e.steps.length,f=this.eventCount;this.items.forEach(b=>{b.selection&&f--},l);let d=t;this.items.forEach(b=>{let v=o.getMirror(--d);if(v==null)return;u=Math.min(u,v);let S=o.maps[v];if(b.step){let T=e.steps[v].invert(e.docs[v]),C=b.selection&&b.selection.map(o.slice(d+1,v));C&&f++,r.push(new Xn(S,T,C))}else r.push(new Xn(S))},l);let h=[];for(let b=t;b<u;b++)h.push(new Xn(o.maps[b]));let m=this.items.slice(0,l).append(h).append(r),y=new _n(m,f);return y.emptyItemCount()>b4&&(y=y.compress(this.items.length-r.length)),y}emptyItemCount(){let e=0;return this.items.forEach(t=>{t.step||e++}),e}compress(e=this.items.length){let t=this.remapping(0,e),r=t.maps.length,l=[],o=0;return this.items.forEach((u,f)=>{if(f>=e)l.push(u),u.selection&&o++;else if(u.step){let d=u.step.map(t.slice(r)),h=d&&d.getMap();if(r--,h&&t.appendMap(h,r),d){let m=u.selection&&u.selection.map(t.slice(r));m&&o++;let y=new Xn(h.invert(),d,m),b,v=l.length-1;(b=l.length&&l[v].merge(y))?l[v]=b:l.push(y)}}else u.map&&r--},this.items.length,0),new _n(mt.from(l.reverse()),o)}}_n.empty=new _n(mt.empty,0);function S4(n,e){let t;return n.forEach((r,l)=>{if(r.selection&&e--==0)return t=l,!1}),n.slice(t)}class Xn{constructor(e,t,r,l){this.map=e,this.step=t,this.selection=r,this.mirrorOffset=l}merge(e){if(this.step&&e.step&&!e.selection){let t=e.step.merge(this.step);if(t)return new Xn(t.getMap().invert(),t,this.selection)}}}class si{constructor(e,t,r,l,o){this.done=e,this.undone=t,this.prevRanges=r,this.prevTime=l,this.prevComposition=o}}const v4=20;function x4(n,e,t,r){let l=t.getMeta(il),o;if(l)return l.historyState;t.getMeta(T4)&&(n=new si(n.done,n.undone,null,0,-1));let u=t.getMeta("appendedTransaction");if(t.steps.length==0)return n;if(u&&u.getMeta(il))return u.getMeta(il).redo?new si(n.done.addTransform(t,void 0,r,Gu(e)),n.undone,RS(t.mapping.maps),n.prevTime,n.prevComposition):new si(n.done,n.undone.addTransform(t,void 0,r,Gu(e)),null,n.prevTime,n.prevComposition);if(t.getMeta("addToHistory")!==!1&&!(u&&u.getMeta("addToHistory")===!1)){let f=t.getMeta("composition"),d=n.prevTime==0||!u&&n.prevComposition!=f&&(n.prevTime<(t.time||0)-r.newGroupDelay||!C4(t,n.prevRanges)),h=u?sp(n.prevRanges,t.mapping):RS(t.mapping.maps);return new si(n.done.addTransform(t,d?e.selection.getBookmark():void 0,r,Gu(e)),_n.empty,h,t.time,f??n.prevComposition)}else return(o=t.getMeta("rebased"))?new si(n.done.rebased(t,o),n.undone.rebased(t,o),sp(n.prevRanges,t.mapping),n.prevTime,n.prevComposition):new si(n.done.addMaps(t.mapping.maps),n.undone.addMaps(t.mapping.maps),sp(n.prevRanges,t.mapping),n.prevTime,n.prevComposition)}function C4(n,e){if(!e)return!1;if(!n.docChanged)return!0;let t=!1;return n.mapping.maps[0].forEach((r,l)=>{for(let o=0;o<e.length;o+=2)r<=e[o+1]&&l>=e[o]&&(t=!0)}),t}function RS(n){let e=[];for(let t=n.length-1;t>=0&&e.length==0;t--)n[t].forEach((r,l,o,u)=>e.push(o,u));return e}function sp(n,e){if(!n)return null;let t=[];for(let r=0;r<n.length;r+=2){let l=e.map(n[r],1),o=e.map(n[r+1],-1);l<=o&&t.push(l,o)}return t}function E4(n,e,t){let r=Gu(e),l=il.get(e).spec.config,o=(t?n.undone:n.done).popEvent(e,r);if(!o)return null;let u=o.selection.resolve(o.transform.doc),f=(t?n.done:n.undone).addTransform(o.transform,e.selection.getBookmark(),l,r),d=new si(t?f:o.remaining,t?o.remaining:f,null,0,-1);return o.transform.setSelection(u).setMeta(il,{redo:t,historyState:d})}let op=!1,DS=null;function Gu(n){let e=n.plugins;if(DS!=e){op=!1,DS=e;for(let t=0;t<e.length;t++)if(e[t].spec.historyPreserveItems){op=!0;break}}return op}const il=new gn("history"),T4=new gn("closeHistory");function k4(n={}){return n={depth:n.depth||100,newGroupDelay:n.newGroupDelay||500},new Tt({key:il,state:{init(){return new si(_n.empty,_n.empty,null,0,-1)},apply(e,t,r){return x4(t,r,e,n)}},config:n,props:{handleDOMEvents:{beforeinput(e,t){let r=t.inputType,l=r=="historyUndo"?CC:r=="historyRedo"?EC:null;return l?(t.preventDefault(),l(e.state,e.dispatch)):!1}}}})}function xC(n,e){return(t,r)=>{let l=il.getState(t);if(!l||(n?l.undone:l.done).eventCount==0)return!1;if(r){let o=E4(l,t,n);o&&r(e?o.scrollIntoView():o)}return!0}}const CC=xC(!1,!0),EC=xC(!0,!0),A4=Kt.create({name:"history",addOptions(){return{depth:100,newGroupDelay:500}},addCommands(){return{undo:()=>({state:n,dispatch:e})=>CC(n,e),redo:()=>({state:n,dispatch:e})=>EC(n,e)}},addProseMirrorPlugins(){return[k4(this.options)]},addKeyboardShortcuts(){return{"Mod-z":()=>this.editor.commands.undo(),"Shift-Mod-z":()=>this.editor.commands.redo(),"Mod-y":()=>this.editor.commands.redo(),"Mod-":()=>this.editor.commands.undo(),"Shift-Mod-":()=>this.editor.commands.redo()}}}),w4=tn.create({name:"horizontalRule",addOptions(){return{HTMLAttributes:{}}},group:"block",parseHTML(){return[{tag:"hr"}]},renderHTML({HTMLAttributes:n}){return["hr",Et(this.options.HTMLAttributes,n)]},addCommands(){return{setHorizontalRule:()=>({chain:n,state:e})=>{const{selection:t}=e,{$from:r,$to:l}=t,o=n();return r.parentOffset===0?o.insertContentAt({from:Math.max(r.pos-1,0),to:l.pos},{type:this.name}):UD(t)?o.insertContentAt(l.pos,{type:this.name}):o.insertContent({type:this.name}),o.command(({tr:u,dispatch:f})=>{var d;if(f){const{$to:h}=u.selection,m=h.end();if(h.nodeAfter)h.nodeAfter.isTextblock?u.setSelection(he.create(u.doc,h.pos+1)):h.nodeAfter.isBlock?u.setSelection(se.create(u.doc,h.pos)):u.setSelection(he.create(u.doc,h.pos));else{const y=(d=h.parent.type.contentMatch.defaultType)===null||d===void 0?void 0:d.create();y&&(u.insert(m,y),u.setSelection(he.create(u.doc,m+1)))}u.scrollIntoView()}return!0}).run()}}},addInputRules(){return[b3({find:/^(?:---|-|___\s|\*\*\*\s)$/,type:this.type})]}}),O4=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))$/,M4=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))/g,N4=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))$/,R4=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))/g,D4=Dr.create({name:"italic",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"em"},{tag:"i",getAttrs:n=>n.style.fontStyle!=="normal"&&null},{style:"font-style=normal",clearMark:n=>n.type.name===this.name},{style:"font-style=italic"}]},renderHTML({HTMLAttributes:n}){return["em",Et(this.options.HTMLAttributes,n),0]},addCommands(){return{setItalic:()=>({commands:n})=>n.setMark(this.name),toggleItalic:()=>({commands:n})=>n.toggleMark(this.name),unsetItalic:()=>({commands:n})=>n.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-i":()=>this.editor.commands.toggleItalic(),"Mod-I":()=>this.editor.commands.toggleItalic()}},addInputRules(){return[ps({find:O4,type:this.type}),ps({find:N4,type:this.type})]},addPasteRules(){return[cl({find:M4,type:this.type}),cl({find:R4,type:this.type})]}}),z4=tn.create({name:"listItem",addOptions(){return{HTMLAttributes:{},bulletListTypeName:"bulletList",orderedListTypeName:"orderedList"}},content:"paragraph block*",defining:!0,parseHTML(){return[{tag:"li"}]},renderHTML({HTMLAttributes:n}){return["li",Et(this.options.HTMLAttributes,n),0]},addKeyboardShortcuts(){return{Enter:()=>this.editor.commands.splitListItem(this.name),Tab:()=>this.editor.commands.sinkListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)}}}),B4="listItem",zS="textStyle",BS=/^(\d+)\.\s$/,L4=tn.create({name:"orderedList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},addAttributes(){return{start:{default:1,parseHTML:n=>n.hasAttribute("start")?parseInt(n.getAttribute("start")||"",10):1},type:{default:null,parseHTML:n=>n.getAttribute("type")}}},parseHTML(){return[{tag:"ol"}]},renderHTML({HTMLAttributes:n}){const{start:e,...t}=n;return e===1?["ol",Et(this.options.HTMLAttributes,t),0]:["ol",Et(this.options.HTMLAttributes,n),0]},addCommands(){return{toggleOrderedList:()=>({commands:n,chain:e})=>this.options.keepAttributes?e().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(B4,this.editor.getAttributes(zS)).run():n.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-7":()=>this.editor.commands.toggleOrderedList()}},addInputRules(){let n=ea({find:BS,type:this.type,getAttributes:e=>({start:+e[1]}),joinPredicate:(e,t)=>t.childCount+t.attrs.start===+e[1]});return(this.options.keepMarks||this.options.keepAttributes)&&(n=ea({find:BS,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:e=>({start:+e[1],...this.editor.getAttributes(zS)}),joinPredicate:(e,t)=>t.childCount+t.attrs.start===+e[1],editor:this.editor})),[n]}}),j4=tn.create({name:"paragraph",priority:1e3,addOptions(){return{HTMLAttributes:{}}},group:"block",content:"inline*",parseHTML(){return[{tag:"p"}]},renderHTML({HTMLAttributes:n}){return["p",Et(this.options.HTMLAttributes,n),0]},addCommands(){return{setParagraph:()=>({commands:n})=>n.setNode(this.name)}},addKeyboardShortcuts(){return{"Mod-Alt-0":()=>this.editor.commands.setParagraph()}}}),_4=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))$/,P4=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))/g,H4=Dr.create({name:"strike",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"s"},{tag:"del"},{tag:"strike"},{style:"text-decoration",consuming:!1,getAttrs:n=>n.includes("line-through")?{}:!1}]},renderHTML({HTMLAttributes:n}){return["s",Et(this.options.HTMLAttributes,n),0]},addCommands(){return{setStrike:()=>({commands:n})=>n.setMark(this.name),toggleStrike:()=>({commands:n})=>n.toggleMark(this.name),unsetStrike:()=>({commands:n})=>n.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-s":()=>this.editor.commands.toggleStrike()}},addInputRules(){return[ps({find:_4,type:this.type})]},addPasteRules(){return[cl({find:P4,type:this.type})]}}),U4=tn.create({name:"text",group:"inline"}),V4=Kt.create({name:"starterKit",addExtensions(){const n=[];return this.options.bold!==!1&&n.push(Y3.configure(this.options.bold)),this.options.blockquote!==!1&&n.push(I3.configure(this.options.blockquote)),this.options.bulletList!==!1&&n.push(X3.configure(this.options.bulletList)),this.options.code!==!1&&n.push(W3.configure(this.options.code)),this.options.codeBlock!==!1&&n.push(n4.configure(this.options.codeBlock)),this.options.document!==!1&&n.push(r4.configure(this.options.document)),this.options.dropcursor!==!1&&n.push(s4.configure(this.options.dropcursor)),this.options.gapcursor!==!1&&n.push(p4.configure(this.options.gapcursor)),this.options.hardBreak!==!1&&n.push(m4.configure(this.options.hardBreak)),this.options.heading!==!1&&n.push(g4.configure(this.options.heading)),this.options.history!==!1&&n.push(A4.configure(this.options.history)),this.options.horizontalRule!==!1&&n.push(w4.configure(this.options.horizontalRule)),this.options.italic!==!1&&n.push(D4.configure(this.options.italic)),this.options.listItem!==!1&&n.push(z4.configure(this.options.listItem)),this.options.orderedList!==!1&&n.push(L4.configure(this.options.orderedList)),this.options.paragraph!==!1&&n.push(j4.configure(this.options.paragraph)),this.options.strike!==!1&&n.push(H4.configure(this.options.strike)),this.options.text!==!1&&n.push(U4.configure(this.options.text)),n}}),q4="aaa1rp3bb0ott3vie4c1le2ogado5udhabi7c0ademy5centure6ountant0s9o1tor4d0s1ult4e0g1ro2tna4f0l1rica5g0akhan5ency5i0g1rbus3force5tel5kdn3l0ibaba4pay4lfinanz6state5y2sace3tom5m0azon4ericanexpress7family11x2fam3ica3sterdam8nalytics7droid5quan4z2o0l2partments8p0le4q0uarelle8r0ab1mco4chi3my2pa2t0e3s0da2ia2sociates9t0hleta5torney7u0ction5di0ble3o3spost5thor3o0s4w0s2x0a2z0ure5ba0by2idu3namex4d1k2r0celona5laycard4s5efoot5gains6seball5ketball8uhaus5yern5b0c1t1va3cg1n2d1e0ats2uty4er2rlin4st0buy5t2f1g1h0arti5i0ble3d1ke2ng0o3o1z2j1lack0friday9ockbuster8g1omberg7ue3m0s1w2n0pparibas9o0ats3ehringer8fa2m1nd2o0k0ing5sch2tik2on4t1utique6x2r0adesco6idgestone9oadway5ker3ther5ussels7s1t1uild0ers6siness6y1zz3v1w1y1z0h3ca0b1fe2l0l1vinklein9m0era3p2non3petown5ital0one8r0avan4ds2e0er0s4s2sa1e1h1ino4t0ering5holic7ba1n1re3c1d1enter4o1rn3f0a1d2g1h0anel2nel4rity4se2t2eap3intai5ristmas6ome4urch5i0priani6rcle4sco3tadel4i0c2y3k1l0aims4eaning6ick2nic1que6othing5ud3ub0med6m1n1o0ach3des3ffee4llege4ogne5m0mbank4unity6pany2re3uter5sec4ndos3struction8ulting7tact3ractors9oking4l1p2rsica5untry4pon0s4rses6pa2r0edit0card4union9icket5own3s1uise0s6u0isinella9v1w1x1y0mru3ou3z2dad1nce3ta1e1ing3sun4y2clk3ds2e0al0er2s3gree4livery5l1oitte5ta3mocrat6ntal2ist5si0gn4v2hl2iamonds6et2gital5rect0ory7scount3ver5h2y2j1k1m1np2o0cs1tor4g1mains5t1wnload7rive4tv2ubai3nlop4pont4rban5vag2r2z2earth3t2c0o2deka3u0cation8e1g1mail3erck5nergy4gineer0ing9terprises10pson4quipment8r0icsson6ni3s0q1tate5t1u0rovision8s2vents5xchange6pert3osed4ress5traspace10fage2il1rwinds6th3mily4n0s2rm0ers5shion4t3edex3edback6rrari3ero6i0delity5o2lm2nal1nce1ial7re0stone6mdale6sh0ing5t0ness6j1k1lickr3ghts4r2orist4wers5y2m1o0o0d1tball6rd1ex2sale4um3undation8x2r0ee1senius7l1ogans4ntier7tr2ujitsu5n0d2rniture7tbol5yi3ga0l0lery3o1up4me0s3p1rden4y2b0iz3d0n2e0a1nt0ing5orge5f1g0ee3h1i0ft0s3ves2ing5l0ass3e1obal2o4m0ail3bh2o1x2n1odaddy5ld0point6f2o0dyear5g0le4p1t1v2p1q1r0ainger5phics5tis4een3ipe3ocery4up4s1t1u0cci3ge2ide2tars5ru3w1y2hair2mburg5ngout5us3bo2dfc0bank7ealth0care8lp1sinki6re1mes5iphop4samitsu7tachi5v2k0t2m1n1ockey4ldings5iday5medepot5goods5s0ense7nda3rse3spital5t0ing5t0els3mail5use3w2r1sbc3t1u0ghes5yatt3undai7ibm2cbc2e1u2d1e0ee3fm2kano4l1m0amat4db2mo0bilien9n0c1dustries8finiti5o2g1k1stitute6urance4e4t0ernational10uit4vestments10o1piranga7q1r0ish4s0maili5t0anbul7t0au2v3jaguar4va3cb2e0ep2tzt3welry6io2ll2m0p2nj2o0bs1urg4t1y2p0morgan6rs3uegos4niper7kaufen5ddi3e0rryhotels6properties14fh2g1h1i0a1ds2m1ndle4tchen5wi3m1n1oeln3matsu5sher5p0mg2n2r0d1ed3uokgroup8w1y0oto4z2la0caixa5mborghini8er3nd0rover6xess5salle5t0ino3robe5w0yer5b1c1ds2ease3clerc5frak4gal2o2xus4gbt3i0dl2fe0insurance9style7ghting6ke2lly3mited4o2ncoln4k2ve1ing5k1lc1p2oan0s3cker3us3l1ndon4tte1o3ve3pl0financial11r1s1t0d0a3u0ndbeck6xe1ury5v1y2ma0drid4if1son4keup4n0agement7go3p1rket0ing3s4riott5shalls7ttel5ba2c0kinsey7d1e0d0ia3et2lbourne7me1orial6n0u2rckmsd7g1h1iami3crosoft7l1ni1t2t0subishi9k1l0b1s2m0a2n1o0bi0le4da2e1i1m1nash3ey2ster5rmon3tgage6scow4to0rcycles9v0ie4p1q1r1s0d2t0n1r2u0seum3ic4v1w1x1y1z2na0b1goya4me2vy3ba2c1e0c1t0bank4flix4work5ustar5w0s2xt0direct7us4f0l2g0o2hk2i0co2ke1on3nja3ssan1y5l1o0kia3rton4w0ruz3tv4p1r0a1w2tt2u1yc2z2obi1server7ffice5kinawa6layan0group9lo3m0ega4ne1g1l0ine5oo2pen3racle3nge4g0anic5igins6saka4tsuka4t2vh3pa0ge2nasonic7ris2s1tners4s1y3y2ccw3e0t2f0izer5g1h0armacy6d1ilips5one2to0graphy6s4ysio5ics1tet2ures6d1n0g1k2oneer5zza4k1l0ace2y0station9umbing5s3m1n0c2ohl2ker3litie5rn2st3r0america6xi3ess3ime3o0d0uctions8f1gressive8mo2perties3y5tection8u0dential9s1t1ub2w0c2y2qa1pon3uebec3st5racing4dio4e0ad1lestate6tor2y4cipes5d0stone5umbrella9hab3ise0n3t2liance6n0t0als5pair3ort3ublican8st0aurant8view0s5xroth6ich0ardli6oh3l1o1p2o0cks3deo3gers4om3s0vp3u0gby3hr2n2w0e2yukyu6sa0arland6fe0ty4kura4le1on3msclub4ung5ndvik0coromant12ofi4p1rl2s1ve2xo3b0i1s2c0b1haeffler7midt4olarships8ol3ule3warz5ience5ot3d1e0arch3t2cure1ity6ek2lect4ner3rvices6ven3w1x0y3fr2g1h0angrila6rp3ell3ia1ksha5oes2p0ping5uji3w3i0lk2na1gles5te3j1k0i0n2y0pe4l0ing4m0art3ile4n0cf3o0ccer3ial4ftbank4ware6hu2lar2utions7ng1y2y2pa0ce3ort2t3r0l2s1t0ada2ples4r1tebank4farm7c0group6ockholm6rage3e3ream4udio2y3yle4u0cks3pplies3y2ort5rf1gery5zuki5v1watch4iss4x1y0dney4stems6z2tab1ipei4lk2obao4rget4tamotors6r2too4x0i3c0i2d0k2eam2ch0nology8l1masek5nnis4va3f1g1h0d1eater2re6iaa2ckets5enda4ps2res2ol4j0maxx4x2k0maxx5l1m0all4n1o0day3kyo3ols3p1ray3shiba5tal3urs3wn2yota3s3r0ade1ing4ining5vel0ers0insurance16ust3v2t1ube2i1nes3shu4v0s2w1z2ua1bank3s2g1k1nicom3versity8o2ol2ps2s1y1z2va0cations7na1guard7c1e0gas3ntures6risign5mgensberater2ung14sicherung10t2g1i0ajes4deo3g1king4llas4n1p1rgin4sa1ion4va1o3laanderen9n1odka3lvo3te1ing3o2yage5u2wales2mart4ter4ng0gou5tch0es6eather0channel12bcam3er2site5d0ding5ibo2r3f1hoswho6ien2ki2lliamhill9n0dows4e1ners6me2olterskluwer11odside6rk0s2ld3w2s1tc1f3xbox3erox4ihuan4n2xx2yz3yachts4hoo3maxun5ndex5e1odobashi7ga2kohama6u0tube6t1un3za0ppos4ra3ero3ip2m1one3uerich6w2",I4="121342632165322333335355455655552435435422463632574574330355524444661154543332344423364211133222221212112052232222232212222223222241112222224322321222",ms=(n,e)=>{for(const t in e)n[t]=e[t];return n},Gp="numeric",Yp="ascii",Jp="alpha",Po="asciinumeric",zo="alphanumeric",Xp="domain",TC="emoji",F4="scheme",$4="slashscheme",ap="whitespace";function K4(n,e){return n in e||(e[n]=[]),e[n]}function Zi(n,e,t){e[Gp]&&(e[Po]=!0,e[zo]=!0),e[Yp]&&(e[Po]=!0,e[Jp]=!0),e[Po]&&(e[zo]=!0),e[Jp]&&(e[zo]=!0),e[zo]&&(e[Xp]=!0),e[TC]&&(e[Xp]=!0);for(const r in e){const l=K4(r,t);l.indexOf(n)<0&&l.push(n)}}function G4(n,e){const t={};for(const r in e)e[r].indexOf(n)>=0&&(t[r]=!0);return t}function Zt(n=null){this.j={},this.jr=[],this.jd=null,this.t=n}Zt.groups={};Zt.prototype={accepts(){return!!this.t},go(n){const e=this,t=e.j[n];if(t)return t;for(let r=0;r<e.jr.length;r++){const l=e.jr[r][0],o=e.jr[r][1];if(o&&l.test(n))return o}return e.jd},has(n,e=!1){return e?n in this.j:!!this.go(n)},ta(n,e,t,r){for(let l=0;l<n.length;l++)this.tt(n[l],e,t,r)},tr(n,e,t,r){r=r||Zt.groups;let l;return e&&e.j?l=e:(l=new Zt(e),t&&r&&Zi(e,t,r)),this.jr.push([n,l]),l},ts(n,e,t,r){let l=this;const o=n.length;if(!o)return l;for(let u=0;u<o-1;u++)l=l.tt(n[u]);return l.tt(n[o-1],e,t,r)},tt(n,e,t,r){r=r||Zt.groups;const l=this;if(e&&e.j)return l.j[n]=e,e;const o=e;let u,f=l.go(n);if(f?(u=new Zt,ms(u.j,f.j),u.jr.push.apply(u.jr,f.jr),u.jd=f.jd,u.t=f.t):u=new Zt,o){if(r)if(u.t&&typeof u.t=="string"){const d=ms(G4(u.t,r),t);Zi(o,d,r)}else t&&Zi(o,t,r);u.t=o}return l.j[n]=u,u}};const ye=(n,e,t,r,l)=>n.ta(e,t,r,l),Ze=(n,e,t,r,l)=>n.tr(e,t,r,l),LS=(n,e,t,r,l)=>n.ts(e,t,r,l),K=(n,e,t,r,l)=>n.tt(e,t,r,l),Er="WORD",Qp="UWORD",kC="ASCIINUMERICAL",AC="ALPHANUMERICAL",ta="LOCALHOST",Zp="TLD",Wp="UTLD",Yu="SCHEME",is="SLASH_SCHEME",Fm="NUM",em="WS",$m="NL",Ho="OPENBRACE",Uo="CLOSEBRACE",hc="OPENBRACKET",pc="CLOSEBRACKET",mc="OPENPAREN",gc="CLOSEPAREN",yc="OPENANGLEBRACKET",bc="CLOSEANGLEBRACKET",Sc="FULLWIDTHLEFTPAREN",vc="FULLWIDTHRIGHTPAREN",xc="LEFTCORNERBRACKET",Cc="RIGHTCORNERBRACKET",Ec="LEFTWHITECORNERBRACKET",Tc="RIGHTWHITECORNERBRACKET",kc="FULLWIDTHLESSTHAN",Ac="FULLWIDTHGREATERTHAN",wc="AMPERSAND",Oc="APOSTROPHE",Mc="ASTERISK",oi="AT",Nc="BACKSLASH",Rc="BACKTICK",Dc="CARET",ci="COLON",Km="COMMA",zc="DOLLAR",Qn="DOT",Bc="EQUALS",Gm="EXCLAMATION",On="HYPHEN",Vo="PERCENT",Lc="PIPE",jc="PLUS",_c="POUND",qo="QUERY",Ym="QUOTE",wC="FULLWIDTHMIDDLEDOT",Jm="SEMI",Zn="SLASH",Io="TILDE",Pc="UNDERSCORE",OC="EMOJI",Hc="SYM";var MC=Object.freeze({__proto__:null,ALPHANUMERICAL:AC,AMPERSAND:wc,APOSTROPHE:Oc,ASCIINUMERICAL:kC,ASTERISK:Mc,AT:oi,BACKSLASH:Nc,BACKTICK:Rc,CARET:Dc,CLOSEANGLEBRACKET:bc,CLOSEBRACE:Uo,CLOSEBRACKET:pc,CLOSEPAREN:gc,COLON:ci,COMMA:Km,DOLLAR:zc,DOT:Qn,EMOJI:OC,EQUALS:Bc,EXCLAMATION:Gm,FULLWIDTHGREATERTHAN:Ac,FULLWIDTHLEFTPAREN:Sc,FULLWIDTHLESSTHAN:kc,FULLWIDTHMIDDLEDOT:wC,FULLWIDTHRIGHTPAREN:vc,HYPHEN:On,LEFTCORNERBRACKET:xc,LEFTWHITECORNERBRACKET:Ec,LOCALHOST:ta,NL:$m,NUM:Fm,OPENANGLEBRACKET:yc,OPENBRACE:Ho,OPENBRACKET:hc,OPENPAREN:mc,PERCENT:Vo,PIPE:Lc,PLUS:jc,POUND:_c,QUERY:qo,QUOTE:Ym,RIGHTCORNERBRACKET:Cc,RIGHTWHITECORNERBRACKET:Tc,SCHEME:Yu,SEMI:Jm,SLASH:Zn,SLASH_SCHEME:is,SYM:Hc,TILDE:Io,TLD:Zp,UNDERSCORE:Pc,UTLD:Wp,UWORD:Qp,WORD:Er,WS:em});const xr=/[a-z]/,Oo=new RegExp("\\p{L}","u"),up=new RegExp("\\p{Emoji}","u"),Cr=/\d/,cp=/\s/,jS="\r",fp=`
`,Y4="",J4="",dp="";let Bu=null,Lu=null;function X4(n=[]){const e={};Zt.groups=e;const t=new Zt;Bu==null&&(Bu=_S(q4)),Lu==null&&(Lu=_S(I4)),K(t,"'",Oc),K(t,"{",Ho),K(t,"}",Uo),K(t,"[",hc),K(t,"]",pc),K(t,"(",mc),K(t,")",gc),K(t,"<",yc),K(t,">",bc),K(t,"",Sc),K(t,"",vc),K(t,"",xc),K(t,"",Cc),K(t,"",Ec),K(t,"",Tc),K(t,"",kc),K(t,"",Ac),K(t,"&",wc),K(t,"*",Mc),K(t,"@",oi),K(t,"`",Rc),K(t,"^",Dc),K(t,":",ci),K(t,",",Km),K(t,"$",zc),K(t,".",Qn),K(t,"=",Bc),K(t,"!",Gm),K(t,"-",On),K(t,"%",Vo),K(t,"|",Lc),K(t,"+",jc),K(t,"#",_c),K(t,"?",qo),K(t,'"',Ym),K(t,"/",Zn),K(t,";",Jm),K(t,"~",Io),K(t,"_",Pc),K(t,"\\",Nc),K(t,"",wC);const r=Ze(t,Cr,Fm,{[Gp]:!0});Ze(r,Cr,r);const l=Ze(r,xr,kC,{[Po]:!0}),o=Ze(r,Oo,AC,{[zo]:!0}),u=Ze(t,xr,Er,{[Yp]:!0});Ze(u,Cr,l),Ze(u,xr,u),Ze(l,Cr,l),Ze(l,xr,l);const f=Ze(t,Oo,Qp,{[Jp]:!0});Ze(f,xr),Ze(f,Cr,o),Ze(f,Oo,f),Ze(o,Cr,o),Ze(o,xr),Ze(o,Oo,o);const d=K(t,fp,$m,{[ap]:!0}),h=K(t,jS,em,{[ap]:!0}),m=Ze(t,cp,em,{[ap]:!0});K(t,dp,m),K(h,fp,d),K(h,dp,m),Ze(h,cp,m),K(m,jS),K(m,fp),Ze(m,cp,m),K(m,dp,m);const y=Ze(t,up,OC,{[TC]:!0});K(y,"#"),Ze(y,up,y),K(y,Y4,y);const b=K(y,J4);K(b,"#"),Ze(b,up,y);const v=[[xr,u],[Cr,l]],S=[[xr,null],[Oo,f],[Cr,o]];for(let T=0;T<Bu.length;T++)ri(t,Bu[T],Zp,Er,v);for(let T=0;T<Lu.length;T++)ri(t,Lu[T],Wp,Qp,S);Zi(Zp,{tld:!0,ascii:!0},e),Zi(Wp,{utld:!0,alpha:!0},e),ri(t,"file",Yu,Er,v),ri(t,"mailto",Yu,Er,v),ri(t,"http",is,Er,v),ri(t,"https",is,Er,v),ri(t,"ftp",is,Er,v),ri(t,"ftps",is,Er,v),Zi(Yu,{scheme:!0,ascii:!0},e),Zi(is,{slashscheme:!0,ascii:!0},e),n=n.sort((T,C)=>T[0]>C[0]?1:-1);for(let T=0;T<n.length;T++){const C=n[T][0],O=n[T][1]?{[F4]:!0}:{[$4]:!0};C.indexOf("-")>=0?O[Xp]=!0:xr.test(C)?Cr.test(C)?O[Po]=!0:O[Yp]=!0:O[Gp]=!0,LS(t,C,C,O)}return LS(t,"localhost",ta,{ascii:!0}),t.jd=new Zt(Hc),{start:t,tokens:ms({groups:e},MC)}}function NC(n,e){const t=Q4(e.replace(/[A-Z]/g,f=>f.toLowerCase())),r=t.length,l=[];let o=0,u=0;for(;u<r;){let f=n,d=null,h=0,m=null,y=-1,b=-1;for(;u<r&&(d=f.go(t[u]));)f=d,f.accepts()?(y=0,b=0,m=f):y>=0&&(y+=t[u].length,b++),h+=t[u].length,o+=t[u].length,u++;o-=y,u-=b,h-=y,l.push({t:m.t,v:e.slice(o-h,o),s:o-h,e:o})}return l}function Q4(n){const e=[],t=n.length;let r=0;for(;r<t;){let l=n.charCodeAt(r),o,u=l<55296||l>56319||r+1===t||(o=n.charCodeAt(r+1))<56320||o>57343?n[r]:n.slice(r,r+2);e.push(u),r+=u.length}return e}function ri(n,e,t,r,l){let o;const u=e.length;for(let f=0;f<u-1;f++){const d=e[f];n.j[d]?o=n.j[d]:(o=new Zt(r),o.jr=l.slice(),n.j[d]=o),n=o}return o=new Zt(t),o.jr=l.slice(),n.j[e[u-1]]=o,o}function _S(n){const e=[],t=[];let r=0,l="0123456789";for(;r<n.length;){let o=0;for(;l.indexOf(n[r+o])>=0;)o++;if(o>0){e.push(t.join(""));for(let u=parseInt(n.substring(r,r+o),10);u>0;u--)t.pop();r+=o}else t.push(n[r]),r++}return e}const na={defaultProtocol:"http",events:null,format:PS,formatHref:PS,nl2br:!1,tagName:"a",target:null,rel:null,validate:!0,truncate:1/0,className:null,attributes:null,ignoreTags:[],render:null};function Xm(n,e=null){let t=ms({},na);n&&(t=ms(t,n instanceof Xm?n.o:n));const r=t.ignoreTags,l=[];for(let o=0;o<r.length;o++)l.push(r[o].toUpperCase());this.o=t,e&&(this.defaultRender=e),this.ignoreTags=l}Xm.prototype={o:na,ignoreTags:[],defaultRender(n){return n},check(n){return this.get("validate",n.toString(),n)},get(n,e,t){const r=e!=null;let l=this.o[n];return l&&(typeof l=="object"?(l=t.t in l?l[t.t]:na[n],typeof l=="function"&&r&&(l=l(e,t))):typeof l=="function"&&r&&(l=l(e,t.t,t)),l)},getObj(n,e,t){let r=this.o[n];return typeof r=="function"&&e!=null&&(r=r(e,t.t,t)),r},render(n){const e=n.render(this);return(this.get("render",null,n)||this.defaultRender)(e,n.t,n)}};function PS(n){return n}function RC(n,e){this.t="token",this.v=n,this.tk=e}RC.prototype={isLink:!1,toString(){return this.v},toHref(n){return this.toString()},toFormattedString(n){const e=this.toString(),t=n.get("truncate",e,this),r=n.get("format",e,this);return t&&r.length>t?r.substring(0,t)+"":r},toFormattedHref(n){return n.get("formatHref",this.toHref(n.get("defaultProtocol")),this)},startIndex(){return this.tk[0].s},endIndex(){return this.tk[this.tk.length-1].e},toObject(n=na.defaultProtocol){return{type:this.t,value:this.toString(),isLink:this.isLink,href:this.toHref(n),start:this.startIndex(),end:this.endIndex()}},toFormattedObject(n){return{type:this.t,value:this.toFormattedString(n),isLink:this.isLink,href:this.toFormattedHref(n),start:this.startIndex(),end:this.endIndex()}},validate(n){return n.get("validate",this.toString(),this)},render(n){const e=this,t=this.toHref(n.get("defaultProtocol")),r=n.get("formatHref",t,this),l=n.get("tagName",t,e),o=this.toFormattedString(n),u={},f=n.get("className",t,e),d=n.get("target",t,e),h=n.get("rel",t,e),m=n.getObj("attributes",t,e),y=n.getObj("events",t,e);return u.href=r,f&&(u.class=f),d&&(u.target=d),h&&(u.rel=h),m&&ms(u,m),{tagName:l,attributes:u,content:o,eventListeners:y}}};function cf(n,e){class t extends RC{constructor(l,o){super(l,o),this.t=n}}for(const r in e)t.prototype[r]=e[r];return t.t=n,t}const HS=cf("email",{isLink:!0,toHref(){return"mailto:"+this.toString()}}),US=cf("text"),Z4=cf("nl"),ju=cf("url",{isLink:!0,toHref(n=na.defaultProtocol){return this.hasProtocol()?this.v:`${n}://${this.v}`},hasProtocol(){const n=this.tk;return n.length>=2&&n[0].t!==ta&&n[1].t===ci}}),wn=n=>new Zt(n);function W4({groups:n}){const e=n.domain.concat([wc,Mc,oi,Nc,Rc,Dc,zc,Bc,On,Fm,Vo,Lc,jc,_c,Zn,Hc,Io,Pc]),t=[Oc,ci,Km,Qn,Gm,Vo,qo,Ym,Jm,yc,bc,Ho,Uo,pc,hc,mc,gc,Sc,vc,xc,Cc,Ec,Tc,kc,Ac],r=[wc,Oc,Mc,Nc,Rc,Dc,zc,Bc,On,Ho,Uo,Vo,Lc,jc,_c,qo,Zn,Hc,Io,Pc],l=wn(),o=K(l,Io);ye(o,r,o),ye(o,n.domain,o);const u=wn(),f=wn(),d=wn();ye(l,n.domain,u),ye(l,n.scheme,f),ye(l,n.slashscheme,d),ye(u,r,o),ye(u,n.domain,u);const h=K(u,oi);K(o,oi,h),K(f,oi,h),K(d,oi,h);const m=K(o,Qn);ye(m,r,o),ye(m,n.domain,o);const y=wn();ye(h,n.domain,y),ye(y,n.domain,y);const b=K(y,Qn);ye(b,n.domain,y);const v=wn(HS);ye(b,n.tld,v),ye(b,n.utld,v),K(h,ta,v);const S=K(y,On);K(S,On,S),ye(S,n.domain,y),ye(v,n.domain,y),K(v,Qn,b),K(v,On,S);const T=K(v,ci);ye(T,n.numeric,HS);const C=K(u,On),A=K(u,Qn);K(C,On,C),ye(C,n.domain,u),ye(A,r,o),ye(A,n.domain,u);const O=wn(ju);ye(A,n.tld,O),ye(A,n.utld,O),ye(O,n.domain,u),ye(O,r,o),K(O,Qn,A),K(O,On,C),K(O,oi,h);const _=K(O,ci),G=wn(ju);ye(_,n.numeric,G);const q=wn(ju),J=wn();ye(q,e,q),ye(q,t,J),ye(J,e,q),ye(J,t,J),K(O,Zn,q),K(G,Zn,q);const re=K(f,ci),ce=K(d,ci),W=K(ce,Zn),Me=K(W,Zn);ye(f,n.domain,u),K(f,Qn,A),K(f,On,C),ye(d,n.domain,u),K(d,Qn,A),K(d,On,C),ye(re,n.domain,q),K(re,Zn,q),K(re,qo,q),ye(Me,n.domain,q),ye(Me,e,q),K(Me,Zn,q);const Je=[[Ho,Uo],[hc,pc],[mc,gc],[yc,bc],[Sc,vc],[xc,Cc],[Ec,Tc],[kc,Ac]];for(let Fe=0;Fe<Je.length;Fe++){const[nn,rn]=Je[Fe],Ge=K(q,nn);K(J,nn,Ge),K(Ge,rn,q);const H=wn(ju);ye(Ge,e,H);const Y=wn();ye(Ge,t),ye(H,e,H),ye(H,t,Y),ye(Y,e,H),ye(Y,t,Y),K(H,rn,q),K(Y,rn,q)}return K(l,ta,O),K(l,$m,Z4),{start:l,tokens:MC}}function ez(n,e,t){let r=t.length,l=0,o=[],u=[];for(;l<r;){let f=n,d=null,h=null,m=0,y=null,b=-1;for(;l<r&&!(d=f.go(t[l].t));)u.push(t[l++]);for(;l<r&&(h=d||f.go(t[l].t));)d=null,f=h,f.accepts()?(b=0,y=f):b>=0&&b++,l++,m++;if(b<0)l-=m,l<r&&(u.push(t[l]),l++);else{u.length>0&&(o.push(hp(US,e,u)),u=[]),l-=b,m-=b;const v=y.t,S=t.slice(l-m,l);o.push(hp(v,e,S))}}return u.length>0&&o.push(hp(US,e,u)),o}function hp(n,e,t){const r=t[0].s,l=t[t.length-1].e,o=e.slice(r,l);return new n(o,t)}const tz=typeof console<"u"&&console&&console.warn||(()=>{}),nz="until manual call of linkify.init(). Register all schemes and plugins before invoking linkify the first time.",qe={scanner:null,parser:null,tokenQueue:[],pluginQueue:[],customSchemes:[],initialized:!1};function rz(){return Zt.groups={},qe.scanner=null,qe.parser=null,qe.tokenQueue=[],qe.pluginQueue=[],qe.customSchemes=[],qe.initialized=!1,qe}function VS(n,e=!1){if(qe.initialized&&tz(`linkifyjs: already initialized - will not register custom scheme "${n}" ${nz}`),!/^[0-9a-z]+(-[0-9a-z]+)*$/.test(n))throw new Error(`linkifyjs: incorrect scheme format.
1. Must only contain digits, lowercase ASCII letters or "-"
2. Cannot start or end with "-"
3. "-" cannot repeat`);qe.customSchemes.push([n,e])}function iz(){qe.scanner=X4(qe.customSchemes);for(let n=0;n<qe.tokenQueue.length;n++)qe.tokenQueue[n][1]({scanner:qe.scanner});qe.parser=W4(qe.scanner.tokens);for(let n=0;n<qe.pluginQueue.length;n++)qe.pluginQueue[n][1]({scanner:qe.scanner,parser:qe.parser});return qe.initialized=!0,qe}function Qm(n){return qe.initialized||iz(),ez(qe.parser.start,n,NC(qe.scanner.start,n))}Qm.scan=NC;function DC(n,e=null,t=null){if(e&&typeof e=="object"){if(t)throw Error(`linkifyjs: Invalid link type ${e}; must be a string`);t=e,e=null}const r=new Xm(t),l=Qm(n),o=[];for(let u=0;u<l.length;u++){const f=l[u];f.isLink&&(!e||f.t===e)&&r.check(f)&&o.push(f.toFormattedObject(r))}return o}function lz(n){return n.length===1?n[0].isLink:n.length===3&&n[1].isLink?["()","[]"].includes(n[0].value+n[2].value):!1}function sz(n){return new Tt({key:new gn("autolink"),appendTransaction:(e,t,r)=>{const l=e.some(h=>h.docChanged)&&!t.doc.eq(r.doc),o=e.some(h=>h.getMeta("preventAutolink"));if(!l||o)return;const{tr:u}=r,f=ND(t.doc,[...e]);if(PD(f).forEach(({newRange:h})=>{const m=DD(r.doc,h,v=>v.isTextblock);let y,b;if(m.length>1?(y=m[0],b=r.doc.textBetween(y.pos,y.pos+y.node.nodeSize,void 0," ")):m.length&&r.doc.textBetween(h.from,h.to," "," ").endsWith(" ")&&(y=m[0],b=r.doc.textBetween(y.pos,h.to,void 0," ")),y&&b){const v=b.split(" ").filter(A=>A!=="");if(v.length<=0)return!1;const S=v[v.length-1],T=y.pos+b.lastIndexOf(S);if(!S)return!1;const C=Qm(S).map(A=>A.toObject(n.defaultProtocol));if(!lz(C))return!1;C.filter(A=>A.isLink).map(A=>({...A,from:T+A.start+1,to:T+A.end+1})).filter(A=>r.schema.marks.code?!r.doc.rangeHasMark(A.from,A.to,r.schema.marks.code):!0).filter(A=>n.validate(A.value)).filter(A=>n.shouldAutoLink(A.value)).forEach(A=>{Hm(A.from,A.to,r.doc).some(O=>O.mark.type===n.type)||u.addMark(A.from,A.to,n.type.create({href:A.href}))})}}),!!u.steps.length)return u}})}function oz(n){return new Tt({key:new gn("handleClickLink"),props:{handleClick:(e,t,r)=>{var l,o;if(r.button!==0||!e.editable)return!1;let u=r.target;const f=[];for(;u.nodeName!=="DIV";)f.push(u),u=u.parentNode;if(!f.find(b=>b.nodeName==="A"))return!1;const d=yC(e.state,n.type.name),h=r.target,m=(l=h==null?void 0:h.href)!==null&&l!==void 0?l:d.href,y=(o=h==null?void 0:h.target)!==null&&o!==void 0?o:d.target;return h&&m?(window.open(m,y),!0):!1}}})}function az(n){return new Tt({key:new gn("handlePasteLink"),props:{handlePaste:(e,t,r)=>{const{state:l}=e,{selection:o}=l,{empty:u}=o;if(u)return!1;let f="";r.content.forEach(h=>{f+=h.textContent});const d=DC(f,{defaultProtocol:n.defaultProtocol}).find(h=>h.isLink&&h.value===f);return!f||!d?!1:n.editor.commands.setMark(n.type,{href:d.href})}}})}const uz=/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g;function Fi(n,e){const t=["http","https","ftp","ftps","mailto","tel","callto","sms","cid","xmpp"];return e&&e.forEach(r=>{const l=typeof r=="string"?r:r.scheme;l&&t.push(l)}),!n||n.replace(uz,"").match(new RegExp(`^(?:(?:${t.join("|")}):|[^a-z]|[a-z0-9+.-]+(?:[^a-z+.-:]|$))`,"i"))}const cz=Dr.create({name:"link",priority:1e3,keepOnSplit:!1,exitable:!0,onCreate(){this.options.validate&&!this.options.shouldAutoLink&&(this.options.shouldAutoLink=this.options.validate,console.warn("The `validate` option is deprecated. Rename to the `shouldAutoLink` option instead.")),this.options.protocols.forEach(n=>{if(typeof n=="string"){VS(n);return}VS(n.scheme,n.optionalSlashes)})},onDestroy(){rz()},inclusive(){return this.options.autolink},addOptions(){return{openOnClick:!0,linkOnPaste:!0,autolink:!0,protocols:[],defaultProtocol:"http",HTMLAttributes:{target:"_blank",rel:"noopener noreferrer nofollow",class:null},isAllowedUri:(n,e)=>!!Fi(n,e.protocols),validate:n=>!!n,shouldAutoLink:n=>!!n}},addAttributes(){return{href:{default:null,parseHTML(n){return n.getAttribute("href")}},target:{default:this.options.HTMLAttributes.target},rel:{default:this.options.HTMLAttributes.rel},class:{default:this.options.HTMLAttributes.class}}},parseHTML(){return[{tag:"a[href]",getAttrs:n=>{const e=n.getAttribute("href");return!e||!this.options.isAllowedUri(e,{defaultValidate:t=>!!Fi(t,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?!1:null}}]},renderHTML({HTMLAttributes:n}){return this.options.isAllowedUri(n.href,{defaultValidate:e=>!!Fi(e,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?["a",Et(this.options.HTMLAttributes,n),0]:["a",Et(this.options.HTMLAttributes,{...n,href:""}),0]},addCommands(){return{setLink:n=>({chain:e})=>{const{href:t}=n;return this.options.isAllowedUri(t,{defaultValidate:r=>!!Fi(r,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?e().setMark(this.name,n).setMeta("preventAutolink",!0).run():!1},toggleLink:n=>({chain:e})=>{const{href:t}=n;return this.options.isAllowedUri(t,{defaultValidate:r=>!!Fi(r,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?e().toggleMark(this.name,n,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run():!1},unsetLink:()=>({chain:n})=>n().unsetMark(this.name,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run()}},addPasteRules(){return[cl({find:n=>{const e=[];if(n){const{protocols:t,defaultProtocol:r}=this.options,l=DC(n).filter(o=>o.isLink&&this.options.isAllowedUri(o.value,{defaultValidate:u=>!!Fi(u,t),protocols:t,defaultProtocol:r}));l.length&&l.forEach(o=>e.push({text:o.value,data:{href:o.href},index:o.start}))}return e},type:this.type,getAttributes:n=>{var e;return{href:(e=n.data)===null||e===void 0?void 0:e.href}}})]},addProseMirrorPlugins(){const n=[],{protocols:e,defaultProtocol:t}=this.options;return this.options.autolink&&n.push(sz({type:this.type,defaultProtocol:this.options.defaultProtocol,validate:r=>this.options.isAllowedUri(r,{defaultValidate:l=>!!Fi(l,e),protocols:e,defaultProtocol:t}),shouldAutoLink:this.options.shouldAutoLink})),this.options.openOnClick===!0&&n.push(oz({type:this.type})),this.options.linkOnPaste&&n.push(az({editor:this.editor,defaultProtocol:this.options.defaultProtocol,type:this.type})),n}}),fz=({show:n,form:e,totalPrice:t,notes:r,evaluate:l})=>{const o="http://localhost:3000",u=cm(),f=R.useRef(null),d=P3({extensions:[V4.configure({HTMLAttributes:{class:"my-1"}}),cz.configure({openOnClick:!0,HTMLAttributes:{class:"text-blue-600 underline"}})],content:""}),h=async y=>{var b,v;y.preventDefault(),console.log("Notes: ",r),console.log("Evaluate: ",l),console.log("Total Price: ",t),console.log("Form ",e);try{const S=await Ie.post(`${o}/api/v1/formData`,{formData:e,clientEvaluation:l,cleanedNotes:r,t_Price:t},{headers:{Authorization:`Bearer ${u}`,"Content-Type":"application/json"}},{withCredentials:!0});console.log(S),kr.success("Data Send Successfully")}catch(S){kr.error((v=(b=S==null?void 0:S.response)==null?void 0:b.data)==null?void 0:v.message),console.log(S)}},m=async()=>{if(!d)return;const y=d.getHTML(),b=d.getText();try{await navigator.clipboard.write([new ClipboardItem({"text/html":new Blob([y],{type:"text/html"}),"text/plain":new Blob([b],{type:"text/plain"})})]),kr.success("Copied")}catch(v){console.error(v),kr.error("Failed to copy")}};return R.useEffect(()=>{if(d&&e){let y=3,b="";e.incorporation&&(b+=`<strong>[${y++}] Register Limited company </strong><br/>You can incorporate business through Companies House services - <a href="https://www.gov.uk/limited-company-formation/register-your-company">https://www.gov.uk/limited-company-formation/register-your-company</a> 
      The Companies House incorporation fee is 50 and can be paid by debit or credit card at the time of incorporation.
      Company is usually registered within 24 hours and will usually be set up for Corporation Tax at the same time. <br/><br/>`),e.mettle_freeAgent&&(b+=`<strong>[${y++}] Mettle & FreeAgent </strong><br/>You can open business bank account with Mettle (by Natwest) for your business and you will get access to FreeAgent (accounting software) for free.
      You can read more about Mettle here - <a href="https://www.mettle.co.uk">https://www.mettle.co.uk</a> 
      FreeAgent software is here - <a href="https://www.freeagent.com/en/">https://www.freeagent.com/en/</a><br/><br/>`),e.virtualAddress&&(b+=`<strong>[${y++}] Registered Business Address </strong><br/>If you do not want to use your home address to be publicly available (on Companies House) then you can consider the serviced virtual address.
      Some options below but you can search on Google and find the one that suits you better or are closest to your location.
      <br/> <a href="https://yourvirtualofficelondon.co.uk">https://yourvirtualofficelondon.co.uk</a>
      <br/> <a href="https://yourvirtualofficelondon.co.uk">https://yourvirtualofficelondon.co.uk</a><br/><br/>`),e.trustPilot&&(b+=`<strong>[${y++}] Reviews </strong><br/>100's of clients have trusted Digital Accountant with their Accounting and Taxation needs. Feel free to check reviews from our existing clients.
      Trustpilot - <a href="https://uk.trustpilot.com/review/digital-accountant.co.uk">https://uk.trustpilot.com/review/digital-accountant.co.uk</a><br/><br/>`),d.commands.setContent(`
        <div>
        Hey ${e.clientName},<br/><br/>
        I hope you are well.<br/><br/>
        It was great to catch up with you. As per our conversation, please see the information regarding ${e.tradingName}
        <br/><br/>
  

         <strong>[1] Monthly services</strong><br/><br/> 


  The quote is based on your provided information - <strong>${t.toFixed(2)} + VAT 20%</strong><br/>
  (50% will be off for the first 3 Months)<br/><br/>

Services Offered in the quoted price:
<br/>
${e.accountingSection?`<strong>Accounting</strong> - This includes accounting advice, Statutory Accounts completion (for businesses ${e.salesRange}/year);<br/>`:""}
${e.bookkeepingSection?`<strong>Bookkeeping</strong> - Reviewing and reconciling ${e.transactionsPerMonth} transactions per month;<br/>`:""}
${e.VATSection?`<strong>VAT Returns</strong> - This includes VAT Returns ${e.range} per ${e.frequency};<br/>`:""}
${e.AssetSection?`<strong>Asset Register</strong> - This includes asset registration of ${e.fixedAssets} assets;<br/>`:""}
${e.payrollSection?`<strong>Payroll</strong> - This includes running payroll for ${e.employeeCount}  employee(s);<br/>`:""}
${e.pensionSection?`<strong>Pension</strong> - This includes handle pension for ${e.pensionEmployeeCount} employee(s);<br/>`:""}
${e.CISSection?`<strong>CIS</strong> - This includes CIS Registration of ${e.contractorsCount} contractors per ${e.reportingFrequency};<br/>`:""}
${e.multiCurrencySection?"<strong>Multi-currency</strong> - This includes transactions in multiple currencies;<br/>":""}
${e.custom1Section?`<strong>${e.custom1Name}</strong> - ${e.custom1Description};<br/>`:""}
${e.custom2Section?`<strong>${e.custom2Name}</strong> - ${e.custom2Description};<br/>`:""}
${e.pandlePRO?"<strong>Software</strong> - Free access to accounting software Pandle PRO;<br/>":""}


<br/>
  Any additional work required which is not covered by the Services Offered will be agreed upon with you and charged at an hourly rate of <strong>33.00 + VAT</strong> or a set fee (Historic work, Registration for or deregistration from VAT/PAYE/CIS/Pension and other taxes, Training, Dealing with queries on your behalf (incl. calls to HMRC), Director Self Assessment, Confirmation Statement, Additional reporting, etc.)
<br/><br/>
<strong>[2] Onboarding fee </strong><br/>

There is a one-off set-up fee of <strong>${e.onboardingfee}</strong> for new clients.<br/><br/>

        ${b}


  Let me know if the prices are okay with you and my team will start with the onboarding process.
  <br/><br/>


Kind regards,  
<br />
Rita Krekovska ACMA CGMA MiP<br />
Digital Accountant <br/><br/>

  E: <a href="mailto:info@digital-accountant.co.uk">info@digital-accountant.co.uk</a><br />
  P: 07757307576<br />
  W: <a href="https://www.digital-accountant.co.uk" target="_blank">www.digital-accountant.co.uk</a><br />
  YT: <a href="https://www.youtube.com/c/DigitalAccountant" target="_blank">https://www.youtube.com/c/DigitalAccountant</a>
</div>

      `)}},[d,e,t]),R.useEffect(()=>{n&&f.current&&f.current.scrollIntoView({behavior:"smooth",block:"start"})},[n]),n?k.jsxs("div",{className:"relative border border-gray-300 rounded-lg shadow-sm",children:[k.jsx("div",{className:"flex justify-center m-2 text-xl font-bold",children:"Quote"}),k.jsxs("button",{onClick:m,className:"absolute top-3 right-6 z-10 bg-gray-100 hover:bg-gray-200 px-4 py-2 rounded-lg flex items-center gap-2 text-gray-700 font-medium cursor-pointer",children:[k.jsx(IA,{className:"w-5 h-5"}),"Copy"]}),k.jsx("div",{ref:f,className:"min-h-[600px] max-h-[400px] overflow-auto",children:k.jsx(O3,{className:"m-5 border border-gray-300 p-2 rounded bg-white",editor:d})}),k.jsx("div",{className:"my-8 flex justify-center",children:k.jsx("div",{children:k.jsx("button",{onClick:h,className:"flex items-center font-medium py-2 px-4 rounded-lg transition duration-400 ease-in-out active:scale-[0.98] cursor-pointer",style:{backgroundColor:ne.primary,color:"white"},children:"Save Quote & Generate Contract"})})})]}):null},dz=({data:n,setData:e})=>{const t=f=>{e(d=>({...d,clientComment:f.target.value}))},r={id:"clientComment",label:"Any Comments",type:"text",value:n.clientComment,onChangeFunction:t,placeholder:"Comment",isCustom:!0},l=(f,d)=>{console.log(n),e(h=>({...h,[f]:d}))},o=(f,d)=>n[f]===d,u=[{key:"How easy is to communicate with the client?",label:"How easy is to communicate with the client?",values:["Easy","Normal","Hard"]},{key:"How Good is the client's Business?",label:"How Good is the client's Business?",values:["Not Good","Average","Very Good"]},{key:"Is the client interested in the services or just time waste?",label:"Is the client interested in the services or just time waste?",values:["Time Consuming","Cann't say for sure","Interested"]}];return k.jsxs(k.Fragment,{children:[k.jsx("table",{className:"w-full mt-5 border border-collapse text-center cursor-pointer",children:k.jsx("tbody",{children:u.map(f=>k.jsxs("tr",{className:"border",children:[k.jsx("td",{className:"border px-2 py-3",children:f.label}),f.values.map((d,h)=>k.jsx("td",{className:`border px-2 py-3  ${o(f.key,d)?"bg-blue-400 text-white font-semibold":"hover:bg-gray-200"}`,onClick:()=>l(f.key,d),children:d},h))]},f.key))})}),k.jsx("div",{className:"flex gap-5 mt-5 items-center"}),k.jsx("div",{className:"grid grid-cols-1 md:grid-cols-1 gap-5",children:k.jsx(Ot,{data:r})})]})};function hz({sideNotes:n}){Vc();const e="http://localhost:3000",[t,r]=R.useState({}),[l,o]=R.useState([]),[u,f]=R.useState([]),[d,h]=R.useState(0),[m,y]=R.useState(!1),[b,v]=R.useState({clientComment:""}),S=cm(),T=n.split(`
`).map(et=>et.trim()).filter(et=>et!="").join(`
`),[C,A]=R.useState({clientName:"",tradingName:"",phoneNumber:"",email:"",businessType:"",onboardingfee:"",accountingSection:!0,salesRange:"",salesPrice:0,isCustomSalesPrice:!1,customSalesPrice:0,bookkeepingSection:!0,transactionsPerMonth:"",transactionsPrice:0,isCustomBookkeepingPrice:!1,customBookkeepingPrice:0,VATSection:!0,range:"",rangePrice:0,frequency:"",frequencyOffset:0,VATScheme:"",totalVATPrice:0,isCustomVATPrice:!1,customVATPrice:0,AssetSection:!0,fixedAssets:"",assetsPrice:0,isCustomAssetPrice:!1,customAssetPrice:0,payrollSection:!0,employeeCount:"",payrollPrice:0,payrollFrequency:"",employementAllowance:"",isCustomPayrollPrice:!1,customPayrollPrice:null,pensionSection:!0,pensionEmployeeCount:"",pensionPrice:0,isCustomPensionPrice:!1,customPensionPrice:0,CISSection:!0,contractorsCount:"",contractorsPrice:0,reportingFrequency:"",offset:0,totalCISPrice:0,isCustomCISPrice:!1,customCISPrice:"",multiCurrencySection:!0,currencyPrice:0,isCustomCurrencyPrice:!1,customCurrencyPrice:0,custom1Section:!1,custom1Name:"",custom1Description:"",custom1Price:0,custom2Section:!1,custom2Name:"",custom2Description:"",custom2Price:0,startDate:"",industry:"",riskScoreData:{},riskType:"",incorporation:!1,mettle_freeAgent:!1,virtualAddress:!1,trustPilot:!1,pandlePRO:!1,contractDate:"",addedBy:"Rita"});console.log(C),R.useEffect(()=>{Ie.get(`${e}/api/v1/getPrice`).then(et=>{r(et.data.data),console.log(et.data)}).catch(et=>{console.error("Error fetching form options:",et)})},[]),R.useEffect(()=>{const et=Number(C.rangePrice)+Number(C.frequencyOffset);A(jt=>({...jt,totalVATPrice:et.toFixed(2)}))},[C.rangePrice,C.frequencyOffset]),R.useEffect(()=>{const et=Number(C.contractorsPrice)*Number(C.offset);A(jt=>({...jt,totalCISPrice:et.toFixed(2)}))},[C.contractorsPrice,C.offset]),R.useEffect(()=>{C.businessType=="ST"?(f(t.bookkeepingRange_ST||[]),o(t.salesRange_ST||[])):C.businessType=="LTD"?(f(t.bookkeepingRange_LTD||[]),o(t.salesRange_LTD||[])):(o([]),f([])),A(et=>({...et,salesRange:"",salesPrice:"",transactionsPerMonth:"",transactionsPrice:""}))},[C.businessType,t]),R.useEffect(()=>{const et=bM.reduce((jt,Be)=>{if(!C[Be.isSection])return jt+0;const ke=C[Be.isCustom],_t=Number(ke?C[Be.customPrice]||0:C[Be.defaultPrice]||0);return jt+_t},0);h(et)},[C]);const O=(et,jt=null)=>{if(jt)A(Be=>({...Be,[jt]:!Be[jt]}));else{const{name:Be,value:ke,type:_t,checked:Ai}=et.target;if(console.log("Name:",Be,"Value:",ke,"Type:",_t,"Checked",Ai),_t=="button"&&C.riskScoreData.client&&C.riskScoreData.geographical&&C.riskScoreData.industry&&C.riskScoreData.transactional?A(ve=>({...ve,riskType:ke})):_t=="button"&&kr(()=>k.jsxs("span",{children:[k.jsx(JA,{className:"inline mr-2"}),"Please select All risk levels"]})),Be=="salesRange"){const ve=Me.dataOption.find(Ce=>Ce.label==ke);A(Ce=>({...Ce,salesRange:ke,salesPrice:ve?ve.price:""}))}if(Be=="transactionsPerMonth"){const ve=nn.dataOption.find(Ce=>Ce.label==ke);A(Ce=>({...Ce,transactionsPerMonth:ke,transactionsPrice:ve?ve.price:""}))}if(Be=="range"){const ve=t.VAT_range.find(Ce=>Ce.label==ke);A(Ce=>({...Ce,range:ke,rangePrice:ve?ve.price:""}))}if(Be=="frequency"){const ve=t.VAT_frequency.find(Ce=>Ce.label==ke);A(Ce=>({...Ce,frequency:ke,frequencyOffset:ve?ve.price:""}))}if(Be=="fixedAssets"){const ve=t.asset.find(Ce=>Ce.label==ke);A(Ce=>({...Ce,fixedAssets:ke,assetsPrice:ve?ve.price:""}))}if(Be=="employeeCount"){const ve=t.payroll.find(Ce=>Ce.label==ke);A(Ce=>({...Ce,employeeCount:ke,payrollPrice:ve?ve.price:""}))}if(Be=="pensionEmployeeCount"){const ve=t.pension.find(Ce=>Ce.label==ke);A(Ce=>({...Ce,pensionEmployeeCount:ke,pensionPrice:ve?ve.price:""}))}if(Be=="contractorsCount"){const ve=t.CIS.find(Ce=>Ce.label==ke);A(Ce=>({...Ce,contractorsCount:ke,contractorsPrice:ve?ve.price:""}))}if(Be=="reportingFrequency"){const ve=t.CIS_frequency.find(Ce=>Ce.label==ke);A(Ce=>({...Ce,reportingFrequency:ke,offset:ve?ve.price:""}))}_t==="checkbox"?A(ve=>({...ve,[Be]:Ai})):_t!="button"&&A(ve=>({...ve,[Be]:ke}))}},_=async et=>{var jt,Be;try{const ke=await Ie.post(`${e}/api/v1/formData`,{formData:C,clientEvaluation:b,cleanedNotes:T,t_Price:d},{headers:{Authorization:`Bearer ${S}`,"Content-Type":"application/json"}},{withCredentials:!0});console.log(ke)}catch(ke){kr.error((Be=(jt=ke==null?void 0:ke.response)==null?void 0:jt.data)==null?void 0:Be.message),console.log(ke)}},G={id:"clientName",label:"Client Name",type:"text",value:C.clientName,onChangeFunction:O,placeholder:"Enter Client Name",isCustom:!0},q={id:"tradingName",label:"Trading Name",type:"text",value:C.tradingName,onChangeFunction:O,placeholder:"Enter Trading Name",isCustom:!0},J={id:"phoneNumber",label:"Phone No.",type:"text",value:C.phoneNumber,onChangeFunction:O,placeholder:"Enter Phone number",isCustom:!0},re={id:"email",label:"Email",type:"email",value:C.email,onChangeFunction:O,placeholder:"Enter Email Address",isCustom:!0},ce={id:"businessType",label:"Business Type",value:C.businessType,onChangeFunction:O,placeholder:"Select Business Type",dataOption:[{value:"ST",label:"ST"},{value:"LTD",label:"LTD"}],isCustom:!0},W={id:"onboardingfee",label:"Onboarding Fee",checked:C.onboardingfee,onChangeFunction:O,placeholder:"Select Onboarding Fee",dataOption:[{value:29.95,label:"29.95"},{value:49.95,label:"49.95"},{value:59.95,label:"59.95"}],isCustom:!0},Me={id:"salesRange",label:"Sales Range",value:C.salesRange,onChangeFunction:O,placeholder:"Select Sales Range",dataOption:l},Je={id:"salesPrice",label:"Sales Price",type:"text",value:C.salesPrice,onChangeFunction:O,placeholder:""},Fe={id:"customSalesPrice",label:"Custom Price",type:"number",value:C.customSalesPrice,onChangeFunction:O,placeholder:"Price",isCustom:C.isCustomSalesPrice},nn={id:"transactionsPerMonth",label:"Transaction Per Month",value:C.transactionsPerMonth,onChangeFunction:O,placeholder:"Select Transactions",dataOption:u},rn={id:"transactionsPrice",label:"Transactions Price",type:"number",value:C.transactionsPrice,onChangeFunction:O,placeholder:""},Ge={id:"customBookkeepingPrice",label:"Custom Price",type:"number",value:C.customBookkeepingPrice,onChangeFunction:O,placeholder:"Price",isCustom:C.isCustomBookkeepingPrice},H={id:"range",label:"VAT Range",value:C.range,onChangeFunction:O,placeholder:"Select Range",dataOption:(t==null?void 0:t.VAT_range)??[]},Y={id:"rangePrice",label:"Range Price",type:"number",value:C.rangePrice,onChangeFunction:O,placeholder:""},oe={id:"frequency",label:"Frequency",value:C.frequency,onChangeFunction:O,placeholder:"Select Frequency",dataOption:(t==null?void 0:t.VAT_frequency)??[]},Re={id:"frequencyOffset",label:"Offset",type:"number",value:C.frequencyOffset,onChangeFunction:O,placeholder:""},M={id:"VATScheme",label:"VAT Scheme",checked:C.VATScheme,onChangeFunction:O,placeholder:"Select Scheme",dataOption:[{value:"STD Cash",label:"STD Cash"},{value:"Invoice",label:"Invoice"},{value:"Flat FRS",label:"Flat FRS"}]},F={id:"totalVATPrice",label:"Total Price",type:"number",value:C.totalVATPrice,onChangeFunction:O,placeholder:""},Z={id:"customVATPrice",label:"Custom Price",type:"number",value:C.customVATPrice,onChangeFunction:O,placeholder:"Price",isCustom:C.isCustomVATPrice},X={id:"fixedAssets",label:"Asset Range",value:C.fixedAssets,onChangeFunction:O,placeholder:"Select Range",dataOption:(t==null?void 0:t.asset)??[]},le={id:"assetsPrice",label:"Asset Price",type:"number",value:C.assetsPrice,onChangeFunction:O,placeholder:""},Ae={id:"customAssetPrice",label:"Custom Price",type:"number",value:C.customAssetPrice,onChangeFunction:O,placeholder:"Custom Price",isCustom:C.isCustomAssetPrice},de={id:"employeeCount",label:"Employee Count",value:C.employeeCount,onChangeFunction:O,placeholder:"Select Employee Count",dataOption:(t==null?void 0:t.payroll)??[]},zt={id:"payrollPrice",label:"Payroll Price",type:"number",value:C.payrollPrice,onChangeFunction:O,placeholder:""},Ue={id:"payrollFrequency",label:"Payroll Frequency",checked:C.payrollFrequency,onChangeFunction:O,placeholder:"Select Payroll Frequency",dataOption:[{value:"weekly",label:"Weekly"},{value:"monthly",label:"Monthly"}]},qn={id:"employementAllowance",label:"Employment Allowance",checked:C.employementAllowance,onChangeFunction:O,placeholder:"Select Employment Allowance",dataOption:[{value:"yes",label:"Yes"},{value:"no",label:"No"}]},Cs={id:"customPayrollPrice",label:"Custom Price",type:"number",value:C.customPayrollPrice,onChangeFunction:O,placeholder:"",isCustom:C.isCustomPayrollPrice},hl={id:"pensionEmployeeCount",label:"Employee Count",value:C.pensionEmployeeCount,onChangeFunction:O,placeholder:"Select Employee Count",dataOption:(t==null?void 0:t.pension)??[]},Es={id:"pensionPrice",label:"Pension Price",type:"number",value:C.pensionPrice,onChangeFunction:O,placeholder:""},Ts={id:"customPensionPrice",label:"Custom Price",type:"number",value:C.customPensionPrice,onChangeFunction:O,placeholder:"",isCustom:C.isCustomPensionPrice},ks={id:"contractorsCount",label:"CIS Contractors",value:C.contractorsCount,onChangeFunction:O,placeholder:"Select CIS Contractors",dataOption:(t==null?void 0:t.CIS)??[]},ff={id:"contractorsPrice",label:"Price",type:"number",value:C.contractorsPrice,onChangeFunction:O,placeholder:""},df={id:"reportingFrequency",label:"Reporting Frequency",value:C.reportingFrequency,onChangeFunction:O,placeholder:"Select Frequency",dataOption:(t==null?void 0:t.CIS_frequency)??[]},yn={id:"offset",label:"Offset",type:"number",value:C.offset,onChangeFunction:O,placeholder:""},hf={id:"totalCISPrice",label:"Total Price",type:"number",value:C.totalCISPrice,onChangeFunction:O,placeholder:""},fa={id:"customCISPrice",label:"Custom Price",type:"number",value:C.customCISPrice,onChangeFunction:O,placeholder:"",isCustom:C.isCustomCISPrice},da={id:"currencyPrice",label:"Multi Currency Charges",value:C.currencyPrice,onChangeFunction:O,placeholder:"Select Amount",dataOption:(t==null?void 0:t.multi_Currency)??[]},pl={id:"customCurrencyPrice",label:"Custom Price",type:"number",value:C.customCurrencyPrice,onChangeFunction:O,placeholder:"",isCustom:C.isCustomCurrencyPrice},pf={id:"custom1Name",label:"Service Name",type:"text",value:C.custom1Name,onChangeFunction:O,placeholder:"Enter Service Name",isCustom:!0},ha={id:"custom1Description",label:"Service Description",value:C.custom1Description,onChangeFunction:O,placeholder:"Enter Service Description",rows:3,cols:20},mf={id:"custom1Price",label:"Service Price",type:"number",value:C.custom1Price,onChangeFunction:O,placeholder:"",classes:"col-start-4"},gf={id:"custom2Name",label:"Service Name",type:"text",value:C.custom2Name,onChangeFunction:O,placeholder:"Enter Service Name",isCustom:!0},ki={id:"custom2Description",label:"Service Description",value:C.custom2Description,onChangeFunction:O,placeholder:"Enter Service Description",rows:3,cols:20},Bt={id:"custom2Price",label:"Service Price",type:"number",value:C.custom2Price,onChangeFunction:O,placeholder:"",classes:"col-start-4"},In={id:"industry",label:"Industry Name",type:"text",value:C.industry,onChangeFunction:O,placeholder:"Enter Industry Name",isCustom:!0},Lt={id:"contractDate",label:"Contract Date",type:"date",value:C.contractDate,onChangeFunction:O,placeholder:"Select Date",classes:"",isCustom:!0},yf={id:"addedBy",label:"Added By",type:"text",value:C.addedBy,onChangeFunction:O,placeholder:"Type Name",classes:""};return k.jsxs(k.Fragment,{children:[k.jsx(mm,{}),k.jsxs("div",{className:"p-2 bg-white rounded-lg shadow-sm",style:{backgroundColor:ne.inputBg},children:[k.jsxs("div",{className:"sticky top-0 bg-white z-40 p-5 shadow-md border-0 rounded-xl m-2 flex flex-col gap-3",children:[k.jsx("div",{className:"flex flex-col md:flex-row md:justify-between",children:k.jsxs("div",{className:"flex items-center gap-5 flex-wrap",children:[k.jsx("div",{className:"text-lg font-bold",children:"Services:"}),k.jsx("div",{children:k.jsx(Ht,{label:"Accounting",name:"accountingSection",checked:C.accountingSection,onChange:O})}),k.jsx("div",{children:k.jsx(Ht,{label:"Bookkeeping",name:"bookkeepingSection",checked:C.bookkeepingSection,onChange:O})}),k.jsx("div",{children:k.jsx(Ht,{label:"VAT Returns",name:"VATSection",checked:C.VATSection,onChange:O})}),k.jsx("div",{children:k.jsx(Ht,{label:"Asset Register",name:"AssetSection",checked:C.AssetSection,onChange:O})}),k.jsx("div",{children:k.jsx(Ht,{label:"Payroll",name:"payrollSection",checked:C.payrollSection,onChange:O})}),k.jsx("div",{children:k.jsx(Ht,{label:"Pension",name:"pensionSection",checked:C.pensionSection,onChange:O})}),k.jsx("div",{children:k.jsx(Ht,{label:"CIS Registration",name:"CISSection",checked:C.CISSection,onChange:O})}),k.jsx("div",{children:k.jsx(Ht,{label:"Multi Currency",name:"multiCurrencySection",checked:C.multiCurrencySection,onChange:O})}),k.jsx("div",{children:k.jsx(Ht,{label:"Custom 1",name:"custom1Section",checked:C.custom1Section,onChange:O})}),k.jsx("div",{children:k.jsx(Ht,{label:"Custom 2",name:"custom2Section",checked:C.custom2Section,onChange:O})})]})}),k.jsxs("div",{className:"flex items-center gap-5 flex-wrap",children:[k.jsx("div",{className:"text-lg font-bold mr-[35px]",children:"Info:"}),k.jsx("div",{children:k.jsx(Ht,{label:"Incorporation",name:"incorporation",checked:C.incorporation,onChange:O})}),k.jsx("div",{children:k.jsx(Ht,{label:"Mettle & Free Agent",name:"mettle_freeAgent",checked:C.mettle_freeAgent,onChange:O})}),k.jsx("div",{children:k.jsx(Ht,{label:"Virtual Address",name:"virtualAddress",checked:C.virtualAddress,onChange:O})}),k.jsx("div",{children:k.jsx(Ht,{label:"Trust Pilot",name:"trustPilot",checked:C.trustPilot,onChange:O})}),k.jsx("div",{children:k.jsx(Ht,{label:"Pandle PRO",name:"pandlePRO",checked:C.pandlePRO,onChange:O})}),k.jsxs("div",{className:"ml-10 text-xl font-semibold ",children:["Price: ",d.toFixed(2)]})]})]}),k.jsxs("form",{onSubmit:_,children:[k.jsx(dn,{title:"Client Details",isOpenByDefault:!0,children:k.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-5",children:[k.jsx(Ot,{data:G}),k.jsx(Ot,{data:q}),k.jsx(Ot,{data:J}),k.jsx(Ot,{data:re}),k.jsx(Ut,{data:ce}),k.jsx(Ut,{data:W})]})}),k.jsx(dn,{title:"Accounting",isOpenByDefault:C.accountingSection,onChange:O,name:"accountingSection",children:k.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-5 ",children:[k.jsx(Ut,{data:Me}),k.jsx(jn,{data:Je}),k.jsx(ni,{label:"Custom Price",name:"isCustomSalesPrice",checked:C.isCustomSalesPrice,onChange:O}),k.jsx(Ot,{data:Fe})]})}),k.jsx(dn,{title:"Bookkeeping",isOpenByDefault:C.bookkeepingSection,name:"bookkeepingSection",onChange:O,children:k.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-5",children:[k.jsx(Ut,{data:nn}),k.jsx(jn,{data:rn}),k.jsx(ni,{label:"Custom Price",name:"isCustomBookkeepingPrice",checked:C.isCustomBookkeepingPrice,onChange:O}),k.jsx(Ot,{data:Ge})]})}),k.jsx(dn,{title:"VAT Returns",isOpenByDefault:C.VATSection,name:"VATSection",onChange:O,children:k.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-5",children:[k.jsx(Ut,{data:H}),k.jsx(jn,{data:Y}),k.jsx(Ut,{data:oe}),k.jsx(jn,{data:Re}),k.jsx(Ut,{data:M}),k.jsx(jn,{data:F}),k.jsx(ni,{label:"Custom Price",name:"isCustomVATPrice",checked:C.isCustomVATPrice,onChange:O}),k.jsx(Ot,{data:Z})]})}),k.jsx(dn,{title:"Asset Register",isOpenByDefault:C.AssetSection,name:"AssetSection",onChange:O,children:k.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-5",children:[k.jsx(Ut,{data:X}),k.jsx(jn,{data:le}),k.jsx(ni,{label:"Custom Price",name:"isCustomAssetPrice",checked:C.isCustomAssetPrice,onChange:O}),k.jsx(Ot,{data:Ae})]})}),k.jsx(dn,{title:"Payroll",isOpenByDefault:C.payrollSection,name:"payrollSection",onChange:O,children:k.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-5",children:[k.jsx(Ut,{data:de}),k.jsx(jn,{data:zt}),k.jsx(Ut,{data:Ue}),k.jsx(Ut,{data:qn}),k.jsx(ni,{classes:"col-start-3",label:"Custom Price",name:"isCustomPayrollPrice",checked:C.isCustomPayrollPrice,onChange:O}),k.jsx(Ot,{data:Cs})]})}),k.jsx(dn,{title:"Pension",isOpenByDefault:C.pensionSection,name:"pensionSection",onChange:O,children:k.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-5",children:[k.jsx(Ut,{data:hl}),k.jsx(jn,{data:Es}),k.jsx(ni,{label:"Custom Price",name:"isCustomPensionPrice",checked:C.isCustomPensionPrice,onChange:O}),k.jsx(Ot,{data:Ts})]})}),k.jsx(dn,{title:"CIS Registration",isOpenByDefault:C.CISSection,name:"CISSection",onChange:O,children:k.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-5",children:[k.jsx(Ut,{data:ks}),k.jsx(jn,{data:ff}),k.jsx(Ut,{data:df}),k.jsx(jn,{data:yn}),k.jsx(jn,{data:hf}),k.jsx(ni,{classes:"col-start-3",label:"Custom Price",name:"isCustomCISPrice",checked:C.isCustomCISPrice,onChange:O}),k.jsx(Ot,{data:fa})]})}),k.jsx(dn,{title:"Multi Currency",isOpenByDefault:C.multiCurrencySection,name:"multiCurrencySection",onChange:O,children:k.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-5",children:[k.jsx(Ut,{data:da}),k.jsx(ni,{classes:"col-start-3",label:"Custom Price",name:"isCustomCurrencyPrice",checked:C.isCustomCurrencyPrice,onChange:O}),k.jsx(Ot,{data:pl})]})}),k.jsxs(dn,{title:"Custom 1",isOpenByDefault:C.custom1Section,name:"custom1Section",onChange:O,children:[k.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-5",children:[k.jsx(Ot,{data:pf}),k.jsx(Au,{data:mf})]}),k.jsx("div",{className:"grid grid-cols-1 md:grid-cols-1 gap-5 mt-5",children:k.jsx(S1,{data:ha})})]}),k.jsxs(dn,{title:"Custom 2",isOpenByDefault:C.custom2Section,name:"custom2Section",onChange:O,children:[k.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-5",children:[k.jsx(Ot,{data:gf}),k.jsx(Au,{data:Bt})]}),k.jsx("div",{className:"grid grid-cols-1 md:grid-cols-1 gap-5 mt-5",children:k.jsx(S1,{data:ki})})]}),k.jsx(dn,{title:"Risk Scorecard",isOpenByDefault:!0,children:k.jsx("div",{children:k.jsx(SM,{id:C.riskType,data:C.riskScoreData,onChangeFunction:O,industry:In,setRiskData:A})})}),k.jsx(dn,{title:"Client Evaluation",isOpenByDefault:!0,children:k.jsx("div",{children:k.jsx(dz,{data:b,setData:v})})}),k.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-5 ml-3 mb-10",children:[k.jsx(Au,{data:Lt}),k.jsx(Au,{data:yf})]})]}),k.jsx("div",{className:"flex justify-center",children:k.jsx("button",{onClick:()=>{y(!m),console.log(C)},className:"flex items-center font-medium py-2 px-4 rounded-lg transition duration-400 ease-in-out active:scale-[0.98] cursor-pointer",style:{backgroundColor:ne.primary,color:"white"},children:"Generate Quote"})}),k.jsx("div",{className:"mt-5",children:k.jsx(fz,{form:C,show:m,totalPrice:d,notes:T,evaluate:b})})]})]})}function pz(){const[n,e]=R.useState(Array(135).fill("").join(`
`)),[t,r]=R.useState(!0),l=()=>{r(!t)};return k.jsxs("div",{className:"min-h-screen flex flex-col",style:{backgroundColor:ne.background},children:[k.jsxs("header",{className:"w-full py-4 px-6 flex items-center justify-between shadow-md",style:{backgroundColor:"white",borderBottom:`1px solid ${ne.lightGray}`},children:[k.jsxs("div",{className:"flex items-center",children:[k.jsx(yp,{className:"h-6 w-6 mr-2",style:{color:ne.primary}}),k.jsx("h1",{className:"text-xl font-medium",style:{color:ne.text},children:"Online Virtual Coffee"})]}),k.jsxs("div",{className:"flex items-center",children:[k.jsx("h1",{}),k.jsx(yM,{})]})]}),k.jsxs("div",{className:"flex flex-1 relative",children:[k.jsx("main",{className:"flex-1 p-6",children:k.jsx(hz,{sideNotes:n})}),k.jsx("button",{onClick:l,className:"fixed top-18 right-0 z-10 p-2 rounded-l-md shadow-md transition-all duration-300 border-1",style:{backgroundColor:"white",color:ne.primary,transform:t?"translateX(-380px)":"translateX(0)"},children:t?k.jsx(PA,{size:20}):k.jsx(jA,{size:20})}),k.jsxs("aside",{className:"transition-all duration-300 border-l flex flex-col",style:{width:t?"380px":"0",opacity:t?1:0,overflow:"hidden",borderColor:ne.lightGray,backgroundColor:"white"},children:[k.jsx("div",{className:"p-4 border-b",style:{borderColor:ne.lightGray},children:k.jsx("h2",{className:"font-medium text-center",style:{color:ne.text},children:"Notes"})}),k.jsx("div",{className:"flex-1 p-4",children:k.jsx("div",{className:"h-full w-full rounded-md overflow-hidden",style:{backgroundColor:"white",boxShadow:"0 1px 3px rgba(0,0,0,0.1)"},children:k.jsx("textarea",{value:n,onChange:o=>e(o.target.value),placeholder:"Write your notes here...",className:"w-full h-full p-4 resize-none outline-none",style:{color:ne.text,lineHeight:"1.5rem",backgroundImage:`
                    linear-gradient(transparent, transparent 1.4rem, ${ne.lineColor} 1.4rem, ${ne.lineColor} 1.5rem, transparent 1.5rem)
                  `,backgroundSize:"100% 1.5rem",paddingTop:"1.5rem",backgroundColor:"transparent",backgroundAttachment:"local"}})})})]})]})]})}const mz=({children:n})=>{const{isAuthenticated:e}=fm();return e?n:k.jsx(om,{to:"/",replace:!0})},gz=()=>k.jsxs(Ik,{children:[k.jsx(mp,{path:"/",element:k.jsx(gM,{})}),k.jsx(mp,{path:"/dashboard",element:k.jsx(mz,{children:k.jsx(pz,{})})})]});function yz(){return k.jsx(k.Fragment,{children:k.jsx(wA,{children:k.jsx(hA,{children:k.jsx(gz,{})})})})}WT.createRoot(document.getElementById("root")).render(k.jsx(R.StrictMode,{children:k.jsx(yz,{})}));
